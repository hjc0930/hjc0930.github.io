<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>随记 - 博客</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="博客"><meta name="msapplication-TileImage" content="https://hjc0930.oss-cn-hangzhou.aliyuncs.com/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="记录了一些日常开发碰到的问题"><meta property="og:type" content="blog"><meta property="og:title" content="随记"><meta property="og:url" content="https://hjc0930.github.io/%E9%9A%8F%E8%AE%B0/"><meta property="og:site_name" content="博客"><meta property="og:description" content="记录了一些日常开发碰到的问题"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://hjc0930.github.io/img/og_image.png"><meta property="article:published_time" content="2023-04-06T14:05:14.828Z"><meta property="article:modified_time" content="2023-04-06T14:05:14.828Z"><meta property="article:author" content="hjc"><meta property="article:tag" content="前端"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://hjc0930.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hjc0930.github.io/%E9%9A%8F%E8%AE%B0/"},"headline":"随记","image":["https://hjc0930.github.io/img/og_image.png"],"datePublished":"2023-04-06T14:05:14.828Z","dateModified":"2023-04-06T14:05:14.828Z","author":{"@type":"Person","name":"hjc"},"publisher":{"@type":"Organization","name":"博客","logo":{"@type":"ImageObject","url":"https://hjc0930.oss-cn-hangzhou.aliyuncs.com/logo.png"}},"description":"记录了一些日常开发碰到的问题"}</script><link rel="canonical" href="https://hjc0930.github.io/%E9%9A%8F%E8%AE%B0/"><link rel="icon" href="https://hjc0930.oss-cn-hangzhou.aliyuncs.com/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const $tabMenu = document.querySelector(`a[href="${location.hash}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(location.hash);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://hjc0930.oss-cn-hangzhou.aliyuncs.com/logo.png" alt="博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-04-06T14:05:14.828Z" title="2023/4/6 22:05:14">2023-04-06</time>发表</span><span class="level-item"><time dateTime="2023-04-06T14:05:14.828Z" title="2023/4/6 22:05:14">2023-04-06</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span><span class="level-item">35 分钟读完 (大约5265个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">随记</h1><div class="content"><h2 id="1-鼠标滚轮事件wheel"><a href="#1-鼠标滚轮事件wheel" class="headerlink" title="1.鼠标滚轮事件wheel"></a>1.鼠标滚轮事件<code>wheel</code></h2><p>在鼠标滚轮滚动时触发，可以用来判断页面是向上滚动还是向下滚动</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">DOMMouseScroll</span> = (<span class="params">e: WheelEvent</span>) =&gt; &#123;</span><br><span class="line">      <span class="comment">// 滚轮事件中的deltaY属性可以用来判断滚轮是向上滚动还是向下滚动</span></span><br><span class="line">      <span class="keyword">const</span> <span class="attr">log</span>: <span class="built_in">string</span> = e.<span class="property">deltaY</span> &gt; <span class="number">0</span> ? <span class="string">&#x27;向下滚动&#x27;</span> : <span class="string">&#x27;向上滚动&#x27;</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(log);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;wheel&#x27;</span>, <span class="title class_">DOMMouseScroll</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="title function_">removeEventListener</span>(<span class="string">&#x27;wheel&#x27;</span>, <span class="title class_">DOMMouseScroll</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="2-cross-env"><a href="#2-cross-env" class="headerlink" title="2. cross-env"></a>2. cross-env</h2><p>cross-env用于配置多个开发环境</p>
<ul>
<li>安装<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add cross-env --dev</span><br></pre></td></tr></table></figure></li>
<li>使用<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;start&quot;</span>: <span class="string">&quot;cross-env PORT=8080 nodemon ./bin/www&quot;</span>,</span><br><span class="line">  <span class="string">&quot;start:test&quot;</span>: <span class="string">&quot;cross-env PORT=8080 API_ENV=dev nodemon ./bin/www&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>导入配置的变量<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">PORT</span>: <span class="built_in">string</span> = process.<span class="property">env</span>.<span class="property">PORT</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">API_ENV</span>: <span class="built_in">string</span> = process.<span class="property">env</span>.<span class="property">API_ENV</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="3-export和export-default的区别"><a href="#3-export和export-default的区别" class="headerlink" title="3. export和export default的区别"></a>3. export和export default的区别</h2><ul>
<li>导出方式</li>
</ul>
<p>export可以先定义再导出，也可以在导出时再定义变量</p>
<p>export在一个模块中可以出现多次</p>
<hr>
<p>export default是模块的默认导出方式，只能导出已经定义好的变量</p>
<p>export default在模块中只能出现一次</p>
<ul>
<li>导入方式</li>
</ul>
<p>export导出的对象，可以使用解构的方式进行导入</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; a, b &#125; <span class="keyword">from</span> <span class="string">&#x27;aaa&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>export default导出的对象，要使用变量名的方式导入</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;变量名&#x27;</span> <span class="keyword">from</span> <span class="string">&#x27;aaa&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="4-exports和module-exports的区别"><a href="#4-exports和module-exports的区别" class="headerlink" title="4.exports和module.exports的区别"></a>4.exports和module.exports的区别</h2><p>区别在于导出方式的不同，exports导出的是模块函数，module.exports导出的是一个对象</p>
<ul>
<li>导出<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">API_ENV</span> = process.<span class="property">env</span>.<span class="property">API_ENV</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PORT</span> = process.<span class="property">env</span>.<span class="property">PORT</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">PORT</span> = <span class="variable constant_">PORT</span>;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">API_ENV</span> = <span class="variable constant_">API_ENV</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="variable constant_">PORT</span>,</span><br><span class="line">  <span class="variable constant_">API_ENV</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>导入<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="variable constant_">PORT</span>, <span class="variable constant_">API_ENV</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../config.js&#x27;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="5-git-pull冲突问题解决"><a href="#5-git-pull冲突问题解决" class="headerlink" title="5.git pull冲突问题解决"></a>5.git pull冲突问题解决</h2><h3 id="合并修改"><a href="#合并修改" class="headerlink" title="合并修改"></a>合并修改</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash <span class="comment">#封存修改</span></span><br><span class="line">git pull origin master</span><br><span class="line">git stash pop <span class="comment">#把修改还原</span></span><br></pre></td></tr></table></figure>
注：</li>
<li>git stash：备份当前工作区内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前工作区内容保存到Git栈中</li>
<li>git pull：拉取服务器上当前分支代码</li>
<li>git stash pop：从Git栈中读取最近一次保存的内容，恢复工作区相关内容。同时，用户可能进行多次stash操作，需要保证后stash的最先被取到，所以用栈（先进后出）来管理；pop取栈顶的内容并恢复</li>
<li>git stash list：显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</li>
<li>git stash clear：清空Git栈<h3 id="放弃本次修改-不建议使用"><a href="#放弃本次修改-不建议使用" class="headerlink" title="放弃本次修改(不建议使用)"></a>放弃本次修改(不建议使用)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>
<h2 id="6-CSS文本省略"><a href="#6-CSS文本省略" class="headerlink" title="6.CSS文本省略"></a>6.CSS文本省略</h2></li>
<li>单行文本省略<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">display</span>: block;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line"><span class="attribute">white-space</span>: nowrap;</span><br></pre></td></tr></table></figure></li>
<li>多行文本省略<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line"><span class="attribute">display</span>: -webkit-box;</span><br><span class="line">-webkit-box-orient: vertical;</span><br><span class="line">-webkit-line-clamp: <span class="number">3</span>;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="7-git无法切换到刚创建的远程分支"><a href="#7-git无法切换到刚创建的远程分支" class="headerlink" title="7.git无法切换到刚创建的远程分支"></a>7.git无法切换到刚创建的远程分支</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git fetch</span><br></pre></td></tr></table></figure>

<h2 id="8-JavaScript几个特殊运算符的用法"><a href="#8-JavaScript几个特殊运算符的用法" class="headerlink" title="8.JavaScript几个特殊运算符的用法"></a>8.JavaScript几个特殊运算符的用法</h2><p><strong>注：JavaScript中<code>null，undefined，false，&quot;&quot;，NaN</code>都会被判定为false</strong></p>
<ul>
<li><code>||</code>和<code>??</code>的区别</li>
</ul>
<p><code>||</code>和<code>??</code>主要用于默认值的赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// || 运算符</span></span><br><span class="line"><span class="keyword">const</span> vaule = a || b; <span class="comment">// 当左侧为 null，undefined，&quot;&quot;，false，NaN时，右侧的值会生效</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ?? 运算符</span></span><br><span class="line"><span class="keyword">const</span> value = a ?? b; <span class="comment">// 当且仅当左侧的值为 null 或 undefined时，右侧的值才会生效</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>&amp;&amp;</code>运算符</li>
</ul>
<p><code>&amp;&amp;</code>运算符一般用于短路判断，也可用于默认值的赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a &amp;&amp; b; <span class="comment">// 当且仅当 a的判断值为true时，才会执行b语句</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> value = a &amp;&amp; b; <span class="comment">// 当且仅当 a的判断值为true时，才会将b赋值给value，否则将a赋值给value</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>!!</code>运算符</li>
</ul>
<p><code>!!</code>运算符可以将值快速转换为它对应的判断值，可以在需要返回布尔值的数据遍历函数中使用(filter some find findIndex 等)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="literal">null</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(!!a); <span class="comment">// 输出 false</span></span><br></pre></td></tr></table></figure>

<h2 id="9-connect-multiparty"><a href="#9-connect-multiparty" class="headerlink" title="9.connect-multiparty"></a>9.connect-multiparty</h2><ul>
<li>可以用于express编写框架上传文件接口<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> multipart = <span class="built_in">require</span>(<span class="string">&#x27;connect-multiparty&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Oss</span> = <span class="built_in">require</span>(<span class="string">&#x27;ali-oss&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">json</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multipartMiddleware = <span class="title function_">multipart</span>(&#123;</span><br><span class="line">  <span class="attr">uploadDir</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;static&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> client = <span class="keyword">new</span> <span class="title class_">Oss</span>(&#123;</span><br><span class="line">  <span class="attr">endpoint</span>: <span class="string">&#x27;You endpint&#x27;</span>,</span><br><span class="line">  <span class="attr">accessKeyId</span>: <span class="string">&#x27;You AccessKeyId&#x27;</span>,</span><br><span class="line">  <span class="attr">accessKeySecret</span>: <span class="string">&#x27;You AccessKeySecret&#x27;</span>,</span><br><span class="line">  <span class="attr">bucket</span>: <span class="string">&#x27;You Bucket&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/test&#x27;</span>, multipartMiddleware, <span class="keyword">async</span> (req, res) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> file = <span class="title class_">Object</span>.<span class="title function_">values</span>(req.<span class="property">files</span>)[<span class="number">0</span>];</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(file);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> client.<span class="title function_">put</span>(<span class="string">`express-test/<span class="subst">$&#123;file.name&#125;</span>`</span>, file.<span class="property">path</span>);</span><br><span class="line">    res.<span class="title function_">send</span>(result.<span class="property">url</span>);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    res.<span class="title function_">send</span>(error);</span><br><span class="line">    <span class="keyword">throw</span> error;</span><br><span class="line">  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    fs.<span class="title function_">unlinkSync</span>(file.<span class="property">path</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http//127.0.0.1:3000&#x27;</span>));</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="10-midway-js上传图片接口demo"><a href="#10-midway-js上传图片接口demo" class="headerlink" title="10.midway.js上传图片接口demo"></a>10.midway.js上传图片接口demo</h2><ul>
<li><p>具体可以参考egg官网的上传图片demo</p>
</li>
<li><p>下载<code>egg-oss</code></p>
</li>
<li><p>如果采用<code>Stream</code>模式上传文件，还需要下载<code>stream-wormhole</code>依赖</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Controller</span>, <span class="title class_">Post</span>, <span class="title class_">Provide</span>, <span class="title class_">Inject</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@midwayjs/decorator&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Context</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;egg&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> sendToWormhole = <span class="built_in">require</span>(<span class="string">&#x27;stream-wormhole&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Provide</span>()</span><br><span class="line"><span class="meta">@Controller</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">ClientController</span> &#123;</span><br><span class="line">  <span class="meta">@Inject</span>()</span><br><span class="line">  <span class="attr">ctx</span>: <span class="title class_">Context</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * file方式图片上传</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Post</span>(<span class="string">&#x27;/test/file&#x27;</span>)</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">testClient</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> file = <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">request</span>.<span class="property">files</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">`egg-multipart-test/<span class="subst">$&#123;path.basename(file.filename)&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="attr">result</span>: <span class="built_in">any</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      result = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">oss</span>.<span class="title function_">put</span>(name, file.<span class="property">filepath</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      fs.<span class="title function_">unlinkSync</span>(file.<span class="property">filepath</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;图片上传成功&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: result.<span class="property">url</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Stream方式图片上传</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Post</span>(<span class="string">&#x27;/test/file&#x27;</span>)</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">testClient</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> stream = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="title function_">getFileStream</span>();</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">&#x27;egg-multipart-test/&#x27;</span> + path.<span class="title function_">basename</span>(stream.<span class="property">filename</span>);</span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      result = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">ctx</span>.<span class="property">oss</span>.<span class="title function_">putStream</span>(name, stream);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">sendToWormhole</span>(stream);</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(err);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;图片上传成功&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: result.<span class="property">url</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="11-React对props-children的操作"><a href="#11-React对props-children的操作" class="headerlink" title="11.React对props.children的操作"></a>11.React对props.children的操作</h2><ul>
<li>children类似与Vue中的插槽语法，但会比后者灵活得多，在TypeScript中，children的类型一般被定义为<code>React.ReactNode | React.ReactNode[]</code></li>
<li>React提供了相应的Api来操作children</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  React.Children.map(props.children, (childItem, index) =&gt; (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &#123;childItem&#125;</span><br><span class="line">      &#123;index !== props.children.length - 1 &amp;&amp; &lt;Divider type=&quot;vertical&quot; /&gt;&#125;</span><br><span class="line">    &lt;/&gt;</span><br><span class="line">  ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;React.Children.map(props.children, (childItem, i) =&gt; &#123;</span><br><span class="line">  if (i &lt; 1) return</span><br><span class="line">  return child</span><br><span class="line">&#125;)&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-BigInt"><a href="#12-BigInt" class="headerlink" title="12.BigInt"></a>12.BigInt</h2><ul>
<li>BigInt是一种新的数据类型，用于当整数值大于Number数据类型支持的范围时。这种数据类型允许我们安全地对大整数执行算术操作，表示高分辨率的时间戳，使用大整数id，等等，而不需要使用库</li>
<li>创建 bigint 的方式有两种：在一个整数字面量后面加 n 或者调用 BigInt 函数，该函数从字符串、数字等中生成 bigint。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bigint = <span class="number">1234567890123456789012345678901234567890n</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="keyword">const</span> sameBigint = <span class="title class_">BigInt</span>(<span class="string">&quot;1234567890123456789012345678901234567890&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h3></li>
<li><code>BigInt</code>大多数情况下可以像常规数字类型一样使用，计算后的返回值也是<code>BigInt</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="number">1n</span> + <span class="number">2n</span>); <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">alert</span>(<span class="number">5n</span> / <span class="number">2n</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li>
<li><code>BigInt</code>不能和<code>number</code>类型混用<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="number">1n</span> + <span class="number">2</span>); <span class="comment">// Error: Cannot mix BigInt and other types</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="13-qs-axios-paramsSerializer"><a href="#13-qs-axios-paramsSerializer" class="headerlink" title="13.qs axios paramsSerializer"></a>13.qs axios paramsSerializer</h2><ul>
<li>axios在发起get请求时如果遇到数组可以使用<code>paramsSerializer</code>和<code>qs</code>进行参数的序列化</li>
<li>可以通过<code>yarn add qs</code>进行安装qs依赖包<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">axios.get(url, &#123;</span><br><span class="line">  params,</span><br><span class="line">  paramsSerializer: (params) =&gt; &#123;</span><br><span class="line">      return qs.stringify(params, &#123;arrayFormat: &#x27;repeat&#x27;&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li>其他示例<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//形式： ids=1&amp;ids=2&amp;id=3</span><br><span class="line">qs.stringify(&#123;ids: [1, 2, 3]&#125;, &#123; indices: false &#125;)</span><br><span class="line">//形式： ids[0]=1&amp;aids1]=2&amp;ids[2]=3</span><br><span class="line">qs.stringify(&#123;ids: [1, 2, 3]&#125;, &#123;arrayFormat: ‘indices‘&#125;)</span><br><span class="line">//形式：ids[]=1&amp;ids[]=2&amp;ids[]=3</span><br><span class="line">qs.stringify(&#123;ids: [1, 2, 3]&#125;, &#123;arrayFormat: ‘brackets‘&#125;)</span><br><span class="line">//形式： ids=1&amp;ids=2&amp;id=3</span><br><span class="line">qs.stringify(&#123;ids: [1, 2, 3]&#125;, &#123;arrayFormat: ‘repeat‘&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="14-滚动加载相关业务"><a href="#14-滚动加载相关业务" class="headerlink" title="14.滚动加载相关业务"></a>14.滚动加载相关业务</h2><ul>
<li>三要素： scrollHeight scrollTop innerHeight和底部的高度<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">scroll</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> scrollTop = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>, <span class="variable language_">window</span>.<span class="property">scrollY</span>);</span><br><span class="line">      <span class="keyword">const</span> scrollHeight = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span>, <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>);</span><br><span class="line">      <span class="comment">// 判断滚动条是否接触底部</span></span><br><span class="line">      <span class="keyword">if</span> (scrollHeight - <span class="variable language_">window</span>.<span class="property">innerHeight</span> - scrollTop &lt; <span class="number">294</span>) &#123;</span><br><span class="line">        <span class="title function_">setAnchorAffix</span>(&#123;</span><br><span class="line">          <span class="attr">affix</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">top</span>: anchorAffix.<span class="property">affix</span> ? anchorAffix.<span class="property">top</span> : (scrollTop - <span class="number">35</span>), <span class="comment">// 144 是顶部菜单栏的高度</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setAnchorAffix</span>(&#123;</span><br><span class="line">          <span class="attr">affix</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">top</span>: <span class="number">0</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 判断右侧菜单是否开启固定定位</span></span><br><span class="line">      <span class="keyword">if</span> (scrollTop) &#123;</span><br><span class="line">        <span class="title function_">setIsFixed</span>(!anchorAffix.<span class="property">affix</span>);</span><br><span class="line">        <span class="title function_">setOffsetLeft</span>(<span class="title function_">getOffsetLeft</span>());</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setIsFixed</span>(<span class="literal">false</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, scroll);</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123; <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;scroll&#x27;</span>, scroll); &#125;;</span><br><span class="line">  &#125;, [anchorAffix.<span class="property">affix</span>]);</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="15-a链接下载导出文件"><a href="#15-a链接下载导出文件" class="headerlink" title="15.a链接下载导出文件"></a>15.a链接下载导出文件</h2><ul>
<li>a链接的download属性可以指定下载的文件名，仅在同源策略下有效<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> blob = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(res?.<span class="property">data</span>)?.[<span class="number">0</span>] <span class="keyword">as</span> string).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">blob</span>())</span><br><span class="line"><span class="keyword">const</span> aDownLoad = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> downLoadUrl = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(blob); <span class="comment">// 将下载到的文件使用createObjectURL实例化成临时的url</span></span><br><span class="line">aDownLoad.<span class="property">href</span> = downLoadUrl</span><br><span class="line">aDownLoad.<span class="property">download</span> = <span class="string">&quot;name&quot;</span>;</span><br><span class="line">aDownLoad.<span class="title function_">click</span>();</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">revokeObjectURL</span>(downLoadUrl); <span class="comment">// 下载完毕时清除临时的url</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="16-倒计时"><a href="#16-倒计时" class="headerlink" title="16.倒计时"></a>16.倒计时</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState, useEffect, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Button</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [text, setText] = <span class="title function_">useState</span>(<span class="string">&#x27;获取验证码&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> timerRef = useRef&lt;number&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    timerRef.<span class="property">current</span> &amp;&amp; <span class="built_in">clearInterval</span>(timerRef.<span class="property">current</span>);</span><br><span class="line">    <span class="keyword">let</span> time = <span class="number">10</span>;</span><br><span class="line">    timerRef.<span class="property">current</span> = <span class="variable language_">window</span>.<span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (time === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(timerRef.<span class="property">current</span>);</span><br><span class="line">        timerRef.<span class="property">current</span> = <span class="literal">undefined</span>;</span><br><span class="line">        <span class="title function_">setText</span>(<span class="string">&#x27;重新获取验证码&#x27;</span>);</span><br><span class="line">        time = <span class="number">10</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        time -= <span class="number">1</span>;</span><br><span class="line">        <span class="title function_">setText</span>(<span class="string">`<span class="subst">$&#123;time&#125;</span>后重新获取`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Button</span> <span class="attr">onClick</span>=<span class="string">&#123;handleClick&#125;</span> <span class="attr">disabled</span>=<span class="string">&#123;!!timerRef.current&#125;</span>&gt;</span>&#123;text&#125;<span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="17-锚点平滑滚动"><a href="#17-锚点平滑滚动" class="headerlink" title="17.锚点平滑滚动"></a>17.锚点平滑滚动</h2><ul>
<li>使用css的<code>scroll-behavior</code>属性</li>
<li>在<strong>滚动条</strong>所在的父元素中加入该属性，就可以实现锚点平滑滚动效果<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> style <span class="keyword">from</span> <span class="string">&#x27;./style.scss&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [arr] = <span class="title function_">useState</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;style.wrap&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&#123;style.ul1&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;arr.map((item, index) =&gt; (</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">marginBottom:</span> <span class="attr">200</span> &#125;&#125; <span class="attr">id</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">item</span>&#125;`&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        ))&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">className</span>=<span class="string">&#123;style.sidebar&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;arr.map((item, index) =&gt; (</span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span>`#$&#123;<span class="attr">item</span>&#125;`&#125;&gt;</span>&#123;item&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        ))&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// css</span></span><br><span class="line">.<span class="property">wrap</span> &#123;</span><br><span class="line">  <span class="attr">display</span>: flex;</span><br><span class="line">  justify-<span class="attr">content</span>: space-between;</span><br><span class="line"></span><br><span class="line">  .<span class="property">sidebar</span> &#123;</span><br><span class="line">    <span class="attr">position</span>: fixed;</span><br><span class="line">    <span class="attr">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attr">right</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="property">ul1</span> &#123;</span><br><span class="line">    <span class="attr">width</span>: 400px;</span><br><span class="line">    <span class="attr">height</span>: 400px;</span><br><span class="line">    overflow-<span class="attr">y</span>: scroll;</span><br><span class="line">    scroll-<span class="attr">behavior</span>: smooth;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="18-使用dayjs替换antd组件中默认的moment"><a href="#18-使用dayjs替换antd组件中默认的moment" class="headerlink" title="18.使用dayjs替换antd组件中默认的moment"></a>18.使用dayjs替换antd组件中默认的moment</h2><p>antd日期组件默认集成了momentjs这个日期处理库，这会使得打包的组件体积过大，可以使用dayjs替换antd组件中的moment</p>
<blockquote>
<p>下载<strong>dayjs</strong>: <code>npm i datjs -S</code></p>
<p>下载<strong>antd-dayjs-webpack-plugin</strong>: <code>npm i antd-dayjs-webpack-plugin -D</code></p>
</blockquote>
<h3 id="1-修改webpack配置"><a href="#1-修改webpack配置" class="headerlink" title="1.修改webpack配置"></a>1.修改webpack配置</h3><ul>
<li><p>参考: <a target="_blank" rel="noopener" href="https://github.com/ant-design/antd-dayjs-webpack-plugin">https://github.com/ant-design/antd-dayjs-webpack-plugin</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">AntdDayjsWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;antd-dayjs-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">AntdDayjsWebpackPlugin</span>()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-国际化"><a href="#2-国际化" class="headerlink" title="2.国际化"></a>2.国际化</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// ...</span><br><span class="line">import &#123; ConfigProvider &#125; from &#x27;antd&#x27;;</span><br><span class="line">import zhCN from &#x27;antd/lib/locale/zh_CN&#x27;;</span><br><span class="line">import dayjs from &#x27;dayjs&#x27;;</span><br><span class="line">import dayjsLocal from &#x27;dayjs/locale/zh-cn&#x27;;</span><br><span class="line">// ...</span><br><span class="line">// dayjs国际化</span><br><span class="line">dayjs.locale(dayjsLocal)</span><br><span class="line">const App = () =&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    /* antd国际化 */</span><br><span class="line">    &lt;ConfigProvider locale=&#123;zhCN&#125;&gt;</span><br><span class="line">      &lt;Routes /&gt;</span><br><span class="line">    &lt;/ConfigProvider&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;));</span><br></pre></td></tr></table></figure>
<h3 id="3-TypeScript声明修改"><a href="#3-TypeScript声明修改" class="headerlink" title="3. TypeScript声明修改"></a>3. TypeScript声明修改</h3></li>
<li><p>参考: <a target="_blank" rel="noopener" href="https://github.com/ant-design/antd-dayjs-webpack-plugin/issues/23">https://github.com/ant-design/antd-dayjs-webpack-plugin/issues/23</a></p>
<blockquote>
<p>若是使用TypeScript进行开发，还需要修改修改antd组件中默认的Moment声明，否则会报类型检测错误</p>
</blockquote>
</li>
<li><p>在你项目的<code>xxx.d.ts</code>中添加以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// global.d.ts</span><br><span class="line">declare module &#x27;moment&#x27; &#123;</span><br><span class="line">  import &#123; Dayjs &#125; from &#x27;dayjs&#x27;</span><br><span class="line">  namespace moment &#123;</span><br><span class="line">    type Moment = Dayjs</span><br><span class="line">  &#125;</span><br><span class="line">  export = moment</span><br><span class="line">  export as namespace moment</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="19-ts-node-dev"><a href="#19-ts-node-dev" class="headerlink" title="19.ts-node-dev"></a>19.ts-node-dev</h2><blockquote>
<p>可以实时运行TypeScript文件</p>
</blockquote>
<ul>
<li>安装 <code>npm install ts-node-dev -D</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;cross-env tsnd -P ./tsconfig.json --respawn ./src/index.ts&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;cross-env tsc&quot;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tsconfig.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;include&quot;</span>: [<span class="string">&quot;src/**/*&quot;</span>],</span><br><span class="line">  <span class="string">&quot;exclude&quot;</span>: [<span class="string">&quot;node_modules&quot;</span>],</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;target&quot;</span>: <span class="string">&quot;ES6&quot;</span>,</span><br><span class="line">    <span class="string">&quot;module&quot;</span>: <span class="string">&quot;CommonJS&quot;</span>,</span><br><span class="line">    <span class="string">&quot;allowSyntheticDefaultImports&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;esModuleInterop&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;sourceMap&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">    <span class="string">&quot;outDir&quot;</span>: <span class="string">&quot;./dist&quot;</span>,</span><br><span class="line">    <span class="string">&quot;declaration&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;declarationDir&quot;</span>: <span class="string">&quot;./dist&quot;</span>,</span><br><span class="line">    <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;Node&quot;</span>,</span><br><span class="line">    <span class="string">&quot;noImplicitAny&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;downlevelIteration&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="20-移动端适配方案"><a href="#20-移动端适配方案" class="headerlink" title="20.移动端适配方案"></a>20.移动端适配方案</h2><h3 id="px-rem-vw的转换"><a href="#px-rem-vw的转换" class="headerlink" title="px rem vw的转换"></a>px rem vw的转换</h3><ul>
<li>默认情况下根元素的<code>font-size</code>为 <code>1rem = 16px</code>，但为了方便换算，我们通常设置 <code>1rem = 100px</code></li>
<li>以750px的设计稿为例，则可以得出 750px = 7.5rem</li>
<li>相当于100vw=7.5rem那么1rem = 100vw / 7.5 = 13.3333vw，所以设置根元素的<code>font-size</code>为<code>13.3333vw</code></li>
<li>若要兼容旧浏览器，则需要写入响应式布局</li>
<li>例如<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 相当于 320 / 7.5 = 42.667px</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">320px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">42.667px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13.3333vw</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 相当于375 / 7.5 = 48px</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">321px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">375px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">48px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13.3333vw</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">376px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">393px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">52.4px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">394px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">412px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">54.93px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">413px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">414px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">55.2px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">415px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">480px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">64px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">481px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">540px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">72px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">541px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">640px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">85.33px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">641px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">720px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">96px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">721px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">102.4px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">769px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">852px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">113.4px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">853px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">130.4px</span>;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>而在页面样式中，直接将测量出的px除以100就是对应的rem值</li>
</ul>
<h3 id="viewport缩放比例设置"><a href="#viewport缩放比例设置" class="headerlink" title="viewport缩放比例设置"></a>viewport缩放比例设置</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="21-常用正则"><a href="#21-常用正则" class="headerlink" title="21.常用正则"></a>21.常用正则</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** 网址正则 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addressReg =</span><br><span class="line">  <span class="regexp">/^(https?):\/\/[\w-]+(\.[\w-]+)+([\w-.,@?^=%&amp;:/~+#]*[\w\-@?^=%&amp;/~+#])?$/</span>;</span><br><span class="line"><span class="comment">/** 邮箱 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> emailReg =</span><br><span class="line">  <span class="regexp">/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/</span>;</span><br><span class="line"><span class="comment">/** 普通固定电话验证 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> phoneNumberCnReg = <span class="regexp">/^((\d&#123;3,4&#125;)|\d&#123;3,4&#125;-|\s)?\d&#123;7,14&#125;$/</span>;</span><br><span class="line"><span class="comment">/** 中国手机 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> phoneCnReg = <span class="regexp">/^1[3456789]\d&#123;9&#125;$/</span>;</span><br><span class="line"><span class="comment">/** 汉字正则 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> regCn = <span class="regexp">/[\u4E00-\u9FFF]+/g</span>;</span><br><span class="line"><span class="comment">/** 排序序号为整数 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> intReg = <span class="regexp">/^-?[1-9]?[0-9]&#123;0,8&#125;$/</span>;</span><br><span class="line"><span class="comment">/** 版本号 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> versionReg = <span class="regexp">/^([0-9]|\d\d)(.([0-9]|\d\d))&#123;2&#125;$/</span>;</span><br><span class="line"><span class="comment">/** 银行卡号 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> validateBankCard = <span class="regexp">/^([1-9]&#123;1&#125;)(\d&#123;14&#125;|\d&#123;18&#125;)$/</span>;</span><br></pre></td></tr></table></figure>

<h2 id="22-可能会用到的网站"><a href="#22-可能会用到的网站" class="headerlink" title="22.可能会用到的网站"></a>22.可能会用到的网站</h2><h3 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h3><p><a target="_blank" rel="noopener" href="https://wangdoc.com/javascript/">https://wangdoc.com/javascript/</a></p>
<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/">https://es6.ruanyifeng.com/</a></p>
<h3 id="在线工具"><a href="#在线工具" class="headerlink" title="在线工具"></a>在线工具</h3><p><a target="_blank" rel="noopener" href="https://oktools.net/">https://oktools.net/</a></p>
<h3 id="刷题"><a href="#刷题" class="headerlink" title="刷题"></a>刷题</h3><p><a target="_blank" rel="noopener" href="https://fe.ecool.fun/">https://fe.ecool.fun/</a></p>
<h2 id="23-通过nvm安装Nodejs和管理包的全局化配置"><a href="#23-通过nvm安装Nodejs和管理包的全局化配置" class="headerlink" title="23.通过nvm安装Nodejs和管理包的全局化配置"></a>23.通过nvm安装Nodejs和管理包的全局化配置</h2><h3 id="1-nvm下载"><a href="#1-nvm下载" class="headerlink" title="1.nvm下载"></a>1.nvm下载</h3><p><strong>nvm是node.js的版本管理工具，使用nvm安装node，可以实现node版本的快速切换</strong></p>
<p>windows电脑下载<code>nvm-setup.zip</code>的安装包即可</p>
<h3 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h3><p><a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows/releases">nvm-download</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows/releases/download/1.1.7/nvm-setup.zip">nvm-setup.zip(v1.1.7)</a></p>
<h3 id="2-nvm常用的几个命令"><a href="#2-nvm常用的几个命令" class="headerlink" title="2.nvm常用的几个命令"></a>2.nvm常用的几个命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>nvm list available</strong></td>
<td><strong>显示可以安装的所有node.js的版本</strong></td>
</tr>
<tr>
<td><strong>nvm list</strong></td>
<td><strong>显示所有已安装的node.js版本</strong></td>
</tr>
<tr>
<td><strong>nvm use <version></version></strong></td>
<td><strong>切换到指定的nodejs版本</strong></td>
</tr>
<tr>
<td><strong>nvm install <version></version></strong></td>
<td><strong>安装指定版本的node.js，例如：nvm install 8.12.0</strong></td>
</tr>
<tr>
<td><strong>nvm uninstall <version></version></strong></td>
<td><strong>卸载指定版本的node.js，例如：nvm uninstall 8.12.0</strong></td>
</tr>
<tr>
<td><strong>nvm on</strong></td>
<td><strong>启用node.js版本管理</strong></td>
</tr>
<tr>
<td><strong>nvm off</strong></td>
<td><strong>禁用node.js版本管理(不卸载任何东西)</strong></td>
</tr>
</tbody></table>
<p><strong>修改nvm下载源</strong></p>
<p>在nvm目录中找到<code>setting.txt</code>添加以下代码</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node_mirror: https://npm.taobao.org/mirrors/node/</span><br><span class="line">npm_mirror: https://npm.taobao.org/mirrors/npm/</span><br></pre></td></tr></table></figure>

<h3 id="3-npm管理"><a href="#3-npm管理" class="headerlink" title="3.npm管理"></a>3.npm管理</h3><p>使用 <code>nvm</code> 时，默认的 <code>prefix</code> 是当前激活的 Node.js 版本的安装路径。</p>
<p>带来一个问题是：切换版本之后，之前安装全局命令模块需要重新安装，非常不方便。</p>
<p>解决方案是配置统一的全局模块安装路径。</p>
<p>新建<code>npm_global</code>和<code>npm_cache</code>文件夹，分别用于npm包的全局安装路径和全局cache路径</p>
<h4 id="npm查看各种全局路径的命令"><a href="#npm查看各种全局路径的命令" class="headerlink" title="npm查看各种全局路径的命令"></a>npm查看各种全局路径的命令</h4><ul>
<li><strong>查看当前npm包的全局安装路径</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm prefix -g</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看当前npm包的全局cache路径</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config get cache</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看配置列表</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config ls</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看配置列表的全部信息</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config ls -l</span><br></pre></td></tr></table></figure>

<p><strong>【注】每次使用nvm切换node版本，最好都查看一下npm全局配置路径是否失效</strong></p>
<h4 id="npm修改全局路径命令"><a href="#npm修改全局路径命令" class="headerlink" title="npm修改全局路径命令"></a>npm修改全局路径命令</h4><ul>
<li><strong>修改npm的包的全局安装路径</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set prefix &quot;E:\NodeJs\npm\npm_global&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>修改npm的包的全局cache位置</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set cache &quot;E:\NodeJs\npm\npm_cache&quot;</span><br></pre></td></tr></table></figure>

<h4 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p>将<code>npm</code>包全局安装路径配置在环境变量中</p>
<p>此电脑 -&gt; 属性 -&gt; 高级系统设置 -&gt; 环境变量 -&gt; 系统变量 -&gt; path -&gt;编辑 - &gt; 新增路径 -<code>E:\NodeJs\npm\npm_global</code>（路径可以根据npm prefix -g查看）</p>
<h3 id="4-yarn管理"><a href="#4-yarn管理" class="headerlink" title="4.yarn管理"></a>4.yarn管理</h3><ul>
<li><strong>安装yarn</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install yarn -g</span><br><span class="line">yarn -v</span><br></pre></td></tr></table></figure>

<p><strong>【注】如果首次安装<code>yarn</code>后，运行<code>yarn -v</code>不能显示<code>yarn</code>的版本，可以重启一下终端再尝试</strong></p>
<p>yarn的默认缓存和存储包的路径都在C盘，所以最好在安装后也进行修改</p>
<h4 id="yarn查看各种路径命令"><a href="#yarn查看各种路径命令" class="headerlink" title="yarn查看各种路径命令"></a>yarn查看各种路径命令</h4><ul>
<li><strong>查看 yarn 全局bin位置(prefix)</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn global bin</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看 yarn 全局安装位置(folder)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn global dir</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看 yarn 全局cache位置(cache)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn cache dir</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>查看配置列表</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config list</span><br></pre></td></tr></table></figure>

<h4 id="yarn修改路径命令"><a href="#yarn修改路径命令" class="headerlink" title="yarn修改路径命令"></a>yarn修改路径命令</h4><ul>
<li><strong>改变 yarn 全局bin位置(prefix)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config set prefix &quot;E:\NodeJs\npm\yarn_bin&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>改变 yarn 全局安装位置(folder)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config  set global-folder &quot;E:\NodeJs\npm\yarn_dir&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>改变 yarn 全局cache位置(cache)</strong></li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn config set cache-folder &quot;E:\NodeJs\npm\yarn_cache&quot;</span><br></pre></td></tr></table></figure>

<h4 id="配置环境变量-1"><a href="#配置环境变量-1" class="headerlink" title="配置环境变量"></a>配置环境变量</h4><p>将<code>E:\NodeJs\npm\yarn_bin</code>填加到环境变量的path变量中，主要该目录下是否有自动生成的<code>bin</code>目录，若有，则添加<code>E:\NodeJs\npm\yarn_bin\bin</code></p>
<h3 id="5-nrm"><a href="#5-nrm" class="headerlink" title="5.nrm"></a>5.nrm</h3><p>nrm是npm的下载源管理工具</p>
<ul>
<li>安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i nrm -g</span><br></pre></td></tr></table></figure>

<ul>
<li>使用</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>nrm ls</td>
<td>查看当前源</td>
</tr>
<tr>
<td>nrm use &lt;源名称&gt;</td>
<td>切换下载源</td>
</tr>
<tr>
<td>nrm test</td>
<td>测试哪个源下载最快</td>
</tr>
</tbody></table>
<h3 id="使用nrm可能出现的错误"><a href="#使用nrm可能出现的错误" class="headerlink" title="使用nrm可能出现的错误"></a>使用nrm可能出现的错误</h3><p>在windows中使用nrm可能会出现<code>process.env</code>无法识别的情况，则修改错误提示的第四行中的文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">NRMRC</span> = path.<span class="title function_">join</span>(process.<span class="property">env</span>[(process.<span class="property">platform</span> == <span class="string">&#x27;win32&#x27;</span>) ? <span class="string">&#x27;USERPROFILE&#x27;</span> : <span class="string">&#x27;HOME&#x27;</span>], <span class="string">&#x27;.nrmrc&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="24-Vue新脚手架"><a href="#24-Vue新脚手架" class="headerlink" title="24.Vue新脚手架"></a>24.Vue新脚手架</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init vue@next</span><br></pre></td></tr></table></figure>

<h2 id="25-滚动条样式修改"><a href="#25-滚动条样式修改" class="headerlink" title="25.滚动条样式修改"></a>25.滚动条样式修改</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 整个滚动条</span><br><span class="line">&amp;::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// 滚动条轨道</span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// 滚动条上的滚动滑块</span><br><span class="line">&amp;::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在修改滚动条样式时，需要在设置了<code>&amp;::-webkit-scrollbar</code>的基础上进行修改</p>
<h2 id="26-CSS文字环绕效果问题"><a href="#26-CSS文字环绕效果问题" class="headerlink" title="26.CSS文字环绕效果问题"></a>26.CSS文字环绕效果问题</h2><p>当字体为中文时，文字可以默认环绕，当字体为英文时，需要设置<code>word-break: break-all</code></p>
<p><strong>work-break属性规定了自动换行的处理方式</strong></p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>normal</td>
<td>使用浏览器默认的换行规则。</td>
</tr>
<tr>
<td>break-all</td>
<td>允许在单词内换行。</td>
</tr>
<tr>
<td>keep-all</td>
<td>只能在半角空格或连字符处换行。</td>
</tr>
</tbody></table>
<h2 id="27-Element-getBoundingClientRect-Element-getClientRects"><a href="#27-Element-getBoundingClientRect-Element-getClientRects" class="headerlink" title="27.Element.getBoundingClientRect() Element.getClientRects()"></a>27.Element.getBoundingClientRect() Element.getClientRects()</h2><h3 id="Element-getBoundingClientRect"><a href="#Element-getBoundingClientRect" class="headerlink" title="Element.getBoundingClientRect()"></a>Element.getBoundingClientRect()</h3><blockquote>
<p>返回元素的大小以及相对于视口的位置</p>
<p>返回值是一个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/DOMRect"><code>DOMRect</code></a> 对象，这个对象是由该元素的 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getClientRects"><code>getClientRects()</code></a> 方法返回的一组矩形的集合，就是该元素的 CSS 边框大小。返回的结果是包含完整元素的最小矩形，并且拥有<code>left</code>, <code>top</code>, <code>right</code>, <code>bottom</code>, <code>x</code>, <code>y</code>, <code>width</code>, 和 <code>height</code>这几个以像素为单位的只读属性用于描述整个边框。除了<code>width</code> 和 <code>height</code> 以外的属性是相对于视图窗口的左上角来计算的。</p>
</blockquote>
<h3 id="Element-getClientRects"><a href="#Element-getClientRects" class="headerlink" title="Element.getClientRects()"></a>Element.getClientRects()</h3><blockquote>
<p>返回一个指向客户端中每一个盒子的边界矩形的矩形集合</p>
<p>返回值是ClientRect对象集合，该对象是与该元素相关的CSS边框。每个ClientRect对象包含一组描述该边框的只读属性——left、top、right和bottom，单位为像素，这些属性值是相对于视口的top-left的。即使当表格的标题在表格的边框外面，该标题仍会被计算在内。</p>
</blockquote>
<h2 id="28-获取当前设备信息"><a href="#28-获取当前设备信息" class="headerlink" title="28.获取当前设备信息"></a>28.获取当前设备信息</h2><p>JavaScript通过<code>navigator.userAgent</code>属性可以获取当前设备信息，包括浏览器信息，设备是PC还是Mobile等</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例如判断页面是否在钉钉中打开</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isDingTalk</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> ua = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">  <span class="keyword">if</span> (<span class="regexp">/dingtalk/gi</span>.<span class="title function_">test</span>(ua) &amp;&amp; <span class="regexp">/android/gi</span>.<span class="title function_">test</span>(ua) &amp;&amp; <span class="regexp">/mobile/gi</span>.<span class="title function_">test</span>(ua)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="29-JavaScript剪贴板操作"><a href="#29-JavaScript剪贴板操作" class="headerlink" title="29.JavaScript剪贴板操作"></a>29.JavaScript剪贴板操作</h2><h3 id="Clipboard-API"><a href="#Clipboard-API" class="headerlink" title="Clipboard API"></a>Clipboard API</h3><p>Clipboard API 是下一代的剪贴板操作方法，它的所有操作都是异步的，返回Promise对象，不会造成页面的卡顿，并且可以将任意内容放入剪贴板</p>
<p><code>navigator.clipboard</code>属性返回 Clipboard 对象，所有操作都通过这个对象进行。</p>
<blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clipboardObj = navigator.<span class="property">clipboard</span>;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>如果<code>navigator.clipboard</code>属性返回<code>undefined</code>，就说明当前浏览器不支持这个 API。</strong></p>
<p>由于用户可能把敏感数据（比如密码）放在剪贴板，允许脚本任意读取会产生安全风险，所以这个 API 的安全限制比较多。</p>
<p>首先，Chrome 浏览器规定，只有 HTTPS 协议的页面才能使用这个 API。不过，开发环境（<code>localhost</code>）允许使用非加密协议。</p>
<p>其次，调用时需要明确获得用户的许可。权限的具体实现使用了 Permissions API，跟剪贴板相关的有两个权限：<code>clipboard-write</code>（写权限）和<code>clipboard-read</code>（读权限）。”写权限”自动授予脚本，而”读权限”必须用户明确同意给予。也就是说，写入剪贴板，脚本可以自动完成，但是读取剪贴板时，浏览器会弹出一个对话框，询问用户是否同意读取。</p>
<p><strong>Clipboard 对象提供了四个方法，用来读写剪贴板。它们都是异步方法，返回 Promise 对象</strong></p>
<ul>
<li>Clipboard.readText()：用于复制剪贴板里面的文本数据</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&#x27;click&#x27;</span>,</span><br><span class="line">  <span class="keyword">async</span> (e) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> text = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(text);</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li>Clipboard.read()：用于复制剪贴板里面的数据，可以是文本数据，也可以是二进制数据（比如图片）。该方法需要用户明确给予许可。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getClipboardContents</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clipboardItems = <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">read</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> clipboardItem <span class="keyword">of</span> clipboardItems) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> type <span class="keyword">of</span> clipboardItem.<span class="property">types</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> blob = <span class="keyword">await</span> clipboardItem.<span class="title function_">getType</span>(type);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err.<span class="property">name</span>, err.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Clipboard.writeText()：用于将文本内容写入剪贴板。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(<span class="string">&#x27;要复制的内容&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>Clipboard.write(): 用于将任意数据写入剪贴板，可以是文本数据，也可以是二进制数据。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> imgURL = <span class="string">&#x27;https://dummyimage.com/300.png&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetch</span>(imgURL);</span><br><span class="line">  <span class="keyword">const</span> blob = <span class="keyword">await</span> data.<span class="title function_">blob</span>();</span><br><span class="line">  <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">write</span>([</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ClipboardItem</span>(&#123;</span><br><span class="line">      [blob.<span class="property">type</span>]: blob</span><br><span class="line">    &#125;)</span><br><span class="line">  ]);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Image copied.&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(err.<span class="property">name</span>, err.<span class="property">message</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="30-React-onChange和onInput的区别"><a href="#30-React-onChange和onInput的区别" class="headerlink" title="30.React onChange和onInput的区别"></a>30.React onChange和onInput的区别</h2><p>从表现形式上看，React中onChange和onInput是没有区别的，都是在用户持续输入时调用，它们的区别在于事件对象的类型不同，onChange的事件对象属于ChangeEvent事件，onInput的事件对象属于FormEvent事件类型。</p>
<h2 id="31-Object-fit"><a href="#31-Object-fit" class="headerlink" title="31.Object-fit"></a>31.Object-fit</h2><p>图片裁剪属性，可取值：</p>
<ul>
<li>fill：默认值，内容拉伸填满整个content box，不保证保持原有的比例</li>
<li>contain：保持原有尺寸比例。长度和高度中短的那条边跟容器大小一致，长的那条边等比缩放，可能会有留白</li>
<li>cover：保持原有尺寸比例，宽度和高度中长的那条边和容器大小一致，短的那条等比缩放。可能会有部分区域不可见</li>
<li>none：保留原有元素内容的长度和宽度</li>
<li>scale-down： 保持原有尺寸比例。内容的尺寸与 none 或 contain 中的一个相同，取决于它们两个之间谁得到的对象尺寸会更小一些。</li>
</ul>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_reddit"></a></div><script src="https://static.addtoany.com/menu/page.js" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">适配器模式</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/%E4%B8%80%E9%81%93%E6%89%81%E5%B9%B3%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%A0%91%E7%BB%93%E6%9E%84%E9%9D%A2%E8%AF%95%E9%A2%98/"><span class="level-item">一道扁平数据转树结构面试题</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "48cfbbe3286092606e3b678fc50cb232",
            repo: "hjc0930.github.io",
            owner: "hjc0930",
            clientID: "71e6b24166456f7acaed",
            clientSecret: "be2c12c0d0d3fb58dc9d2fced639c667268ec3f7",
            admin: ["hjc0930"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://hjc0930.oss-cn-hangzhou.aliyuncs.com/logo.png" alt="hjc"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">hjc</p><p class="is-size-6 is-block">一个前端程序员的 编程笔记和生活记录</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">97</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/hjc0930" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/hjc0930"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/nodejs/"><span class="level-start"><span class="level-item">nodejs</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">74</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/HTML/"><span class="level-start"><span class="level-item">HTML</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">31</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/DOM/"><span class="level-start"><span class="level-item">DOM</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"><span class="level-start"><span class="level-item">前端工程化</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/%E6%A1%86%E6%9E%B6/"><span class="level-start"><span class="level-item">框架</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%89%8D%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">设计模式</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-05-02T13:38:15.981Z">2023-05-02</time></p><p class="title"><a href="/Pointfree/">compose函数</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-26T16:40:37.152Z">2023-04-27</time></p><p class="title"><a href="/JavaScript%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">JavaScript内存管理</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a href="/categories/%E5%89%8D%E7%AB%AF/JavaScript/">JavaScript</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-18T12:27:27.946Z">2023-04-18</time></p><p class="title"><a href="/JavaScript%E4%B8%AD%E5%8D%95%E7%BB%A7%E6%89%BF/">JavaScript中单继承</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-17T14:26:53.699Z">2023-04-17</time></p><p class="title"><a href="/%E5%89%8D%E7%AB%AF%E7%BB%84%E4%BB%B6%E5%8C%96%E6%80%9D%E8%80%83/">前端组件化思考</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a href="/categories/%E5%89%8D%E7%AB%AF/%E6%A1%86%E6%9E%B6/">框架</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-04-16T15:22:33.811Z">2023-04-16</time></p><p class="title"><a href="/React/React%20State/">React State</a></p><p class="categories"><a href="/categories/%E5%89%8D%E7%AB%AF/">前端</a> / <a href="/categories/%E5%89%8D%E7%AB%AF/React/">React</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2023/05/"><span class="level-start"><span class="level-item">五月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">四月 2023</span></span><span class="level-end"><span class="level-item tag">96</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/CSS/"><span class="tag">CSS</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Chrome%E8%B0%83%E8%AF%95/"><span class="tag">Chrome调试</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">39</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React/"><span class="tag">React</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">19</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"><span class="tag">前端工程化</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"><span class="tag">浏览器</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">设计模式</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tag">面试</span><span class="tag">3</span></a></div></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://juejin.cn/user/87601131292839/posts" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">JueJin</span></span><span class="level-right"><span class="level-item tag">juejin.cn</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#1-鼠标滚轮事件wheel"><span class="level-left"><span class="level-item">1</span><span class="level-item">1.鼠标滚轮事件wheel</span></span></a></li><li><a class="level is-mobile" href="#2-cross-env"><span class="level-left"><span class="level-item">2</span><span class="level-item">2. cross-env</span></span></a></li><li><a class="level is-mobile" href="#3-export和export-default的区别"><span class="level-left"><span class="level-item">3</span><span class="level-item">3. export和export default的区别</span></span></a></li><li><a class="level is-mobile" href="#4-exports和module-exports的区别"><span class="level-left"><span class="level-item">4</span><span class="level-item">4.exports和module.exports的区别</span></span></a></li><li><a class="level is-mobile" href="#5-git-pull冲突问题解决"><span class="level-left"><span class="level-item">5</span><span class="level-item">5.git pull冲突问题解决</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#合并修改"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">合并修改</span></span></a></li><li><a class="level is-mobile" href="#放弃本次修改-不建议使用"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">放弃本次修改(不建议使用)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#6-CSS文本省略"><span class="level-left"><span class="level-item">6</span><span class="level-item">6.CSS文本省略</span></span></a></li><li><a class="level is-mobile" href="#7-git无法切换到刚创建的远程分支"><span class="level-left"><span class="level-item">7</span><span class="level-item">7.git无法切换到刚创建的远程分支</span></span></a></li><li><a class="level is-mobile" href="#8-JavaScript几个特殊运算符的用法"><span class="level-left"><span class="level-item">8</span><span class="level-item">8.JavaScript几个特殊运算符的用法</span></span></a></li><li><a class="level is-mobile" href="#9-connect-multiparty"><span class="level-left"><span class="level-item">9</span><span class="level-item">9.connect-multiparty</span></span></a></li><li><a class="level is-mobile" href="#10-midway-js上传图片接口demo"><span class="level-left"><span class="level-item">10</span><span class="level-item">10.midway.js上传图片接口demo</span></span></a></li><li><a class="level is-mobile" href="#11-React对props-children的操作"><span class="level-left"><span class="level-item">11</span><span class="level-item">11.React对props.children的操作</span></span></a></li><li><a class="level is-mobile" href="#12-BigInt"><span class="level-left"><span class="level-item">12</span><span class="level-item">12.BigInt</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#运算"><span class="level-left"><span class="level-item">12.1</span><span class="level-item">运算</span></span></a></li></ul></li><li><a class="level is-mobile" href="#13-qs-axios-paramsSerializer"><span class="level-left"><span class="level-item">13</span><span class="level-item">13.qs axios paramsSerializer</span></span></a></li><li><a class="level is-mobile" href="#14-滚动加载相关业务"><span class="level-left"><span class="level-item">14</span><span class="level-item">14.滚动加载相关业务</span></span></a></li><li><a class="level is-mobile" href="#15-a链接下载导出文件"><span class="level-left"><span class="level-item">15</span><span class="level-item">15.a链接下载导出文件</span></span></a></li><li><a class="level is-mobile" href="#16-倒计时"><span class="level-left"><span class="level-item">16</span><span class="level-item">16.倒计时</span></span></a></li><li><a class="level is-mobile" href="#17-锚点平滑滚动"><span class="level-left"><span class="level-item">17</span><span class="level-item">17.锚点平滑滚动</span></span></a></li><li><a class="level is-mobile" href="#18-使用dayjs替换antd组件中默认的moment"><span class="level-left"><span class="level-item">18</span><span class="level-item">18.使用dayjs替换antd组件中默认的moment</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-修改webpack配置"><span class="level-left"><span class="level-item">18.1</span><span class="level-item">1.修改webpack配置</span></span></a></li><li><a class="level is-mobile" href="#2-国际化"><span class="level-left"><span class="level-item">18.2</span><span class="level-item">2.国际化</span></span></a></li><li><a class="level is-mobile" href="#3-TypeScript声明修改"><span class="level-left"><span class="level-item">18.3</span><span class="level-item">3. TypeScript声明修改</span></span></a></li></ul></li><li><a class="level is-mobile" href="#19-ts-node-dev"><span class="level-left"><span class="level-item">19</span><span class="level-item">19.ts-node-dev</span></span></a></li><li><a class="level is-mobile" href="#20-移动端适配方案"><span class="level-left"><span class="level-item">20</span><span class="level-item">20.移动端适配方案</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#px-rem-vw的转换"><span class="level-left"><span class="level-item">20.1</span><span class="level-item">px rem vw的转换</span></span></a></li><li><a class="level is-mobile" href="#viewport缩放比例设置"><span class="level-left"><span class="level-item">20.2</span><span class="level-item">viewport缩放比例设置</span></span></a></li></ul></li><li><a class="level is-mobile" href="#21-常用正则"><span class="level-left"><span class="level-item">21</span><span class="level-item">21.常用正则</span></span></a></li><li><a class="level is-mobile" href="#22-可能会用到的网站"><span class="level-left"><span class="level-item">22</span><span class="level-item">22.可能会用到的网站</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#ES5"><span class="level-left"><span class="level-item">22.1</span><span class="level-item">ES5</span></span></a></li><li><a class="level is-mobile" href="#ES6"><span class="level-left"><span class="level-item">22.2</span><span class="level-item">ES6</span></span></a></li><li><a class="level is-mobile" href="#在线工具"><span class="level-left"><span class="level-item">22.3</span><span class="level-item">在线工具</span></span></a></li><li><a class="level is-mobile" href="#刷题"><span class="level-left"><span class="level-item">22.4</span><span class="level-item">刷题</span></span></a></li></ul></li><li><a class="level is-mobile" href="#23-通过nvm安装Nodejs和管理包的全局化配置"><span class="level-left"><span class="level-item">23</span><span class="level-item">23.通过nvm安装Nodejs和管理包的全局化配置</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-nvm下载"><span class="level-left"><span class="level-item">23.1</span><span class="level-item">1.nvm下载</span></span></a></li><li><a class="level is-mobile" href="#下载地址"><span class="level-left"><span class="level-item">23.2</span><span class="level-item">下载地址</span></span></a></li><li><a class="level is-mobile" href="#2-nvm常用的几个命令"><span class="level-left"><span class="level-item">23.3</span><span class="level-item">2.nvm常用的几个命令</span></span></a></li><li><a class="level is-mobile" href="#3-npm管理"><span class="level-left"><span class="level-item">23.4</span><span class="level-item">3.npm管理</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#npm查看各种全局路径的命令"><span class="level-left"><span class="level-item">23.4.1</span><span class="level-item">npm查看各种全局路径的命令</span></span></a></li><li><a class="level is-mobile" href="#npm修改全局路径命令"><span class="level-left"><span class="level-item">23.4.2</span><span class="level-item">npm修改全局路径命令</span></span></a></li><li><a class="level is-mobile" href="#配置环境变量"><span class="level-left"><span class="level-item">23.4.3</span><span class="level-item">配置环境变量</span></span></a></li></ul></li><li><a class="level is-mobile" href="#4-yarn管理"><span class="level-left"><span class="level-item">23.5</span><span class="level-item">4.yarn管理</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#yarn查看各种路径命令"><span class="level-left"><span class="level-item">23.5.1</span><span class="level-item">yarn查看各种路径命令</span></span></a></li><li><a class="level is-mobile" href="#yarn修改路径命令"><span class="level-left"><span class="level-item">23.5.2</span><span class="level-item">yarn修改路径命令</span></span></a></li><li><a class="level is-mobile" href="#配置环境变量-1"><span class="level-left"><span class="level-item">23.5.3</span><span class="level-item">配置环境变量</span></span></a></li></ul></li><li><a class="level is-mobile" href="#5-nrm"><span class="level-left"><span class="level-item">23.6</span><span class="level-item">5.nrm</span></span></a></li><li><a class="level is-mobile" href="#使用nrm可能出现的错误"><span class="level-left"><span class="level-item">23.7</span><span class="level-item">使用nrm可能出现的错误</span></span></a></li></ul></li><li><a class="level is-mobile" href="#24-Vue新脚手架"><span class="level-left"><span class="level-item">24</span><span class="level-item">24.Vue新脚手架</span></span></a></li><li><a class="level is-mobile" href="#25-滚动条样式修改"><span class="level-left"><span class="level-item">25</span><span class="level-item">25.滚动条样式修改</span></span></a></li><li><a class="level is-mobile" href="#26-CSS文字环绕效果问题"><span class="level-left"><span class="level-item">26</span><span class="level-item">26.CSS文字环绕效果问题</span></span></a></li><li><a class="level is-mobile" href="#27-Element-getBoundingClientRect-Element-getClientRects"><span class="level-left"><span class="level-item">27</span><span class="level-item">27.Element.getBoundingClientRect() Element.getClientRects()</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Element-getBoundingClientRect"><span class="level-left"><span class="level-item">27.1</span><span class="level-item">Element.getBoundingClientRect()</span></span></a></li><li><a class="level is-mobile" href="#Element-getClientRects"><span class="level-left"><span class="level-item">27.2</span><span class="level-item">Element.getClientRects()</span></span></a></li></ul></li><li><a class="level is-mobile" href="#28-获取当前设备信息"><span class="level-left"><span class="level-item">28</span><span class="level-item">28.获取当前设备信息</span></span></a></li><li><a class="level is-mobile" href="#29-JavaScript剪贴板操作"><span class="level-left"><span class="level-item">29</span><span class="level-item">29.JavaScript剪贴板操作</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Clipboard-API"><span class="level-left"><span class="level-item">29.1</span><span class="level-item">Clipboard API</span></span></a></li></ul></li><li><a class="level is-mobile" href="#30-React-onChange和onInput的区别"><span class="level-left"><span class="level-item">30</span><span class="level-item">30.React onChange和onInput的区别</span></span></a></li><li><a class="level is-mobile" href="#31-Object-fit"><span class="level-left"><span class="level-item">31</span><span class="level-item">31.Object-fit</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://hjc0930.oss-cn-hangzhou.aliyuncs.com/logo.png" alt="博客" height="28"></a><p class="is-size-7"><span>&copy; 2023 hjc</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hjc0930"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>