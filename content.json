{"posts":[{"title":"é¢è¯•å°ç»“ï¼ˆ20230406ï¼‰","text":"å‰è¨€å‡†å¤‡æ¢å·¥ä½œäº†ï¼Œæ¯•ä¸šä»¥æ¥ä¸€ç›´åœ¨ä¸€å®¶ä¸­å°å‹ä¼ä¸šå†™äº†ä¸€å¹´å¤šçš„Reactï¼Œç°åœ¨æ— è®ºæ˜¯çŠ¶æ€è¿˜æ˜¯å­¦ä¹ çš„åŠ¨åŠ›éƒ½ä¸æ˜¯æœ€å·…å³°çš„æ—¶å€™ï¼Œæ˜¯æ—¶å€™å‡†å¤‡å¼€å¯æ–°çš„ç¯‡ç« äº† é¢è¯•é¡¹ç›®ç›¸å…³é¦–å…ˆæ˜¯å¸¸è§„çš„è‡ªæˆ‘ä»‹ç»ï¼Œæ¥ä¸‹æ¥å°±æ˜¯èŠé¡¹ç›®ï¼Œè¿™è¾¹å°è±¡æ¯”è¾ƒæ·±çš„æ˜¯èŠåˆ°äº†ä¸€ä¸ªæ€§èƒ½ä¼˜åŒ–çš„åœºæ™¯ æˆ‘çš„å›ç­”æ˜¯ï¼š è§‚å¯Ÿåˆ°é¡µé¢æ¯”è¾ƒå¡é¡¿ï¼Œç„¶åä½¿ç”¨Chromeçš„ç«ç„°å›¾å®šä½åˆ°äº†æ˜¯ç”¨äºå¤„ç†å›¾è¡¨æ•°æ®åˆ°ä¸¤ä¸ªæ–¹æ³•å‡ºç°äº†æ€§èƒ½é—®é¢˜ï¼Œä¹‹åå…·ä½“çš„ä¼˜åŒ–æ–¹æ³•æ˜¯ï¼šå¤„ç†Xè½´çš„æ–¹æ³•ä¸­æ”¹ç”¨äº†Seté›†åˆæ¥å­˜å–ï¼Œå¤„ç†Yè½´æ•°æ®çš„æ–¹æ³•å‡å°‘é‡Œé¢çš„forå¾ªç¯ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦æ¥è¾¾åˆ°ä¼˜åŒ–çš„æ•ˆæœ ç­”çš„ä¸å¥½ï¼Œå¬åˆ°åé¢é¢è¯•å®˜è¿˜é—®äº†å‡ ä¸ªç›¸å…³çš„é—®é¢˜ï¼Œæˆ‘å½’çº³äº†ä¸€ä¸‹ï¼Œè§‰å¾—å¯ä»¥è¿™æ ·å›ç­”ï¼š é¦–å…ˆè¿™æ˜¯ä¸€ä¸ªè¡¨æ ¼æ¨¡å—ï¼Œé‡Œé¢æœ‰ä¸€åˆ—ä½¿ç”¨çš„æ˜¯Echartså›¾è¡¨æ¥å±•ç¤ºæ•°æ®ï¼Œè¡¨æ ¼é‡‡ç”¨æ»šåŠ¨åˆ†é¡µï¼Œæ¯é¡µè¯·æ±‚10æ¡è¡¨æ ¼æ•°æ®ï¼Œå…¶ä¸­æ¯ä¸ªå›¾è¡¨æ•°æ®å¹³å‡æ˜¯5ä¸‡æ¡å·¦å³ã€‚å½“æ—¶è§‚å¯Ÿåˆ°è¿™ä¸ªé¡µé¢ä¼šæ¯”è¾ƒå¡é¡¿ï¼Œäºæ˜¯ä½¿ç”¨Chromeç«ç„°å›¾å»åˆ†æäº†ä¸€ä¸‹è¿™ä¸ªæ¨¡å—çš„äº‹ä»¶å¾ªç¯å¤§æ¦‚çš„æ‰§è¡Œæ—¶é—´ï¼Œå‘ç°äº†ä¸€ä¸ªé•¿ä»»åŠ¡ï¼Œç‚¹å‡»è¿™ä¸ªä»»åŠ¡çš„è°ƒç”¨æ ‘å»å®šä½åˆ°äº†ä¸€ä¸ªå‰¯ä½œç”¨é‡Œé¢çš„ä¸¤ä¸ªå¤„ç†æ•°æ®çš„æ–¹æ³•æ‰§è¡Œæ—¶é—´éå¸¸é•¿ï¼Œäºæ˜¯å°±é’ˆå¯¹è¿™ä¸¤ä¸ªæ–¹æ³•è¿›è¡Œäº†ä¸€ä¸ªä¼˜åŒ–ã€‚ é¦–å…ˆæ˜¯Xè½´æ•°æ®çš„å¤„ç†æ–¹æ³•ï¼Œå®ƒçš„åŠŸèƒ½ä¸»è¦æ˜¯ä»åŸå§‹æ•°æ®é‡Œé¢è·å–æ—¥æœŸæ•°æ®ï¼ŒåŸæœ¬ç”¨çš„æ˜¯æ•°ç»„ï¼Œæœ€åç»™å®ƒæ”¹ä¸ºSetç»“æ„ï¼ŒSetåº•å±‚çš„å®ç°ä¼šç›¸å¯¹çº¯ç²¹ä¸€äº›ï¼Œæ€§èƒ½è¾ƒå¥½ã€‚Yè½´æ•°æ®å¤„ç†çš„æ–¹æ³•æ˜¯ç”¨äºè¡¥å…¨æ•°æ®çš„ï¼Œé‡Œé¢çš„å¾ªç¯æ¯”è¾ƒå¤šï¼Œè¿™è¾¹ç€æ‰‹çš„é‡ç‚¹å°±æ˜¯å‡å°‘é‡Œé¢çš„å¾ªç¯æ—¶é—´ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦ æœ€åè¿˜å¯¹è¿™ä¸ªå›¾è¡¨ç»„ä»¶è¿›è¡Œäº†æ‡’åŠ è½½å¤„ç† è¿™æ˜¯å½“æ—¶è¿›è¡Œæ€§èƒ½å¤„ç†çš„æ–¹æ¡ˆï¼Œå¦‚æœæ˜¯ç°åœ¨å»å¤„ç†çš„è¯ï¼Œåº”è¯¥è¿˜æœ‰æ›´å¤šçš„ä¼˜åŒ–ç©ºé—´ï¼Œä¾‹å¦‚å¼€å¯å¤šçº¿ç¨‹æ¸²æŸ“ï¼Œä¾‹å¦‚åˆ©ç”¨äº‹ä»¶å¾ªç¯æœºåˆ¶ä¸­çš„requestAnimationFrameæˆ–è€…requestIdentCallbackæ¥è°ƒåº¦ä»»åŠ¡çš„æ‰§è¡Œ JavaScriptåŸºç¡€é¢˜é«˜é˜¶å‡½æ•° é«˜é˜¶å‡½æ•°æ˜¯æŒ‡è‡³å°‘æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€çš„å‡½æ•°ï¼š å¯ä»¥è¢«å½“åšå‚æ•°ä¼ é€’ å¯ä»¥è¢«å½“åšè¿”å›å€¼è¾“å‡º åº”ç”¨ï¼š ä½œä¸ºå›è°ƒå‡½æ•° é—­åŒ… é˜²æŠ– èŠ‚æµ æŸ¯é‡ŒåŒ– å»æŸ¯é‡ŒåŒ– åå‡½æ•° Trunkå‡½æ•° â€¦ letå’Œconstçš„åŒºåˆ« letå’Œconstéƒ½èƒ½å½¢æˆå—ä½œç”¨åŸŸ constå£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–å˜é‡çš„å€¼ï¼Œletåˆ™ä¸ç”¨ letå£°æ˜çš„å˜é‡æ—¶å¯ä»¥æ”¹å˜çš„ï¼Œconstå£°æ˜çš„åŸºç¡€æ•°æ®ç±»å‹ä¸å¯æ”¹å˜ï¼Œå¼•ç”¨æ•°æ®ç±»å‹å¼•ç”¨åœ°å€ä¸å¯å˜ï¼Œé‡Œé¢çš„å€¼æ—¶å¯ä»¥å˜çš„ ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ« æ™®é€šå‡½æ•°å¯ä»¥ç”¨ä½œæ„é€ å‡½æ•°ï¼Œè¢«newå®ä¾‹åŒ–ï¼Œç®­å¤´å‡½æ•°åˆ™ä¸å¯ä»¥ æ™®é€šå‡½æ•°çš„thisæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œç®­å¤´å‡½æ•°çš„thisåœ¨å£°æ˜ä¼šè·Ÿç€ä¸Šä¸‹æ–‡çš„thisï¼Œå¹¶ä¸”ä¸å¯è¢«callï¼Œapplyï¼Œbindè¿™äº›æ–¹æ³•æ‰€æ”¹å˜ æ·±æ‹·è´å’Œæµ…æ‹·è´ æµ…æ‹·è´å’Œæ·±æ‹·è´åªé’ˆå¯¹å¼•ç”¨æ•°æ®ç±»å‹ å¦‚æœå¼•ç”¨æ•°æ®ç±»å‹çš„å±æ€§æ—¶åŸºæœ¬ç±»å‹ï¼Œé‚£æ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ï¼Œå³æµ…æ‹·è´åªæ‹·è´ä¸€å±‚ï¼Œæ·±å±‚æ¬¡çš„å¼•ç”¨ç±»å‹åˆ™å…±äº«å†…å­˜åœ°å€ æ·±æ‹·è´å°±æ˜¯å±‚å±‚æ‹·è´ï¼Œä¼šå¼€è¾Ÿä¸€ä¸ªæ–°çš„å†…å­˜ç©ºé—´ï¼Œå°†æ•°æ®ä¸­å±æ€§å…¨éƒ¨éƒ½æ‹·è´ä¸€é å®ç°æµ…æ‹·è´çš„æ–¹æ³•ï¼š Object.assign slice() concat() æ‹“å±•è¿ç®—ç¬¦ å®ç°æ·±æ‹·è´çš„æ–¹æ³•ï¼š JSON.stringify() å¼Šç«¯ï¼šä¼šå¿½ç•¥undefinedã€symbolå’Œå‡½æ•° _.cloneDeep() jquery.extend() æ‰‹å†™å¾ªç¯é€’å½’ 1234567891011121314151617181920function deepClone(obj, hash = new WeakMap()) { if(obj === null || obj === undefined) return obj; if(obj instanceof Date) return new Date(obj); if(obj instanceof RegExp) return new RegExp(obj); // å¯èƒ½æ˜¯æ™®é€šçš„å€¼æˆ–è€…å‡½æ•° if(typeof obj !== 'object') return obj; // æ˜¯å¯¹è±¡çš„è¯å°±è¦è¿›è¡Œæ·±æ‹·è´ if(hash.get(obj)) return hash.get(obj); let cloneObj = new obj.constructor(); hash.set(obj, cloneObj); for(let key in obj) { if(obj.hasOwnProperty(key)){ // å¾ªç¯é€’å½’ cloneObj[key] = deepClone(obj[key], hash); } } return cloneObj;} LocalStorageã€SessionStorageå’Œcookieçš„åŒºåˆ« å­˜å‚¨å¤§å°ï¼šcookieæ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡4kï¼ŒsessionStorageå’ŒlocalStorageè™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Må·¦å³ æœ‰æ•ˆæ—¶é—´ï¼šlocalStorageå­˜å‚¨æŒä¹…æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œé™¤éä½ ä¸»åŠ¨å»åˆ é™¤æ•°æ®ï¼›sessionStorageæ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤ï¼›cookieè®¾ç½®çš„cookieè¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆ æ•°æ®ä¸æœåŠ¡ä¹‹é—´çš„äº¤äº’æ–¹å¼ï¼Œcookieçš„æ•°æ®ä¼šè‡ªåŠ¨ä¼ é€’åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯ä»¥å†™cookieåˆ°å®¢æˆ·ç«¯ï¼›sessionStorageå’ŒlocalStorageä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…å­˜åœ¨æœ¬åœ° mapå’ŒforEachçš„åŒºåˆ«mapéå†æ•°ç»„ï¼Œç„¶åå°†æ•°ç»„é‡Œé¢çš„æ•°æ®é€šè¿‡ä¸€å®šçš„æ“ä½œå†è¿”å›ï¼Œä¼šå½¢æˆä¸€ä¸ªæ–°æ•°ç»„ï¼ŒforEachå°±æ˜¯å•çº¯çš„éå†æ•°ç»„æ–¹æ³•ï¼Œä¸”éå†æ—¶ä¸èƒ½è¢«breakï¼Œcontinueç­‰ä¸­æ–­ã€‚ äº‹ä»¶æµæ ‡å‡†äº‹ä»¶æµåˆ†ä¸ºäº†ä¸‰ä¸ªé˜¶æ®µï¼Œäº‹ä»¶æ•è·ï¼Œç›®æ ‡é˜¶æ®µå’Œäº‹ä»¶å†’æ³¡é˜¶æ®µ é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ševent.stoppropagation()ï¼ŒVueå¯ä»¥ç”¨.stopäº‹ä»¶ä¿®é¥°ç¬¦ Vueé¢è¯•é¢˜ Vueç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº› NextTick Vueå“åº”å¼çš„åŸç† $setæ˜¯ç”¨æ¥å¹²å˜›çš„ Routeræœ‰å“ªäº›æ¨¡å¼ï¼Œä¼ å‚æ–¹å¼éƒ½æœ‰å“ªäº›ï¼Œå¦‚ä½•è®¾ç½®å‚æ•° ä»‹ç»ä¸€ä¸‹VueX keyçš„ä½œç”¨ computedå’Œwatchçš„åŒºåˆ« æ€»ç»“æ•´ä½“æ¥è¯´è¿™æ¬¡çš„é¢è¯•å‡†å¤‡çš„ä¸æ˜¯å¾ˆå……è¶³ï¼Œè¿˜æœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼Œå¾ˆå¤šåŸºç¡€é—®é¢˜ç­”çš„ä¸æ˜¯å¾ˆå¥½ï¼Œç»§ç»­æ”¹è¿›å§","link":"/%E9%9D%A2%E8%AF%95%E5%B0%8F%E7%BB%93%EF%BC%8820230406%EF%BC%89/"},{"title":"è·¨åŸŸ","text":"1.ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥åŒæºç­–ç•¥å°±æ˜¯æŒ‡åè®®ï¼ŒåŸŸåï¼Œç«¯å£å·ä¸‰è€…ç›¸åŒï¼Œæµè§ˆå™¨å°±è®¤ä¸ºè¿™ä¸ªè¯·æ±‚åœ°å€æ˜¯åŒæºçš„ï¼Œæœ‰ä¸€ä¸ªä¸åŒï¼Œåˆ™è®¤ä¸ºéåŒæºï¼ŒåŒæºç­–ç•¥é™åˆ¶è®¿é—®ä»¥ä¸‹å†…å®¹ï¼š Cookie LocationStore SessionStoreç­‰èµ„æºä¸å…±äº« æ— æ³•è®¿é—®DOMèŠ‚ç‚¹ Ajaxè¯·æ±‚çš„ç»“æœä¼šè¢«æµè§ˆå™¨æ‹¦æˆª ç‰¹åˆ«è¯´æ˜ï¼š -å¦‚æœæ˜¯åè®®å’Œç«¯å£é€ æˆçš„è·¨åŸŸé—®é¢˜ï¼Œå‰ç«¯æ˜¯æ— èƒ½ä¸ºåŠ›çš„ -åœ¨è·¨åŸŸé—®é¢˜ä¸Šï¼Œæµè§ˆå™¨åªé€šè¿‡urlé¦–éƒ¨(åè®®+åŸŸå+ç«¯å£å·)æ¥è¯†åˆ«ï¼Œè€Œä¸ä¼šæ ¹æ®åŸŸåæ‰€å¯¹åº”çš„IPåœ°å€æ˜¯å¦ç›¸åŒæ¥åˆ¤æ–­ -è·¨åŸŸçŠ¶æ€ä¸‹Ajaxè¯·æ±‚æ˜¯å¯ä»¥å‘å‡ºå»çš„ï¼Œåªä¸è¿‡è¯·æ±‚çš„å“åº”è¢«æµè§ˆå™¨æ‹¦æˆªäº† 2.è·¨åŸŸè§£å†³æ–¹æ¡ˆ1.JSONPåˆ©ç”¨&lt;script&gt;æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„æ¼æ´ï¼Œå¯ä»¥åœ¨è¯·æ±‚åœ°å€ä¸­ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°åï¼Œé€šè¿‡windowç›‘å¬è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œåç«¯æ‰§è¡Œè¿™ä¸ªå‡½æ•°å¹¶æŠŠå‚æ•°ä»¥å½¢å‚çš„å½¢å¼ä¼ å…¥å‘ç»™å‰ç«¯ 12345678const script = document.createElement('script');script.src = 'http://127.0.0.1:3000/say?callback=show';window.show = function(data) { console.log(data)}document.body.appendChaild(script) Nodejs 12345678910const express = require('express');const app = express();app.get('/say', (req, res) =&gt; { const { callback } = req.query; res.send(`${callback}('222')`)})app.listen(3000) ç¼ºç‚¹ï¼šä»…æ”¯æŒgetæ–¹æ³• 2.CORSCORSéœ€è¦æµè§ˆå™¨å’Œåç«¯åŒæ—¶æ”¯æŒï¼ŒIE8å’ŒIE9éœ€è¦é€šè¿‡XDomainRequestæ¥å®ç° æµè§ˆå™¨ä¼šè‡ªåŠ¨è¿›è¡ŒCORSé€šä¿¡ï¼Œå®ç°CORSé€šä¿¡çš„å…³é”®åœ¨åç«¯ï¼Œéœ€è¦è®¾ç½®Access-Control-Allow-Originå°±å¯ä»¥å¼€å¯CORSï¼Œè¯¥å±æ€§è¡¨ç¤ºå“ªäº›åŸŸåå¯ä»¥è®¿é—®èµ„æº ä½¿ç”¨CORSè§£å†³è·¨åŸŸé—®é¢˜ï¼Œä¼šåœ¨å‘é€è¯·æ±‚æ—¶å‡ºç°ä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«ä¸ºç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚ ç®€å•è¯·æ±‚ åŒæ—¶æ»¡è¶³ä¸¤å¤§æ¡ä»¶ï¼š 1.è¯·æ±‚æ–¹æ³•ä¸ºGET POST HEADä¹‹ä¸€ 2.Content-Typeçš„å€¼ä»…é™ä¸‰ç§ï¼štext/plain multipart/form-data application/x-www-form-urlcodeed è¯·æ±‚ä¸­çš„ä»»æ„ XMLHttpRequestUpload å¯¹è±¡å‡æ²¡æœ‰æ³¨å†Œä»»ä½•äº‹ä»¶ç›‘å¬å™¨ï¼› XMLHttpRequestUpload å¯¹è±¡å¯ä»¥ä½¿ç”¨ XMLHttpRequest.upload å±æ€§è®¿é—®ã€‚ å¤æ‚è¯·æ±‚ åœ¨å‘é€å¤æ‚è¯·æ±‚æ—¶ï¼Œä¼šå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸ºâ€é¢„æ£€â€è¯·æ±‚ï¼Œè¯¥è¯·æ±‚æ˜¯ä½¿ç”¨OPTIONæ–¹æ³•ï¼Œé€šè¿‡è¯¥è¯·æ±‚æ¥çŸ¥é“æœåŠ¡ç«¯æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ åç«¯é…ç½® 1234567891011121314151617181920212223const express = require('express')const app = express()const whitList - ['http://127.0.0.1:5500'] // é…ç½®ç™½åå•app.all('*',function (req, res, next) { res.header('Access-Control-Allow-Origin','http://localhost:3001'); //å½“å…è®¸æºå¸¦cookiesæ­¤å¤„çš„ç™½åå•ä¸èƒ½å†™â€™*â€™ res.header('Access-Control-Allow-Headers','content-type,Content-Length, Authorization,Origin,Accept,X-Requested-With'); //å…è®¸çš„è¯·æ±‚å¤´ res.header('Access-Control-Allow-Methods', 'POST, GET, OPTIONS, PUT'); //å…è®¸çš„è¯·æ±‚æ–¹æ³• res.header('Access-Control-Allow-Credentials',true); //å…è®¸æºå¸¦cookies next();});app.put('/getData', function(req, res) { console.log(req.headers) res.setHeader('name', 'jw') //è¿”å›ä¸€ä¸ªå“åº”å¤´ï¼Œåå°éœ€è®¾ç½® res.end('111')})app.get('/getData', function(req, res) { console.log(req.headers) res.end('222')})app.use(express.static(__dirname))app.listen(4000) 3.postMessageposeMessageç”¨äºè§£å†³ä»¥ä¸‹æ–¹é¢çš„é—®é¢˜ï¼š -é¡µé¢å’Œå…¶æ‰“å¼€é¡µé¢çš„æ–°çª—å£çš„æ•°æ®ä¼ é€’ -å¤šçª—å£ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ -é¡µé¢ä¸åµŒå¥—çš„iframeæ¶ˆæ¯ä¼ é€’ -è·¨åŸŸæ•°æ®ä¼ é€’ 123456789101112&lt;iframe src=&quot;http://127.0.0.1:4000/b.html&quot; frameborder=&quot;0&quot; id=&quot;frame&quot; onload=&quot;load()&quot;&gt;&lt;/iframe&gt; //ç­‰å®ƒåŠ è½½å®Œè§¦å‘ä¸€ä¸ªäº‹ä»¶&lt;script&gt; window.onload = function() { const frame = document.getElementById('frame'); frame.contentWindow.postMessage('111', 'http://127.0.0.1:4000/b.html') // å‘é€æ•°æ® window.onMessage = function(e) { // ç›‘å¬å¹¶æ¥æ”¶è¿”å›çš„æ•°æ® console.log(e.data) } }&lt;/script&gt; 12345// b.htmlwindow.onmessage = function(e) { console.log(e.data) //111 e.source.postMessage('222', e.origin)} 4.webSocketWebsocketæ˜¯HTML5çš„ä¸€ä¸ªå…¨åŒå·¥åŒå‘é€šä¿¡åè®®ï¼Œåœ¨å»ºç«‹è¿æ¥ä¹‹åï¼ŒWebSocketçš„æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯éƒ½èƒ½ä¸»åŠ¨å‘å¯¹æ–¹å‘é€æˆ–æ¥æ”¶æ•°æ® 12345678910111213// socket.html&lt;script&gt; // å®ä¾‹åŒ–socket const socket = new WebSocket('ws://127.0.0.1:3000'); // å‘é€è¯·æ±‚ socket.onopen = function () { socket.send('111'); } // ç›‘å¬å›è°ƒ socket.onmessage = function (e) { console.log(e); }&lt;/script&gt; 1234567891011// server.jsconst WebSocket = require('ws');//è®°å¾—å®‰è£…ws// å®ä¾‹åŒ–webSocketï¼Œç›‘å¬3000ç«¯å£const wss = new WebSocket.Server({ port: 3000 });// å»ºç«‹è¿æ¥wss.on('connection', function (ws) { ws.on('message', function (data) { console.log(data); ws.send('222') });}) 5.Nodeä¸­é—´ä»¶ä»£ç† æ¥å—å®¢æˆ·ç«¯è¯·æ±‚ å°†è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨ æ‹¿åˆ°æœåŠ¡å™¨å“åº”çš„æ•°æ® å°†å“åº”è½¬å‘ç»™å®¢æˆ·ç«¯ 123456789101112131415161718192021222324252627282930313233343536// server1.js ä»£ç†æœåŠ¡å™¨(http://localhost:3000)const http = require('http')// ç¬¬ä¸€æ­¥ï¼šæ¥å—å®¢æˆ·ç«¯è¯·æ±‚const server = http.createServer((request, response) =&gt; { // ä»£ç†æœåŠ¡å™¨ï¼Œç›´æ¥å’Œæµè§ˆå™¨ç›´æ¥äº¤äº’ï¼Œéœ€è¦è®¾ç½®CORSçš„é¦–éƒ¨å­—æ®µ response.writeHead(200, { 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Methods': '*', 'Access-Control-Allow-Headers': 'Content-Type' }) // ç¬¬äºŒæ­¥ï¼šå°†è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨ http.request( { host: '127.0.0.1', port: 4000, url: '/', method: request.method, headers: request.headers }, serverResponse =&gt; { // ç¬¬ä¸‰æ­¥ï¼šæ”¶åˆ°æœåŠ¡å™¨çš„å“åº” var body = '' serverResponse.on('data', chunk =&gt; { body += chunk }) serverResponse.on('end', () =&gt; { console.log('The data is ' + body) // ç¬¬å››æ­¥ï¼šå°†å“åº”ç»“æœè½¬å‘ç»™æµè§ˆå™¨ response.end(body) }) } ).end()})server.listen(3000, () =&gt; { console.log('The proxyServer is running at http://localhost:3000')}) 6.Nginxåå‘ä»£ç†å®ç°åŸç†ç±»ä¼¼äºNodeä¸­é—´ä»¶ä»£ç†ï¼Œé€šè¿‡Nginxé…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨(åŸŸåä¸domain1ç›¸åŒ)ï¼Œåå‘ä»£ç†è®¿é—®domain2æ¥å£ï¼Œå¹¶ä¸”å¯ä»¥é¡ºä¾¿ä¿®æ”¹cookieä¸­çš„domainä¿¡æ¯ï¼Œæ–¹ä¾¿å½“å‰åŸŸcookieå†™å…¥ï¼Œå®ç°è·¨åŸŸç™»å½• 1234567891011121314// proxyæœåŠ¡å™¨server { listen 81; server_name www.domain1.com; location / { proxy_pass http://www.domain2.com:8080; #åå‘ä»£ç† proxy_cookie_domain www.domain2.com www.domain1.com; #ä¿®æ”¹cookieé‡ŒåŸŸå index index.html index.htm; # å½“ç”¨webpack-dev-serverç­‰ä¸­é—´ä»¶ä»£ç†æ¥å£è®¿é—®nignxæ—¶ï¼Œæ­¤æ—¶æ— æµè§ˆå™¨å‚ä¸ï¼Œæ•…æ²¡æœ‰åŒæºé™åˆ¶ï¼Œä¸‹é¢çš„è·¨åŸŸé…ç½®å¯ä¸å¯ç”¨ add_header Access-Control-Allow-Origin http://www.domain1.com; #å½“å‰ç«¯åªè·¨åŸŸä¸å¸¦cookieæ—¶ï¼Œå¯ä¸º* add_header Access-Control-Allow-Credentials true; }}","link":"/%E8%B7%A8%E5%9F%9F/"},{"title":"é€‚é…å™¨æ¨¡å¼","text":"é€‚é…å™¨æ¨¡å¼ä¸»è¦ç”¨äºè§£å†³å¼€å‘ä¸­æ¥å£ä¹‹é—´çš„ä¸å…¼å®¹é—®é¢˜ï¼Œæ¯”å¦‚è¯´axiosï¼Œå®ƒå¯ä»¥åŒæ—¶åœ¨æµè§ˆå™¨ç¯å¢ƒå’Œnodeç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¸”ç”¨æˆ·åœ¨è°ƒç”¨å®ƒçš„apiæ—¶ï¼Œå…¥å‚æ˜¯ç›¸åŒçš„ï¼Œè¿™é‡Œä½¿ç”¨çš„å°±æ˜¯é€‚é…å™¨æ¨¡å¼æ¥å…¼å®¹ç®€å•æ¥è¯´ï¼Œé€‚é…å™¨æ¨¡å¼å°±æ˜¯å¯¹å¤–ç»Ÿä¸€å…¥å‚ï¼Œå‡ºå‚å’Œè§„åˆ™ã€‚ ä¾‹å­ç°ä»£æµè§ˆå™¨æä¾›äº†Fetch APIæ¥ç®€åŒ–Ajaxè¯·æ±‚ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å°è£…äº†ä¸€ä¸ªè¯·æ±‚ç±» 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758export default class HttpUtils { // getæ–¹æ³• static get(url) { return new Promise((resolve, reject) =&gt; { // è°ƒç”¨fetch fetch(url) .then(response =&gt; response.json()) .then(result =&gt; { resolve(result) }) .catch(error =&gt; { reject(error) }) }) } // postæ–¹æ³•ï¼Œdataä»¥objectå½¢å¼ä¼ å…¥ static post(url, data) { return new Promise((resolve, reject) =&gt; { // è°ƒç”¨fetch fetch(url, { method: 'POST', headers: { Accept: 'application/json', 'Content-Type': 'application/x-www-form-urlencoded' }, // å°†objectç±»å‹çš„æ•°æ®æ ¼å¼åŒ–ä¸ºåˆæ³•çš„bodyå‚æ•° body: this.changeData(data) }) .then(response =&gt; response.json()) .then(result =&gt; { resolve(result) }) .catch(error =&gt; { reject(error) }) }) } // bodyè¯·æ±‚ä½“çš„æ ¼å¼åŒ–æ–¹æ³• static changeData(obj) { var prop, str = '' var i = 0 for (prop in obj) { if (!prop) { return } if (i == 0) { str += prop + '=' + obj[prop] } else { str += '&amp;' + prop + '=' + obj[prop] } i++ } return str }} å¦‚æœæ­¤æ—¶é¡¹ç›®ä¸­å­˜åœ¨ä½¿ç”¨XMLHttpRequestæ¥è¯·æ±‚ajaxçš„æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ªé€‚é…å™¨ï¼Œç”¨æ¥å°†æ‰€æœ‰XHRè¯·æ±‚è½¬åŒ–ä¸ºæ–°çš„Fetchè¯·æ±‚ 12345678910111213141516171819202122232425// Ajaxé€‚é…å™¨å‡½æ•°ï¼Œå…¥å‚ä¸æ—§æ¥å£ä¿æŒä¸€è‡´async function AjaxAdapter(type, url, data, success, failed) { const type = type.toUpperCase() let result try { // å®é™…çš„è¯·æ±‚å…¨éƒ¨ç”±æ–°æ¥å£å‘èµ· if(type === 'GET') { result = await HttpUtils.get(url) || {} } else if(type === 'POST') { result = await HttpUtils.post(url, data) || {} } // å‡è®¾è¯·æ±‚æˆåŠŸå¯¹åº”çš„çŠ¶æ€ç æ˜¯1 result.statusCode === 1 &amp;&amp; success ? success(result) : failed(result.statusCode) } catch(error) { // æ•æ‰ç½‘ç»œé”™è¯¯ if(failed){ failed(error.statusCode); } }}// ç”¨é€‚é…å™¨é€‚é…æ—§çš„Ajaxæ–¹æ³•async function Ajax(type, url, data, success, failed) { await AjaxAdapter(type, url, data, success, failed)}","link":"/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/"},{"title":"éšè®°","text":"1.é¼ æ ‡æ»šè½®äº‹ä»¶wheelåœ¨é¼ æ ‡æ»šè½®æ»šåŠ¨æ—¶è§¦å‘ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­é¡µé¢æ˜¯å‘ä¸Šæ»šåŠ¨è¿˜æ˜¯å‘ä¸‹æ»šåŠ¨ 123456789useEffect(() =&gt; { const DOMMouseScroll = (e: WheelEvent) =&gt; { // æ»šè½®äº‹ä»¶ä¸­çš„deltaYå±æ€§å¯ä»¥ç”¨æ¥åˆ¤æ–­æ»šè½®æ˜¯å‘ä¸Šæ»šåŠ¨è¿˜æ˜¯å‘ä¸‹æ»šåŠ¨ const log: string = e.deltaY &gt; 0 ? 'å‘ä¸‹æ»šåŠ¨' : 'å‘ä¸Šæ»šåŠ¨' console.log(log); }; window.addEventListener('wheel', DOMMouseScroll); return () =&gt; removeEventListener('wheel', DOMMouseScroll);}) 2. cross-envcross-envç”¨äºé…ç½®å¤šä¸ªå¼€å‘ç¯å¢ƒ å®‰è£…1yarn add cross-env --dev ä½¿ç”¨1234&quot;scripts&quot;: { &quot;start&quot;: &quot;cross-env PORT=8080 nodemon ./bin/www&quot;, &quot;start:test&quot;: &quot;cross-env PORT=8080 API_ENV=dev nodemon ./bin/www&quot;} å¯¼å…¥é…ç½®çš„å˜é‡12const PORT: string = process.env.PORTconst API_ENV: string = process.env.API_ENV; 3. exportå’Œexport defaultçš„åŒºåˆ« å¯¼å‡ºæ–¹å¼ exportå¯ä»¥å…ˆå®šä¹‰å†å¯¼å‡ºï¼Œä¹Ÿå¯ä»¥åœ¨å¯¼å‡ºæ—¶å†å®šä¹‰å˜é‡ exportåœ¨ä¸€ä¸ªæ¨¡å—ä¸­å¯ä»¥å‡ºç°å¤šæ¬¡ export defaultæ˜¯æ¨¡å—çš„é»˜è®¤å¯¼å‡ºæ–¹å¼ï¼Œåªèƒ½å¯¼å‡ºå·²ç»å®šä¹‰å¥½çš„å˜é‡ export defaultåœ¨æ¨¡å—ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ å¯¼å…¥æ–¹å¼ exportå¯¼å‡ºçš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨è§£æ„çš„æ–¹å¼è¿›è¡Œå¯¼å…¥ 1import { a, b } from 'aaa'; export defaultå¯¼å‡ºçš„å¯¹è±¡ï¼Œè¦ä½¿ç”¨å˜é‡åçš„æ–¹å¼å¯¼å…¥ 1import 'å˜é‡å' from 'aaa'; 4.exportså’Œmodule.exportsçš„åŒºåˆ«åŒºåˆ«åœ¨äºå¯¼å‡ºæ–¹å¼çš„ä¸åŒï¼Œexportså¯¼å‡ºçš„æ˜¯æ¨¡å—å‡½æ•°ï¼Œmodule.exportså¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ å¯¼å‡º1234567891011const API_ENV = process.env.API_ENV;const PORT = process.env.PORT;exports.PORT = PORT;exports.API_ENV = API_ENV;module.exports = { PORT, API_ENV,} å¯¼å…¥1const { PORT, API_ENV } = require('../config.js'); 5.git pullå†²çªé—®é¢˜è§£å†³åˆå¹¶ä¿®æ”¹123git stash #å°å­˜ä¿®æ”¹git pull origin mastergit stash pop #æŠŠä¿®æ”¹è¿˜åŸ æ³¨ï¼š git stashï¼šå¤‡ä»½å½“å‰å·¥ä½œåŒºå†…å®¹ï¼Œä»æœ€è¿‘çš„ä¸€æ¬¡æäº¤ä¸­è¯»å–ç›¸å…³å†…å®¹ï¼Œè®©å·¥ä½œåŒºä¿è¯å’Œä¸Šæ¬¡æäº¤çš„å†…å®¹ä¸€è‡´ã€‚åŒæ—¶ï¼Œå°†å½“å‰å·¥ä½œåŒºå†…å®¹ä¿å­˜åˆ°Gitæ ˆä¸­ git pullï¼šæ‹‰å–æœåŠ¡å™¨ä¸Šå½“å‰åˆ†æ”¯ä»£ç  git stash popï¼šä»Gitæ ˆä¸­è¯»å–æœ€è¿‘ä¸€æ¬¡ä¿å­˜çš„å†…å®¹ï¼Œæ¢å¤å·¥ä½œåŒºç›¸å…³å†…å®¹ã€‚åŒæ—¶ï¼Œç”¨æˆ·å¯èƒ½è¿›è¡Œå¤šæ¬¡stashæ“ä½œï¼Œéœ€è¦ä¿è¯åstashçš„æœ€å…ˆè¢«å–åˆ°ï¼Œæ‰€ä»¥ç”¨æ ˆï¼ˆå…ˆè¿›åå‡ºï¼‰æ¥ç®¡ç†ï¼›popå–æ ˆé¡¶çš„å†…å®¹å¹¶æ¢å¤ git stash listï¼šæ˜¾ç¤ºGitæ ˆå†…çš„æ‰€æœ‰å¤‡ä»½ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªåˆ—è¡¨æ¥å†³å®šä»é‚£ä¸ªåœ°æ–¹æ¢å¤ã€‚ git stash clearï¼šæ¸…ç©ºGitæ ˆæ”¾å¼ƒæœ¬æ¬¡ä¿®æ”¹(ä¸å»ºè®®ä½¿ç”¨)12git reset --hardgit pull origin master 6.CSSæ–‡æœ¬çœç•¥ å•è¡Œæ–‡æœ¬çœç•¥12345width: 200px;display: block;overflow: hidden;text-overflow: ellipsis;white-space: nowrap; å¤šè¡Œæ–‡æœ¬çœç•¥12345width: 100px;display: -webkit-box;-webkit-box-orient: vertical;-webkit-line-clamp: 3;overflow: hidden; 7.gitæ— æ³•åˆ‡æ¢åˆ°åˆšåˆ›å»ºçš„è¿œç¨‹åˆ†æ”¯123git fetch --allgit reset --hard origin/mastergit fetch 8.JavaScriptå‡ ä¸ªç‰¹æ®Šè¿ç®—ç¬¦çš„ç”¨æ³•æ³¨ï¼šJavaScriptä¸­nullï¼Œundefinedï¼Œfalseï¼Œ&quot;&quot;ï¼ŒNaNéƒ½ä¼šè¢«åˆ¤å®šä¸ºfalse ||å’Œ??çš„åŒºåˆ« ||å’Œ??ä¸»è¦ç”¨äºé»˜è®¤å€¼çš„èµ‹å€¼ 12345// || è¿ç®—ç¬¦const vaule = a || b; // å½“å·¦ä¾§ä¸º nullï¼Œundefinedï¼Œ&quot;&quot;ï¼Œfalseï¼ŒNaNæ—¶ï¼Œå³ä¾§çš„å€¼ä¼šç”Ÿæ•ˆ// ?? è¿ç®—ç¬¦const value = a ?? b; // å½“ä¸”ä»…å½“å·¦ä¾§çš„å€¼ä¸º null æˆ– undefinedæ—¶ï¼Œå³ä¾§çš„å€¼æ‰ä¼šç”Ÿæ•ˆ &amp;&amp;è¿ç®—ç¬¦ &amp;&amp;è¿ç®—ç¬¦ä¸€èˆ¬ç”¨äºçŸ­è·¯åˆ¤æ–­ï¼Œä¹Ÿå¯ç”¨äºé»˜è®¤å€¼çš„èµ‹å€¼ 123a &amp;&amp; b; // å½“ä¸”ä»…å½“ açš„åˆ¤æ–­å€¼ä¸ºtrueæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œbè¯­å¥const value = a &amp;&amp; b; // å½“ä¸”ä»…å½“ açš„åˆ¤æ–­å€¼ä¸ºtrueæ—¶ï¼Œæ‰ä¼šå°†bèµ‹å€¼ç»™valueï¼Œå¦åˆ™å°†aèµ‹å€¼ç»™value !!è¿ç®—ç¬¦ !!è¿ç®—ç¬¦å¯ä»¥å°†å€¼å¿«é€Ÿè½¬æ¢ä¸ºå®ƒå¯¹åº”çš„åˆ¤æ–­å€¼ï¼Œå¯ä»¥åœ¨éœ€è¦è¿”å›å¸ƒå°”å€¼çš„æ•°æ®éå†å‡½æ•°ä¸­ä½¿ç”¨(filter some find findIndex ç­‰) 12const a = null;console.log(!!a); // è¾“å‡º false 9.connect-multiparty å¯ä»¥ç”¨äºexpressç¼–å†™æ¡†æ¶ä¸Šä¼ æ–‡ä»¶æ¥å£1234567891011121314151617181920212223242526272829303132333435const express = require('express');const multipart = require('connect-multiparty');const path = require('path');const Oss = require('ali-oss');const fs = require('fs');const app = express();app.use(express.json());const multipartMiddleware = multipart({ uploadDir: path.resolve(__dirname, 'static')});const client = new Oss({ endpoint: 'You endpint', accessKeyId: 'You AccessKeyId', accessKeySecret: 'You AccessKeySecret', bucket: 'You Bucket'});app.post('/test', multipartMiddleware, async (req, res) =&gt; { const file = Object.values(req.files)[0]; console.log(file); try { const result = await client.put(`express-test/${file.name}`, file.path); res.send(result.url); } catch (error) { res.send(error); throw error; } finally { fs.unlinkSync(file.path); };});app.listen(3000, () =&gt; console.log('http//127.0.0.1:3000')); 10.midway.jsä¸Šä¼ å›¾ç‰‡æ¥å£demo å…·ä½“å¯ä»¥å‚è€ƒeggå®˜ç½‘çš„ä¸Šä¼ å›¾ç‰‡demo ä¸‹è½½egg-oss å¦‚æœé‡‡ç”¨Streamæ¨¡å¼ä¸Šä¼ æ–‡ä»¶ï¼Œè¿˜éœ€è¦ä¸‹è½½stream-wormholeä¾èµ– 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import { Controller, Post, Provide, Inject } from '@midwayjs/decorator';import { Context } from 'egg';import * as path from 'path';const sendToWormhole = require('stream-wormhole');@Provide()@Controller()export class ClientController { @Inject() ctx: Context; /** * fileæ–¹å¼å›¾ç‰‡ä¸Šä¼  * */ @Post('/test/file') async testClient() { const file = this.ctx.request.files[0]; const name = `egg-multipart-test/${path.basename(file.filename)}`; let result: any; try { result = await this.ctx.oss.put(name, file.filepath); } catch (error) { return Promise.reject(error); } finally { fs.unlinkSync(file.filepath); } return { code: 200, message: 'å›¾ç‰‡ä¸Šä¼ æˆåŠŸ', data: result.url, }; } /** * Streamæ–¹å¼å›¾ç‰‡ä¸Šä¼  * */ @Post('/test/file') async testClient() { const stream = await this.ctx.getFileStream(); const name = 'egg-multipart-test/' + path.basename(stream.filename); let result; try { result = await this.ctx.oss.putStream(name, stream); } catch (err) { await sendToWormhole(stream); throw new Error(err); } return { code: 200, message: 'å›¾ç‰‡ä¸Šä¼ æˆåŠŸ', data: result.url, }; }} 11.Reactå¯¹props.childrençš„æ“ä½œ childrenç±»ä¼¼ä¸Vueä¸­çš„æ’æ§½è¯­æ³•ï¼Œä½†ä¼šæ¯”åè€…çµæ´»å¾—å¤šï¼Œåœ¨TypeScriptä¸­ï¼Œchildrençš„ç±»å‹ä¸€èˆ¬è¢«å®šä¹‰ä¸ºReact.ReactNode | React.ReactNode[] Reactæä¾›äº†ç›¸åº”çš„Apiæ¥æ“ä½œchildren 12345678{ React.Children.map(props.children, (childItem, index) =&gt; ( &lt;&gt; {childItem} {index !== props.children.length - 1 &amp;&amp; &lt;Divider type=&quot;vertical&quot; /&gt;} &lt;/&gt; ))} 1234{React.Children.map(props.children, (childItem, i) =&gt; { if (i &lt; 1) return return child})} 12.BigInt BigIntæ˜¯ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ï¼Œç”¨äºå½“æ•´æ•°å€¼å¤§äºNumberæ•°æ®ç±»å‹æ”¯æŒçš„èŒƒå›´æ—¶ã€‚è¿™ç§æ•°æ®ç±»å‹å…è®¸æˆ‘ä»¬å®‰å…¨åœ°å¯¹å¤§æ•´æ•°æ‰§è¡Œç®—æœ¯æ“ä½œï¼Œè¡¨ç¤ºé«˜åˆ†è¾¨ç‡çš„æ—¶é—´æˆ³ï¼Œä½¿ç”¨å¤§æ•´æ•°idï¼Œç­‰ç­‰ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨åº“ åˆ›å»º bigint çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šåœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ  n æˆ–è€…è°ƒç”¨ BigInt å‡½æ•°ï¼Œè¯¥å‡½æ•°ä»å­—ç¬¦ä¸²ã€æ•°å­—ç­‰ä¸­ç”Ÿæˆ bigintã€‚123const bigint = 1234567890123456789012345678901234567890n;// orconst sameBigint = BigInt(&quot;1234567890123456789012345678901234567890&quot;); è¿ç®— BigIntå¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥åƒå¸¸è§„æ•°å­—ç±»å‹ä¸€æ ·ä½¿ç”¨ï¼Œè®¡ç®—åçš„è¿”å›å€¼ä¹Ÿæ˜¯BigInt12alert(1n + 2n); // 3alert(5n / 2n); // 2 BigIntä¸èƒ½å’Œnumberç±»å‹æ··ç”¨1alert(1n + 2); // Error: Cannot mix BigInt and other types 13.qs axios paramsSerializer axiosåœ¨å‘èµ·getè¯·æ±‚æ—¶å¦‚æœé‡åˆ°æ•°ç»„å¯ä»¥ä½¿ç”¨paramsSerializerå’Œqsè¿›è¡Œå‚æ•°çš„åºåˆ—åŒ– å¯ä»¥é€šè¿‡yarn add qsè¿›è¡Œå®‰è£…qsä¾èµ–åŒ…123456axios.get(url, { params, paramsSerializer: (params) =&gt; { return qs.stringify(params, {arrayFormat: 'repeat'}) }}) å…¶ä»–ç¤ºä¾‹12345678//å½¢å¼ï¼š ids=1&amp;ids=2&amp;id=3qs.stringify({ids: [1, 2, 3]}, { indices: false })//å½¢å¼ï¼š ids[0]=1&amp;aids1]=2&amp;ids[2]=3qs.stringify({ids: [1, 2, 3]}, {arrayFormat: â€˜indicesâ€˜})//å½¢å¼ï¼šids[]=1&amp;ids[]=2&amp;ids[]=3qs.stringify({ids: [1, 2, 3]}, {arrayFormat: â€˜bracketsâ€˜})//å½¢å¼ï¼š ids=1&amp;ids=2&amp;id=3qs.stringify({ids: [1, 2, 3]}, {arrayFormat: â€˜repeatâ€˜}) 14.æ»šåŠ¨åŠ è½½ç›¸å…³ä¸šåŠ¡ ä¸‰è¦ç´ ï¼š scrollHeight scrollTop innerHeightå’Œåº•éƒ¨çš„é«˜åº¦123456789101112131415161718192021222324252627useEffect(() =&gt; { const scroll = () =&gt; { const scrollTop = Math.max(document.documentElement.scrollTop, document.body.scrollTop, window.scrollY); const scrollHeight = Math.max(document.documentElement.scrollHeight, document.body.scrollHeight); // åˆ¤æ–­æ»šåŠ¨æ¡æ˜¯å¦æ¥è§¦åº•éƒ¨ if (scrollHeight - window.innerHeight - scrollTop &lt; 294) { setAnchorAffix({ affix: true, top: anchorAffix.affix ? anchorAffix.top : (scrollTop - 35), // 144 æ˜¯é¡¶éƒ¨èœå•æ çš„é«˜åº¦ }); } else { setAnchorAffix({ affix: false, top: 0, }); } // åˆ¤æ–­å³ä¾§èœå•æ˜¯å¦å¼€å¯å›ºå®šå®šä½ if (scrollTop) { setIsFixed(!anchorAffix.affix); setOffsetLeft(getOffsetLeft()); } else { setIsFixed(false); } }; window.addEventListener('scroll', scroll); return () =&gt; { window.removeEventListener('scroll', scroll); }; }, [anchorAffix.affix]); 15.aé“¾æ¥ä¸‹è½½å¯¼å‡ºæ–‡ä»¶ aé“¾æ¥çš„downloadå±æ€§å¯ä»¥æŒ‡å®šä¸‹è½½çš„æ–‡ä»¶åï¼Œä»…åœ¨åŒæºç­–ç•¥ä¸‹æœ‰æ•ˆ1234567const blob = await fetch(Object.values(res?.data)?.[0] as string).then(res =&gt; res.blob())const aDownLoad = document.createElement('a');const downLoadUrl = window.URL.createObjectURL(blob); // å°†ä¸‹è½½åˆ°çš„æ–‡ä»¶ä½¿ç”¨createObjectURLå®ä¾‹åŒ–æˆä¸´æ—¶çš„urlaDownLoad.href = downLoadUrlaDownLoad.download = &quot;name&quot;;aDownLoad.click();window.URL.revokeObjectURL(downLoadUrl); // ä¸‹è½½å®Œæ¯•æ—¶æ¸…é™¤ä¸´æ—¶çš„url 16.å€’è®¡æ—¶12345678910111213141516171819202122232425262728293031import React, { useState, useEffect, useRef } from 'react';import { Button } from 'antd';export default () =&gt; { const [text, setText] = useState('è·å–éªŒè¯ç '); const timerRef = useRef&lt;number&gt;(); const handleClick = () =&gt; { timerRef.current &amp;&amp; clearInterval(timerRef.current); let time = 10; timerRef.current = window.setInterval(() =&gt; { if (time === 0) { clearInterval(timerRef.current); timerRef.current = undefined; setText('é‡æ–°è·å–éªŒè¯ç '); time = 10; } else { time -= 1; setText(`${time}åé‡æ–°è·å–`) } }, 1000); } return ( &lt;div&gt; &lt;Button onClick={handleClick} disabled={!!timerRef.current}&gt;{text}&lt;/Button&gt; &lt;/div&gt; );}; 17.é”šç‚¹å¹³æ»‘æ»šåŠ¨ ä½¿ç”¨cssçš„scroll-behaviorå±æ€§ åœ¨æ»šåŠ¨æ¡æ‰€åœ¨çš„çˆ¶å…ƒç´ ä¸­åŠ å…¥è¯¥å±æ€§ï¼Œå°±å¯ä»¥å®ç°é”šç‚¹å¹³æ»‘æ»šåŠ¨æ•ˆæœ12345678910111213141516171819202122232425262728293031323334353637383940414243444546import React, { useState } from 'react';import style from './style.scss';export default () =&gt; { const [arr] = useState([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]); return ( &lt;div className={style.wrap}&gt; &lt;ul className={style.ul1}&gt; {arr.map((item, index) =&gt; ( &lt;li key={index} style={{ marginBottom: 200 }} id={`${item}`}&gt; &lt;h1&gt;{item}&lt;/h1&gt; &lt;/li&gt; ))} &lt;/ul&gt; &lt;ul className={style.sidebar}&gt; {arr.map((item, index) =&gt; ( &lt;li key={index}&gt; &lt;h1&gt; &lt;a href={`#${item}`}&gt;{item}&lt;/a&gt; &lt;/h1&gt; &lt;/li&gt; ))} &lt;/ul&gt; &lt;/div&gt; );};// css.wrap { display: flex; justify-content: space-between; .sidebar { position: fixed; top: 0; right: 0; } .ul1 { width: 400px; height: 400px; overflow-y: scroll; scroll-behavior: smooth; }} 18.ä½¿ç”¨dayjsæ›¿æ¢antdç»„ä»¶ä¸­é»˜è®¤çš„momentantdæ—¥æœŸç»„ä»¶é»˜è®¤é›†æˆäº†momentjsè¿™ä¸ªæ—¥æœŸå¤„ç†åº“ï¼Œè¿™ä¼šä½¿å¾—æ‰“åŒ…çš„ç»„ä»¶ä½“ç§¯è¿‡å¤§ï¼Œå¯ä»¥ä½¿ç”¨dayjsæ›¿æ¢antdç»„ä»¶ä¸­çš„moment ä¸‹è½½dayjs: npm i datjs -S ä¸‹è½½antd-dayjs-webpack-plugin: npm i antd-dayjs-webpack-plugin -D 1.ä¿®æ”¹webpacké…ç½® å‚è€ƒ: https://github.com/ant-design/antd-dayjs-webpack-plugin 1234567const AntdDayjsWebpackPlugin = require('antd-dayjs-webpack-plugin');module.exports = { // ... plugins: [ new AntdDayjsWebpackPlugin() ]} 2.å›½é™…åŒ–123456789101112131415161718// ...import { ConfigProvider } from 'antd';import zhCN from 'antd/lib/locale/zh_CN';import dayjs from 'dayjs';import dayjsLocal from 'dayjs/locale/zh-cn';// ...// dayjså›½é™…åŒ–dayjs.locale(dayjsLocal)const App = () =&gt; { return ( /* antdå›½é™…åŒ– */ &lt;ConfigProvider locale={zhCN}&gt; &lt;Routes /&gt; &lt;/ConfigProvider&gt; )};render(&lt;App /&gt;, document.getElementById('root')); 3. TypeScriptå£°æ˜ä¿®æ”¹ å‚è€ƒ: https://github.com/ant-design/antd-dayjs-webpack-plugin/issues/23 è‹¥æ˜¯ä½¿ç”¨TypeScriptè¿›è¡Œå¼€å‘ï¼Œè¿˜éœ€è¦ä¿®æ”¹ä¿®æ”¹antdç»„ä»¶ä¸­é»˜è®¤çš„Momentå£°æ˜ï¼Œå¦åˆ™ä¼šæŠ¥ç±»å‹æ£€æµ‹é”™è¯¯ åœ¨ä½ é¡¹ç›®çš„xxx.d.tsä¸­æ·»åŠ ä»¥ä¸‹ä»£ç  123456789// global.d.tsdeclare module 'moment' { import { Dayjs } from 'dayjs' namespace moment { type Moment = Dayjs } export = moment export as namespace moment} 19.ts-node-dev å¯ä»¥å®æ—¶è¿è¡ŒTypeScriptæ–‡ä»¶ å®‰è£… npm install ts-node-dev -D12345// package.json&quot;scripts&quot;: { &quot;dev&quot;: &quot;cross-env tsnd -P ./tsconfig.json --respawn ./src/index.ts&quot;, &quot;build&quot;: &quot;cross-env tsc&quot; }, 12345678910111213141516171819// tsconfig.json{ &quot;include&quot;: [&quot;src/**/*&quot;], &quot;exclude&quot;: [&quot;node_modules&quot;], &quot;compilerOptions&quot;: { &quot;target&quot;: &quot;ES6&quot;, &quot;module&quot;: &quot;CommonJS&quot;, &quot;allowSyntheticDefaultImports&quot;: true, &quot;esModuleInterop&quot;: true, &quot;sourceMap&quot;: true, &quot;baseUrl&quot;: &quot;./&quot;, &quot;outDir&quot;: &quot;./dist&quot;, &quot;declaration&quot;: true, &quot;declarationDir&quot;: &quot;./dist&quot;, &quot;moduleResolution&quot;: &quot;Node&quot;, &quot;noImplicitAny&quot;: false, &quot;downlevelIteration&quot;: true, }} 20.ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆpx rem vwçš„è½¬æ¢ é»˜è®¤æƒ…å†µä¸‹æ ¹å…ƒç´ çš„font-sizeä¸º 1rem = 16pxï¼Œä½†ä¸ºäº†æ–¹ä¾¿æ¢ç®—ï¼Œæˆ‘ä»¬é€šå¸¸è®¾ç½® 1rem = 100px ä»¥750pxçš„è®¾è®¡ç¨¿ä¸ºä¾‹ï¼Œåˆ™å¯ä»¥å¾—å‡º 750px = 7.5rem ç›¸å½“äº100vw=7.5remé‚£ä¹ˆ1rem = 100vw / 7.5 = 13.3333vwï¼Œæ‰€ä»¥è®¾ç½®æ ¹å…ƒç´ çš„font-sizeä¸º13.3333vw è‹¥è¦å…¼å®¹æ—§æµè§ˆå™¨ï¼Œåˆ™éœ€è¦å†™å…¥å“åº”å¼å¸ƒå±€ ä¾‹å¦‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576// ç›¸å½“äº 320 / 7.5 = 42.667px@media screen and (max-width: 320px) { html { font-size: 42.667px; font-size: 13.3333vw; }}// ç›¸å½“äº375 / 7.5 = 48px@media screen and (min-width: 321px) and (max-width: 375px) { html { font-size: 48px; font-size: 13.3333vw; }}@media screen and (min-width: 376px) and (max-width:393px) { html { font-size: 52.4px; font-size: 13.3333vw }}@media screen and (min-width: 394px) and (max-width:412px) { html { font-size: 54.93px; font-size: 13.3333vw }}@media screen and (min-width: 413px) and (max-width:414px) { html { font-size: 55.2px; font-size: 13.3333vw }}@media screen and (min-width: 415px) and (max-width:480px) { html { font-size: 64px; font-size: 13.3333vw }}@media screen and (min-width: 481px) and (max-width:540px) { html { font-size: 72px; font-size: 13.3333vw }}@media screen and (min-width: 541px) and (max-width:640px) { html { font-size: 85.33px; font-size: 13.3333vw }}@media screen and (min-width: 641px) and (max-width:720px) { html { font-size: 96px; font-size: 13.3333vw }}@media screen and (min-width: 721px) and (max-width:768px) { html { font-size: 102.4px; font-size: 13.3333vw }}@media screen and (min-width: 769px) and (max-width:852px) { html { font-size: 113.4px; font-size: 13.3333vw }}@media screen and (min-width: 853px) { html { font-size: 130.4px; font-size: 13.3333vw }} è€Œåœ¨é¡µé¢æ ·å¼ä¸­ï¼Œç›´æ¥å°†æµ‹é‡å‡ºçš„pxé™¤ä»¥100å°±æ˜¯å¯¹åº”çš„remå€¼ viewportç¼©æ”¾æ¯”ä¾‹è®¾ç½®1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot;&gt; 21.å¸¸ç”¨æ­£åˆ™123456789101112131415161718/** ç½‘å€æ­£åˆ™ */export const addressReg = /^(https?):\\/\\/[\\w-]+(\\.[\\w-]+)+([\\w-.,@?^=%&amp;:/~+#]*[\\w\\-@?^=%&amp;/~+#])?$/;/** é‚®ç®± */export const emailReg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;/** æ™®é€šå›ºå®šç”µè¯éªŒè¯ */export const phoneNumberCnReg = /^((\\d{3,4})|\\d{3,4}-|\\s)?\\d{7,14}$/;/** ä¸­å›½æ‰‹æœº */export const phoneCnReg = /^1[3456789]\\d{9}$/;/** æ±‰å­—æ­£åˆ™ */export const regCn = /[\\u4E00-\\u9FFF]+/g;/** æ’åºåºå·ä¸ºæ•´æ•° */export const intReg = /^-?[1-9]?[0-9]{0,8}$/;/** ç‰ˆæœ¬å· */export const versionReg = /^([0-9]|\\d\\d)(.([0-9]|\\d\\d)){2}$/;/** é“¶è¡Œå¡å· */export const validateBankCard = /^([1-9]{1})(\\d{14}|\\d{18})$/; 22.å¯èƒ½ä¼šç”¨åˆ°çš„ç½‘ç«™ES5https://wangdoc.com/javascript/ ES6https://es6.ruanyifeng.com/ åœ¨çº¿å·¥å…·https://oktools.net/ åˆ·é¢˜https://fe.ecool.fun/ 23.é€šè¿‡nvmå®‰è£…Nodejså’Œç®¡ç†åŒ…çš„å…¨å±€åŒ–é…ç½®1.nvmä¸‹è½½nvmæ˜¯node.jsçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨nvmå®‰è£…nodeï¼Œå¯ä»¥å®ç°nodeç‰ˆæœ¬çš„å¿«é€Ÿåˆ‡æ¢ windowsç”µè„‘ä¸‹è½½nvm-setup.zipçš„å®‰è£…åŒ…å³å¯ ä¸‹è½½åœ°å€nvm-download nvm-setup.zip(v1.1.7) 2.nvmå¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ å‘½ä»¤ è¯´æ˜ nvm list available æ˜¾ç¤ºå¯ä»¥å®‰è£…çš„æ‰€æœ‰node.jsçš„ç‰ˆæœ¬ nvm list æ˜¾ç¤ºæ‰€æœ‰å·²å®‰è£…çš„node.jsç‰ˆæœ¬ nvm use åˆ‡æ¢åˆ°æŒ‡å®šçš„nodejsç‰ˆæœ¬ nvm install å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„node.jsï¼Œä¾‹å¦‚ï¼šnvm install 8.12.0 nvm uninstall å¸è½½æŒ‡å®šç‰ˆæœ¬çš„node.jsï¼Œä¾‹å¦‚ï¼šnvm uninstall 8.12.0 nvm on å¯ç”¨node.jsç‰ˆæœ¬ç®¡ç† nvm off ç¦ç”¨node.jsç‰ˆæœ¬ç®¡ç†(ä¸å¸è½½ä»»ä½•ä¸œè¥¿) ä¿®æ”¹nvmä¸‹è½½æº åœ¨nvmç›®å½•ä¸­æ‰¾åˆ°setting.txtæ·»åŠ ä»¥ä¸‹ä»£ç  12node_mirror: https://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/ 3.npmç®¡ç†ä½¿ç”¨ nvm æ—¶ï¼Œé»˜è®¤çš„ prefix æ˜¯å½“å‰æ¿€æ´»çš„ Node.js ç‰ˆæœ¬çš„å®‰è£…è·¯å¾„ã€‚ å¸¦æ¥ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šåˆ‡æ¢ç‰ˆæœ¬ä¹‹åï¼Œä¹‹å‰å®‰è£…å…¨å±€å‘½ä»¤æ¨¡å—éœ€è¦é‡æ–°å®‰è£…ï¼Œéå¸¸ä¸æ–¹ä¾¿ã€‚ è§£å†³æ–¹æ¡ˆæ˜¯é…ç½®ç»Ÿä¸€çš„å…¨å±€æ¨¡å—å®‰è£…è·¯å¾„ã€‚ æ–°å»ºnpm_globalå’Œnpm_cacheæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«ç”¨äºnpmåŒ…çš„å…¨å±€å®‰è£…è·¯å¾„å’Œå…¨å±€cacheè·¯å¾„ npmæŸ¥çœ‹å„ç§å…¨å±€è·¯å¾„çš„å‘½ä»¤ æŸ¥çœ‹å½“å‰npmåŒ…çš„å…¨å±€å®‰è£…è·¯å¾„ 1npm prefix -g æŸ¥çœ‹å½“å‰npmåŒ…çš„å…¨å±€cacheè·¯å¾„ 1npm config get cache æŸ¥çœ‹é…ç½®åˆ—è¡¨ 1npm config ls æŸ¥çœ‹é…ç½®åˆ—è¡¨çš„å…¨éƒ¨ä¿¡æ¯ 1npm config ls -l ã€æ³¨ã€‘æ¯æ¬¡ä½¿ç”¨nvmåˆ‡æ¢nodeç‰ˆæœ¬ï¼Œæœ€å¥½éƒ½æŸ¥çœ‹ä¸€ä¸‹npmå…¨å±€é…ç½®è·¯å¾„æ˜¯å¦å¤±æ•ˆ npmä¿®æ”¹å…¨å±€è·¯å¾„å‘½ä»¤ ä¿®æ”¹npmçš„åŒ…çš„å…¨å±€å®‰è£…è·¯å¾„ 1npm config set prefix &quot;E:\\NodeJs\\npm\\npm_global&quot; ä¿®æ”¹npmçš„åŒ…çš„å…¨å±€cacheä½ç½® 1npm config set cache &quot;E:\\NodeJs\\npm\\npm_cache&quot; é…ç½®ç¯å¢ƒå˜é‡å°†npmåŒ…å…¨å±€å®‰è£…è·¯å¾„é…ç½®åœ¨ç¯å¢ƒå˜é‡ä¸­ æ­¤ç”µè„‘ -&gt; å±æ€§ -&gt; é«˜çº§ç³»ç»Ÿè®¾ç½® -&gt; ç¯å¢ƒå˜é‡ -&gt; ç³»ç»Ÿå˜é‡ -&gt; path -&gt;ç¼–è¾‘ - &gt; æ–°å¢è·¯å¾„ -E:\\NodeJs\\npm\\npm_globalï¼ˆè·¯å¾„å¯ä»¥æ ¹æ®npm prefix -gæŸ¥çœ‹ï¼‰ 4.yarnç®¡ç† å®‰è£…yarn 12npm install yarn -gyarn -v ã€æ³¨ã€‘å¦‚æœé¦–æ¬¡å®‰è£…yarnåï¼Œè¿è¡Œyarn -vä¸èƒ½æ˜¾ç¤ºyarnçš„ç‰ˆæœ¬ï¼Œå¯ä»¥é‡å¯ä¸€ä¸‹ç»ˆç«¯å†å°è¯• yarnçš„é»˜è®¤ç¼“å­˜å’Œå­˜å‚¨åŒ…çš„è·¯å¾„éƒ½åœ¨Cç›˜ï¼Œæ‰€ä»¥æœ€å¥½åœ¨å®‰è£…åä¹Ÿè¿›è¡Œä¿®æ”¹ yarnæŸ¥çœ‹å„ç§è·¯å¾„å‘½ä»¤ æŸ¥çœ‹ yarn å…¨å±€binä½ç½®(prefix) 1yarn global bin æŸ¥çœ‹ yarn å…¨å±€å®‰è£…ä½ç½®(folder) 1yarn global dir æŸ¥çœ‹ yarn å…¨å±€cacheä½ç½®(cache) 1yarn cache dir æŸ¥çœ‹é…ç½®åˆ—è¡¨ 1yarn config list yarnä¿®æ”¹è·¯å¾„å‘½ä»¤ æ”¹å˜ yarn å…¨å±€binä½ç½®(prefix) 1yarn config set prefix &quot;E:\\NodeJs\\npm\\yarn_bin&quot; æ”¹å˜ yarn å…¨å±€å®‰è£…ä½ç½®(folder) 1yarn config set global-folder &quot;E:\\NodeJs\\npm\\yarn_dir&quot; æ”¹å˜ yarn å…¨å±€cacheä½ç½®(cache) 1yarn config set cache-folder &quot;E:\\NodeJs\\npm\\yarn_cache&quot; é…ç½®ç¯å¢ƒå˜é‡å°†E:\\NodeJs\\npm\\yarn_binå¡«åŠ åˆ°ç¯å¢ƒå˜é‡çš„pathå˜é‡ä¸­ï¼Œä¸»è¦è¯¥ç›®å½•ä¸‹æ˜¯å¦æœ‰è‡ªåŠ¨ç”Ÿæˆçš„binç›®å½•ï¼Œè‹¥æœ‰ï¼Œåˆ™æ·»åŠ E:\\NodeJs\\npm\\yarn_bin\\bin 5.nrmnrmæ˜¯npmçš„ä¸‹è½½æºç®¡ç†å·¥å…· å®‰è£… 1npm i nrm -g ä½¿ç”¨ å‘½ä»¤ è¯´æ˜ nrm ls æŸ¥çœ‹å½“å‰æº nrm use &lt;æºåç§°&gt; åˆ‡æ¢ä¸‹è½½æº nrm test æµ‹è¯•å“ªä¸ªæºä¸‹è½½æœ€å¿« ä½¿ç”¨nrmå¯èƒ½å‡ºç°çš„é”™è¯¯åœ¨windowsä¸­ä½¿ç”¨nrmå¯èƒ½ä¼šå‡ºç°process.envæ— æ³•è¯†åˆ«çš„æƒ…å†µï¼Œåˆ™ä¿®æ”¹é”™è¯¯æç¤ºçš„ç¬¬å››è¡Œä¸­çš„æ–‡ä»¶ 1const NRMRC = path.join(process.env[(process.platform == 'win32') ? 'USERPROFILE' : 'HOME'], '.nrmrc'); 24.Vueæ–°è„šæ‰‹æ¶1npm init vue@next 25.æ»šåŠ¨æ¡æ ·å¼ä¿®æ”¹1234567891011121314151617// æ•´ä¸ªæ»šåŠ¨æ¡&amp;::-webkit-scrollbar { width: 6px; height: 6px;}// æ»šåŠ¨æ¡è½¨é“::-webkit-scrollbar-track { height: 3px; background: rgba(51, 51, 51, 0.3); border-radius: 3px;}// æ»šåŠ¨æ¡ä¸Šçš„æ»šåŠ¨æ»‘å—&amp;::-webkit-scrollbar-thumb { width: 6px; background: rgba(51, 51, 51, 0.3); border-radius: 3px;} åœ¨ä¿®æ”¹æ»šåŠ¨æ¡æ ·å¼æ—¶ï¼Œéœ€è¦åœ¨è®¾ç½®äº†&amp;::-webkit-scrollbarçš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ 26.CSSæ–‡å­—ç¯ç»•æ•ˆæœé—®é¢˜å½“å­—ä½“ä¸ºä¸­æ–‡æ—¶ï¼Œæ–‡å­—å¯ä»¥é»˜è®¤ç¯ç»•ï¼Œå½“å­—ä½“ä¸ºè‹±æ–‡æ—¶ï¼Œéœ€è¦è®¾ç½®word-break: break-all work-breakå±æ€§è§„å®šäº†è‡ªåŠ¨æ¢è¡Œçš„å¤„ç†æ–¹å¼ å€¼ æè¿° normal ä½¿ç”¨æµè§ˆå™¨é»˜è®¤çš„æ¢è¡Œè§„åˆ™ã€‚ break-all å…è®¸åœ¨å•è¯å†…æ¢è¡Œã€‚ keep-all åªèƒ½åœ¨åŠè§’ç©ºæ ¼æˆ–è¿å­—ç¬¦å¤„æ¢è¡Œã€‚ 27.Element.getBoundingClientRect() Element.getClientRects()Element.getBoundingClientRect() è¿”å›å…ƒç´ çš„å¤§å°ä»¥åŠç›¸å¯¹äºè§†å£çš„ä½ç½® è¿”å›å€¼æ˜¯ä¸€ä¸ª DOMRect å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ç”±è¯¥å…ƒç´ çš„ getClientRects() æ–¹æ³•è¿”å›çš„ä¸€ç»„çŸ©å½¢çš„é›†åˆï¼Œå°±æ˜¯è¯¥å…ƒç´ çš„ CSS è¾¹æ¡†å¤§å°ã€‚è¿”å›çš„ç»“æœæ˜¯åŒ…å«å®Œæ•´å…ƒç´ çš„æœ€å°çŸ©å½¢ï¼Œå¹¶ä¸”æ‹¥æœ‰left, top, right, bottom, x, y, width, å’Œ heightè¿™å‡ ä¸ªä»¥åƒç´ ä¸ºå•ä½çš„åªè¯»å±æ€§ç”¨äºæè¿°æ•´ä¸ªè¾¹æ¡†ã€‚é™¤äº†width å’Œ height ä»¥å¤–çš„å±æ€§æ˜¯ç›¸å¯¹äºè§†å›¾çª—å£çš„å·¦ä¸Šè§’æ¥è®¡ç®—çš„ã€‚ Element.getClientRects() è¿”å›ä¸€ä¸ªæŒ‡å‘å®¢æˆ·ç«¯ä¸­æ¯ä¸€ä¸ªç›’å­çš„è¾¹ç•ŒçŸ©å½¢çš„çŸ©å½¢é›†åˆ è¿”å›å€¼æ˜¯ClientRectå¯¹è±¡é›†åˆï¼Œè¯¥å¯¹è±¡æ˜¯ä¸è¯¥å…ƒç´ ç›¸å…³çš„CSSè¾¹æ¡†ã€‚æ¯ä¸ªClientRectå¯¹è±¡åŒ…å«ä¸€ç»„æè¿°è¯¥è¾¹æ¡†çš„åªè¯»å±æ€§â€”â€”leftã€topã€rightå’Œbottomï¼Œå•ä½ä¸ºåƒç´ ï¼Œè¿™äº›å±æ€§å€¼æ˜¯ç›¸å¯¹äºè§†å£çš„top-leftçš„ã€‚å³ä½¿å½“è¡¨æ ¼çš„æ ‡é¢˜åœ¨è¡¨æ ¼çš„è¾¹æ¡†å¤–é¢ï¼Œè¯¥æ ‡é¢˜ä»ä¼šè¢«è®¡ç®—åœ¨å†…ã€‚ 28.è·å–å½“å‰è®¾å¤‡ä¿¡æ¯JavaScripté€šè¿‡navigator.userAgentå±æ€§å¯ä»¥è·å–å½“å‰è®¾å¤‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æµè§ˆå™¨ä¿¡æ¯ï¼Œè®¾å¤‡æ˜¯PCè¿˜æ˜¯Mobileç­‰ 123456// ä¾‹å¦‚åˆ¤æ–­é¡µé¢æ˜¯å¦åœ¨é’‰é’‰ä¸­æ‰“å¼€function isDingTalk() { var ua = navigator.userAgent.toLowerCase(); if (/dingtalk/gi.test(ua) &amp;&amp; /android/gi.test(ua) &amp;&amp; /mobile/gi.test(ua)) return true; return false;} 29.JavaScriptå‰ªè´´æ¿æ“ä½œClipboard APIClipboard API æ˜¯ä¸‹ä¸€ä»£çš„å‰ªè´´æ¿æ“ä½œæ–¹æ³•ï¼Œå®ƒçš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè¿”å›Promiseå¯¹è±¡ï¼Œä¸ä¼šé€ æˆé¡µé¢çš„å¡é¡¿ï¼Œå¹¶ä¸”å¯ä»¥å°†ä»»æ„å†…å®¹æ”¾å…¥å‰ªè´´æ¿ navigator.clipboardå±æ€§è¿”å› Clipboard å¯¹è±¡ï¼Œæ‰€æœ‰æ“ä½œéƒ½é€šè¿‡è¿™ä¸ªå¯¹è±¡è¿›è¡Œã€‚ 1const clipboardObj = navigator.clipboard; å¦‚æœnavigator.clipboardå±æ€§è¿”å›undefinedï¼Œå°±è¯´æ˜å½“å‰æµè§ˆå™¨ä¸æ”¯æŒè¿™ä¸ª APIã€‚ ç”±äºç”¨æˆ·å¯èƒ½æŠŠæ•æ„Ÿæ•°æ®ï¼ˆæ¯”å¦‚å¯†ç ï¼‰æ”¾åœ¨å‰ªè´´æ¿ï¼Œå…è®¸è„šæœ¬ä»»æ„è¯»å–ä¼šäº§ç”Ÿå®‰å…¨é£é™©ï¼Œæ‰€ä»¥è¿™ä¸ª API çš„å®‰å…¨é™åˆ¶æ¯”è¾ƒå¤šã€‚ é¦–å…ˆï¼ŒChrome æµè§ˆå™¨è§„å®šï¼Œåªæœ‰ HTTPS åè®®çš„é¡µé¢æ‰èƒ½ä½¿ç”¨è¿™ä¸ª APIã€‚ä¸è¿‡ï¼Œå¼€å‘ç¯å¢ƒï¼ˆlocalhostï¼‰å…è®¸ä½¿ç”¨éåŠ å¯†åè®®ã€‚ å…¶æ¬¡ï¼Œè°ƒç”¨æ—¶éœ€è¦æ˜ç¡®è·å¾—ç”¨æˆ·çš„è®¸å¯ã€‚æƒé™çš„å…·ä½“å®ç°ä½¿ç”¨äº† Permissions APIï¼Œè·Ÿå‰ªè´´æ¿ç›¸å…³çš„æœ‰ä¸¤ä¸ªæƒé™ï¼šclipboard-writeï¼ˆå†™æƒé™ï¼‰å’Œclipboard-readï¼ˆè¯»æƒé™ï¼‰ã€‚â€å†™æƒé™â€è‡ªåŠ¨æˆäºˆè„šæœ¬ï¼Œè€Œâ€è¯»æƒé™â€å¿…é¡»ç”¨æˆ·æ˜ç¡®åŒæ„ç»™äºˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå†™å…¥å‰ªè´´æ¿ï¼Œè„šæœ¬å¯ä»¥è‡ªåŠ¨å®Œæˆï¼Œä½†æ˜¯è¯»å–å‰ªè´´æ¿æ—¶ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦åŒæ„è¯»å–ã€‚ Clipboard å¯¹è±¡æä¾›äº†å››ä¸ªæ–¹æ³•ï¼Œç”¨æ¥è¯»å†™å‰ªè´´æ¿ã€‚å®ƒä»¬éƒ½æ˜¯å¼‚æ­¥æ–¹æ³•ï¼Œè¿”å› Promise å¯¹è±¡ Clipboard.readText()ï¼šç”¨äºå¤åˆ¶å‰ªè´´æ¿é‡Œé¢çš„æ–‡æœ¬æ•°æ® 1234567document.body.addEventListener( 'click', async (e) =&gt; { const text = await navigator.clipboard.readText(); console.log(text); }) Clipboard.read()ï¼šç”¨äºå¤åˆ¶å‰ªè´´æ¿é‡Œé¢çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯æ–‡æœ¬æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ã€‚è¯¥æ–¹æ³•éœ€è¦ç”¨æˆ·æ˜ç¡®ç»™äºˆè®¸å¯ã€‚ 12345678910111213async function getClipboardContents() { try { const clipboardItems = await navigator.clipboard.read(); for (const clipboardItem of clipboardItems) { for (const type of clipboardItem.types) { const blob = await clipboardItem.getType(type); console.log(URL.createObjectURL(blob)); } } } catch (err) { console.error(err.name, err.message); }} Clipboard.writeText()ï¼šç”¨äºå°†æ–‡æœ¬å†…å®¹å†™å…¥å‰ªè´´æ¿ã€‚ 1await navigator.clipboard.writeText('è¦å¤åˆ¶çš„å†…å®¹') Clipboard.write(): ç”¨äºå°†ä»»æ„æ•°æ®å†™å…¥å‰ªè´´æ¿ï¼Œå¯ä»¥æ˜¯æ–‡æœ¬æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯äºŒè¿›åˆ¶æ•°æ®ã€‚ 12345678910111213try { const imgURL = 'https://dummyimage.com/300.png'; const data = await fetch(imgURL); const blob = await data.blob(); await navigator.clipboard.write([ new ClipboardItem({ [blob.type]: blob }) ]); console.log('Image copied.');} catch (err) { console.error(err.name, err.message);} 30.React onChangeå’ŒonInputçš„åŒºåˆ«ä»è¡¨ç°å½¢å¼ä¸Šçœ‹ï¼ŒReactä¸­onChangeå’ŒonInputæ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œéƒ½æ˜¯åœ¨ç”¨æˆ·æŒç»­è¾“å…¥æ—¶è°ƒç”¨ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºäº‹ä»¶å¯¹è±¡çš„ç±»å‹ä¸åŒï¼ŒonChangeçš„äº‹ä»¶å¯¹è±¡å±äºChangeEventäº‹ä»¶ï¼ŒonInputçš„äº‹ä»¶å¯¹è±¡å±äºFormEventäº‹ä»¶ç±»å‹ã€‚ 31.Object-fitå›¾ç‰‡è£å‰ªå±æ€§ï¼Œå¯å–å€¼ï¼š fillï¼šé»˜è®¤å€¼ï¼Œå†…å®¹æ‹‰ä¼¸å¡«æ»¡æ•´ä¸ªcontent boxï¼Œä¸ä¿è¯ä¿æŒåŸæœ‰çš„æ¯”ä¾‹ containï¼šä¿æŒåŸæœ‰å°ºå¯¸æ¯”ä¾‹ã€‚é•¿åº¦å’Œé«˜åº¦ä¸­çŸ­çš„é‚£æ¡è¾¹è·Ÿå®¹å™¨å¤§å°ä¸€è‡´ï¼Œé•¿çš„é‚£æ¡è¾¹ç­‰æ¯”ç¼©æ”¾ï¼Œå¯èƒ½ä¼šæœ‰ç•™ç™½ coverï¼šä¿æŒåŸæœ‰å°ºå¯¸æ¯”ä¾‹ï¼Œå®½åº¦å’Œé«˜åº¦ä¸­é•¿çš„é‚£æ¡è¾¹å’Œå®¹å™¨å¤§å°ä¸€è‡´ï¼ŒçŸ­çš„é‚£æ¡ç­‰æ¯”ç¼©æ”¾ã€‚å¯èƒ½ä¼šæœ‰éƒ¨åˆ†åŒºåŸŸä¸å¯è§ noneï¼šä¿ç•™åŸæœ‰å…ƒç´ å†…å®¹çš„é•¿åº¦å’Œå®½åº¦ scale-downï¼š ä¿æŒåŸæœ‰å°ºå¯¸æ¯”ä¾‹ã€‚å†…å®¹çš„å°ºå¯¸ä¸ none æˆ– contain ä¸­çš„ä¸€ä¸ªç›¸åŒï¼Œå–å†³äºå®ƒä»¬ä¸¤ä¸ªä¹‹é—´è°å¾—åˆ°çš„å¯¹è±¡å°ºå¯¸ä¼šæ›´å°ä¸€äº›ã€‚","link":"/%E9%9A%8F%E8%AE%B0/"},{"title":"work-break","text":"work-breakç”¨äºè®¾ç½®å•è¯åœ¨è¡Œå†…çš„æ–­è¡Œè¡Œä¸º 123456789/* å…³é”®å­—å€¼ */word-break: normal;word-break: break-all; /* å…è®¸åœ¨å•è¯å†…æ¢è¡Œ */word-break: keep-all; /* åªèƒ½åœ¨åŠè§’ç©ºæ ¼æˆ–è¿å­—ç¬¦å¤„æ¢è¡Œ *//* å…¨å±€å€¼ */word-break: inherit;word-break: initial;word-break: unset;","link":"/word-break/"},{"title":"ä¸€é“æ‰å¹³æ•°æ®è½¬æ ‘ç»“æ„é¢è¯•é¢˜","text":"ä¸€ã€å‰è¨€æ‰å¹³æ•°æ®è½¬æ ‘çŠ¶ç»“æ„ï¼Œæ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå¿…å¤‡çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè¿™ç¯‡æ–‡ç« è®°å½•ä¸€é“ç›¸å…³çš„é¢è¯•é¢˜ äºŒã€ç›¸å…³çŸ¥è¯†ç‚¹æ‰å¹³æ•°æ®è½¬æ ‘çŠ¶ç»“æ„çš„è¦ç‚¹æœ‰ä¸¤ä¸ªï¼š ç¡®å®šçˆ¶å­å…³ç³»å¦‚ä½•ç¡®è®¤æ•°æ®ä¹‹é—´çš„çˆ¶å­å…³ç³»æ˜¯åŠŸèƒ½çš„é‡ç‚¹ï¼Œæ‰¾åˆ°ç¡®è®¤æ–¹æ³•å°±å¯ä»¥äº‹åŠåŠŸå€ æµ…æ‹·è´åœ¨è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°æµ…æ‹·è´çš„çŸ¥è¯† ä¸‰ã€é¢˜ç›®å’Œè§£æ³•12345678910111213141516171819202122232425262728293031323334353637383940414243444546const arr = [ { id: '1.1', label: 'æ­¦æ±‰å¸‚' }, { id: '1.1.2', label: 'æ­¦æ±‰å¸‚æ´ªå±±åŒº' }, { id: '1.3.1', label: 'å­æ„Ÿå¸‚å­å—åŒº' }, { id: '1.5.1', label: 'é»„çŸ³å¸‚é»„çŸ³æ¸¯åŒº' }, { id: '1.2', label: 'å®œæ˜Œå¸‚' }, { id: '1', label: 'æ¹–åŒ—çœ' }, { id: '1.1.1', label: 'æ­¦æ±‰å¸‚æ±Ÿå¤åŒº' }, { id: '1.2.1', label: 'å®œæ˜Œå¸‚ä¼å®¶å²—åŒº' }, { id: '1.3', label: 'å­æ„Ÿå¸‚' }]/** * * @param {Array} originArr */const arrayToTree = (originArr) =&gt; { const result = []; // å­˜å‚¨è¦è¿”å›çš„æ•°æ® const resultIdsSet = new Set(); // å­˜å‚¨å‘½ä¸­çš„ID originArr.forEach(item =&gt; { if (item.id.length === 1) { result.push(item) } item.children = originArr.filter(originItem =&gt; { // å°†IDæ ¹æ®.åˆ†å‰²æˆæ•°ç»„ const originItemIdArr = originItem.id.split('.'); const itemIdArr = item.id.split('.'); /** * çˆ¶å­å…³ç³»è¯´æ˜ï¼š1 çˆ¶IDçš„ä½æ•°åªæ¯”å­IDå°‘ä¸€ä½ 2 åŒ¹é…çš„æ—¶å€™ï¼Œçˆ¶IDçš„ä½æ•°ä¸Šçš„æ¯ä¸ªå€¼å¯ä»¥å’Œå­IDä½æ•°ä¸Šçš„å€¼åŒ¹é…ä¸Šå³å¯ç¡®å®šå…³ç³» */ if (itemIdArr.length + 1 === originItemIdArr.length &amp;&amp; itemIdArr.every((i, k) =&gt; i === originItemIdArr[k])) { resultIdsSet.add(item.id); resultIdsSet.add(originItem.id); return tree; } return false; }) }) // æœ€åéœ€è¦æ‰¾å‡ºæœªå‘½ä¸­çš„IDæ”¾åœ¨æ•°ç»„åé¢è¿”å› return [...result, ...arr.filter(item =&gt; !resultIdsSet.has(item.id))];}console.log(arrayToTree(arr))","link":"/%E4%B8%80%E9%81%93%E6%89%81%E5%B9%B3%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%A0%91%E7%BB%93%E6%9E%84%E9%9D%A2%E8%AF%95%E9%A2%98/"},{"title":"ä½¿ç”¨mathjsè¿›è¡Œé«˜ç²¾åº¦è¿ç®—","text":"å‰è¨€mathjsæ˜¯ç”¨äºJavaScriptå’ŒNodeJSçš„æ•°å­¦åº“ã€‚å®ƒå†…ç½®å¤§é‡å‡½æ•°ä¸å¸¸é‡ï¼Œå¹¶æä¾›é›†æˆè§£å†³æ–¹æ¡ˆæ¥å¤„ç†ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œå¦‚æ•°å­—ï¼Œå¤§æ•°å­—ï¼Œå¤æ•°ï¼Œåˆ†æ•°ï¼Œå•ä½å’ŒçŸ©é˜µç­‰ ä½¿ç”¨ å®‰è£… 1npm i mathjs åŸºæœ¬ä½¿ç”¨formatç”¨äºæ ¼å¼åŒ–è¾“å‡ºï¼Œå…¶ä¸­precisionå‚æ•°ç”¨äºæŒ‡å®šæ ¼å¼åŒ–ç²¾åº¦çš„ä½æ•° 123456789101112131415161718192021222324252627import { create, all } from &quot;mathjs&quot;;// åˆ›å»ºmathjså®ä¾‹const mathjs = create(all, { number: &quot;BigNumber&quot;, precision: 20,});// addconst add = (num1, num2) =&gt; +mathjs.format(mathjs.add(1, 2), { precision: 16,})// subtractconst subtract = (num1, num2) =&gt; +mathjs.format(mathjs.subtract(1, 2), { precision: 16,})// multiplyconst multiply = (num1, num2) =&gt; +mathjs.format(mathjs.multiply(1, 2), { precision: 16,})// divideconst multiply = (num1, num2) =&gt; +mathjs.format(mathjs.divide(1, 2), { precision: 16,}) é“¾å¼è®¡ç®—æ”¯æŒè¾“å…¥ä¸€ä¸ªåˆå§‹å€¼è¿›è¡Œé“¾å¼è®¡ç®— 123456789import { create, all } from &quot;mathjs&quot;;const mathjs = create(all, { number: &quot;BigNumber&quot;, precision: 20,});// 111console.log(mathjs.format(mathjs.chain(1.11).multiply(100).done(), {precision: 16})); é…ç½®mathjsæ”¯æŒé…ç½®æ¥åˆ›å»ºå®ä¾‹ 12345678910import {} from 'mathjs';const maht = create(all, { epsilon: 1e-12, matrix: 'Matrix', number: 'number', precision: 64, predictable: false, randomSeed: null}) æ”¯æŒçš„é…ç½®æœ‰ epsilonï¼Œç”¨äºæµ‹è¯•ä¸¤ä¸ªæ¯”è¾ƒå€¼ä¹‹é—´æ˜¯å¦ç›¸ç­‰çš„æœ€å°ç›¸å¯¹å·®å¼‚ã€‚æ‰€æœ‰å…³ç³»åŠŸèƒ½éƒ½ä½¿ç”¨è¯¥å€¼ã€‚é»˜è®¤å€¼ä¸º 1e-12 matrixï¼Œå‡½æ•°çš„çŸ©é˜µè¾“å‡ºçš„é»˜è®¤ç±»å‹ã€‚å¯ç”¨å€¼ä¸ºï¼šï¼ˆ 'Matrix'é»˜è®¤å€¼ï¼‰æˆ–'Array'ã€‚åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„çŸ©é˜µè¾“å‡ºç±»å‹å–å†³äºå‡½æ•°è¾“å…¥ï¼šå°†æ•°ç»„ä½œä¸ºè¾“å…¥å°†è¿”å›æ•°ç»„ï¼Œå°†çŸ©é˜µä½œä¸ºè¾“å…¥å°†è¿”å›çŸ©é˜µã€‚å¦‚æœæ²¡æœ‰çŸ©é˜µä½œä¸ºè¾“å…¥ï¼Œåˆ™è¾“å‡ºç±»å‹ç”±optionå†³å®šmatrixã€‚å¯¹äºæ··åˆçŸ©é˜µè¾“å…¥ï¼Œå°†å§‹ç»ˆè¿”å›çŸ©é˜µã€‚ numberï¼ŒæŒ‡å®šå®ä¾‹çš„è¾“å…¥è¾“å‡ºç±»å‹ï¼Œé»˜è®¤å€¼ä¸ºnumberï¼Œå¯é€‰å€¼ä¸ºï¼šnumber | BigNumber precisionï¼ŒBigNumbersçš„æœ€å¤§æœ‰æ•ˆä½æ•°ã€‚æ­¤è®¾ç½®ä»…é€‚ç”¨äºBigNumbersï¼Œä¸é€‚ç”¨äºæ•°å­—ã€‚é»˜è®¤å€¼ä¸º 64ã€‚ predictableï¼ŒåŠŸèƒ½çš„å¯é¢„æµ‹è¾“å‡ºç±»å‹ã€‚å¦‚æœä¸ºtrueï¼Œåˆ™è¾“å‡ºç±»å‹ä»…å–å†³äºè¾“å…¥ç±»å‹ã€‚å¦‚æœä¸ºfalseï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ™è¾“å‡ºç±»å‹å¯ä»¥æ ¹æ®è¾“å…¥å€¼è€Œå˜åŒ–ã€‚ä¾‹å¦‚ï¼Œå½“predictableä¸ºfalseæ—¶ math.sqrt(-4) è¿”å› complex('2i')ï¼Œä¸ºtrue NaNæ—¶è¿”å›ã€‚ä»¥ç¼–ç¨‹æ–¹å¼å¤„ç†è®¡ç®—ç»“æœæ—¶ï¼Œå¯èƒ½éœ€è¦å¯é¢„æµ‹çš„è¾“å‡ºï¼Œä½†å¯¹äºè¯„ä¼°åŠ¨æ€æ–¹ç¨‹å¼çš„ç”¨æˆ·å¯èƒ½ä¸æ–¹ä¾¿ã€‚ randomSeedï¼Œå°†æ­¤é€‰é¡¹è®¾ç½®ä¸ºç§å­ä¼ªéšæœºæ•°ç”Ÿæˆï¼Œä½¿å…¶å…·æœ‰ç¡®å®šæ€§ã€‚æ¯æ¬¡è®¾ç½®æ­¤é€‰é¡¹æ—¶ï¼Œéƒ½ä¼šä½¿ç”¨æä¾›çš„ç§å­é‡ç½®ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ã€‚ä¾‹å¦‚ï¼Œå°†å…¶è®¾ç½®ä¸ºæ¯æ¬¡è®¾ç½®è¯¥é€‰é¡¹'a' åå°†å¯¼è‡´åœ¨ç¬¬ä¸€æ¬¡å‘¼å«æ—¶ math.random() è¿”å› 0.43449421599986604ã€‚è®¾ç½®ä¸º null ä½¿ç”¨éšæœºç§å­ä¸ºä¼ªéšæœºæ•°ç”Ÿæˆå™¨æä¾›ç§å­ã€‚é»˜è®¤å€¼ä¸º nullã€‚","link":"/%E4%BD%BF%E7%94%A8mathjs%E8%BF%9B%E8%A1%8C%E9%AB%98%E7%B2%BE%E5%BA%A6%E8%BF%90%E7%AE%97/"},{"title":"å›¾ç‰‡å“åº”å¼å¸ƒå±€","text":"å¯ä»¥é€šè¿‡mediaå±æ€§å’Œpictureæ ‡ç­¾æ¥å®ç°å“åº”å¼å¸ƒå±€ä¸­å›¾ç‰‡çš„è‡ªé€‚åº” 12345&lt;picture&gt; &lt;source media=&quot;(max-width: 300px)&quot; srcset=&quot;img&quot;&gt; &lt;source media=&quot;(max-width: 500px)&quot; srcset=&quot;img2&quot;&gt; &lt;img src=&quot;img2&quot; alt=&quot;&quot;&gt;&lt;/picture&gt; ä¹Ÿå¯ä»¥ä½¿ç”¨imgæ ‡ç­¾æœ¬èº«çš„å±æ€§ 123456789&lt;img src=&quot;imgSrc&quot; srcset=&quot; image1 1240w, image2 600w, image3 300w &quot; sizes=&quot; (max-width: 400px) 300px, (max-width: 900px) 600px, 1240px &quot; alt=&quot;&quot;&gt;","link":"/%E5%9B%BE%E7%89%87%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/"},{"title":"æŠ½è±¡å·¥å‚æ¨¡å¼","text":"æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯å¼€æ”¾å°é—­åŸåˆ™åº”ç”¨çš„å…¸å‹ï¼Œå³ï¼šå¯¹æ‹“å±•å¼€å‘ï¼Œå¯¹ä¿®æ”¹å°é—­ã€‚å‡†ç¡®æ¥è¯´ï¼Œè½¯ä»¶å®ä½“(ç±»ã€æ¨¡å—ã€å‡½æ•°)å¯ä»¥æ‰©å±•ï¼Œä½†ä¸å¯ä¿®æ”¹ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦ä¸€ä¸ªç”Ÿäº§æ‰‹æœºçš„å·¥å‚ï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªæ‰‹æœºæŠ½è±¡ç±»ï¼Œç”¨æ¥çº¦æŸæ‰‹æœºæµæ°´çº¿é€šç”¨èƒ½åŠ› 12345678910class MobilePhoneFactory { // æä¾›æ“ä½œç³»ç»Ÿçš„æ¥å£ createOS(){ throw new Error(&quot;æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼&quot;); } // æä¾›ç¡¬ä»¶çš„æ¥å£ createHardWare(){ throw new Error(&quot;æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼&quot;); }} æŠ½è±¡å·¥å‚ä¸å¹²æ´»ï¼Œå…·ä½“å·¥å‚æ¥å¹²æ´» 1234567891011// å…·ä½“å·¥å‚ç»§æ‰¿è‡ªæŠ½è±¡å·¥å‚class FakeStarFactory extends MobilePhoneFactory { createOS() { // æä¾›å®‰å“ç³»ç»Ÿå®ä¾‹ return new AndroidOS() } createHardWare() { // æä¾›é«˜é€šç¡¬ä»¶å®ä¾‹ return new QualcommHardWare() }} è¿™é‡Œæˆ‘ä»¬åœ¨æä¾›å®‰å“ç³»ç»Ÿçš„æ—¶å€™ï¼Œè°ƒç”¨äº†ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼šAndroidOS å’Œ QualcommHardWareï¼Œå®ƒä»¬åˆ†åˆ«ç”¨äºç”Ÿæˆå…·ä½“çš„æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶å®ä¾‹ã€‚åƒè¿™ç§è¢«æˆ‘ä»¬æ‹¿æ¥ç”¨äº new å‡ºå…·ä½“å¯¹è±¡çš„ç±»ï¼Œå«åšå…·ä½“äº§å“ç±»ï¼ˆConcreteProductï¼‰ã€‚å…·ä½“äº§å“ç±»å¾€å¾€ä¸ä¼šå­¤ç«‹å­˜åœ¨ï¼Œä¸åŒçš„å…·ä½“äº§å“ç±»å¾€å¾€æœ‰ç€å…±åŒçš„åŠŸèƒ½ï¼Œæ¯”å¦‚å®‰å“ç³»ç»Ÿç±»å’Œè‹¹æœç³»ç»Ÿç±»ï¼Œå®ƒä»¬éƒ½æ˜¯æ“ä½œç³»ç»Ÿï¼Œéƒ½æœ‰ç€å¯ä»¥æ“æ§æ‰‹æœºç¡¬ä»¶ç³»ç»Ÿè¿™æ ·ä¸€ä¸ªæœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæŠ½è±¡äº§å“ï¼ˆAbstractProductï¼‰ç±»æ¥å£°æ˜è¿™ä¸€ç±»äº§å“åº”è¯¥å…·æœ‰çš„åŸºæœ¬åŠŸèƒ½ 1234567891011121314151617181920// å®šä¹‰æ“ä½œç³»ç»Ÿè¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»class OS { controlHardWare() { throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼'); }}// å®šä¹‰å…·ä½“æ“ä½œç³»ç»Ÿçš„å…·ä½“äº§å“ç±»class AndroidOS extends OS { controlHardWare() { console.log('æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶') }}class AppleOS extends OS { controlHardWare() { console.log('æˆ‘ä¼šç”¨ğŸçš„æ–¹å¼å»æ“ä½œç¡¬ä»¶') }}// ... ç¡¬ä»¶ç±»äº§å“åŒç†ï¼š 123456789101112131415161718192021// å®šä¹‰æ‰‹æœºç¡¬ä»¶è¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»class HardWare { // æ‰‹æœºç¡¬ä»¶çš„å…±æ€§æ–¹æ³•ï¼Œè¿™é‡Œæå–äº†â€œæ ¹æ®å‘½ä»¤è¿è½¬â€è¿™ä¸ªå…±æ€§ operateByOrder() { throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼'); }}// å®šä¹‰å…·ä½“ç¡¬ä»¶çš„å…·ä½“äº§å“ç±»class QualcommHardWare extends HardWare { operateByOrder() { console.log('æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬') }}class MiWare extends HardWare { operateByOrder() { console.log('æˆ‘ä¼šç”¨å°ç±³çš„æ–¹å¼å»è¿è½¬') }}// ... å¥½äº†ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬éœ€è¦ç”Ÿäº§ä¸€å°FakeStaræ‰‹æœºæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è¿™æ ·åšï¼š 12345678910// è¿™æ˜¯æˆ‘çš„æ‰‹æœºconst myPhone = new FakeStarFactory()// è®©å®ƒæ‹¥æœ‰æ“ä½œç³»ç»Ÿconst myOS = myPhone.createOS()// è®©å®ƒæ‹¥æœ‰ç¡¬ä»¶const myHardWare = myPhone.createHardWare()// å¯åŠ¨æ“ä½œç³»ç»Ÿ(è¾“å‡ºâ€˜æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶â€™)myOS.controlHardWare()// å”¤é†’ç¡¬ä»¶(è¾“å‡ºâ€˜æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬â€™)myHardWare.operateByOrder() æ€»ç»“æŠ½è±¡å·¥å‚å’Œç®€å•å·¥å‚çš„å…±åŒç‚¹ï¼Œåœ¨äºéƒ½å°è¯•å»åˆ†ç¦»ä¸€ä¸ªç³»ç»Ÿä¸­å˜ä¸ä¸å˜çš„éƒ¨åˆ†ã€‚å®ƒä»¬çš„ä¸åŒåœ¨äºåœºæ™¯çš„å¤æ‚åº¦ã€‚åœ¨ç®€å•å·¥å‚çš„ä½¿ç”¨åœºæ™¯é‡Œï¼Œå¤„ç†çš„å¯¹è±¡æ˜¯ç±»ï¼Œå¹¶ä¸”æ˜¯ä¸€äº›éå¸¸å¥½å¯¹ä»˜çš„ç±»â€”â€”å®ƒä»¬çš„å…±æ€§å®¹æ˜“æŠ½ç¦»ï¼ŒåŒæ—¶å› ä¸ºé€»è¾‘æœ¬èº«æ¯”è¾ƒç®€å•ï¼Œæ•…è€Œä¸è‹›æ±‚ä»£ç å¯æ‰©å±•æ€§ã€‚æŠ½è±¡å·¥å‚æœ¬è´¨ä¸Šå¤„ç†çš„å…¶å®ä¹Ÿæ˜¯ç±»ï¼Œä½†æ˜¯æ˜¯ä¸€å¸®éå¸¸æ£˜æ‰‹ã€ç¹æ‚çš„ç±»ï¼Œè¿™äº›ç±»ä¸­ä¸ä»…èƒ½åˆ’åˆ†å‡ºé—¨æ´¾ï¼Œè¿˜èƒ½åˆ’åˆ†å‡ºç­‰çº§ï¼ŒåŒæ—¶å­˜åœ¨ç€åƒå˜ä¸‡åŒ–çš„æ‰©å±•å¯èƒ½æ€§â€”â€”è¿™ä½¿å¾—æˆ‘ä»¬å¿…é¡»å¯¹å…±æ€§ä½œæ›´ç‰¹åˆ«çš„å¤„ç†ã€ä½¿ç”¨æŠ½è±¡ç±»å»é™ä½æ‰©å±•çš„æˆæœ¬ï¼ŒåŒæ—¶éœ€è¦å¯¹ç±»çš„æ€§è´¨ä½œåˆ’åˆ†ï¼Œäºæ˜¯æœ‰äº†è¿™æ ·çš„å››ä¸ªå…³é”®è§’è‰²ï¼š æŠ½è±¡å·¥å‚ï¼ˆæŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹ï¼‰ï¼š ç”¨äºå£°æ˜æœ€ç»ˆç›®æ ‡äº§å“çš„å…±æ€§ã€‚åœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥æœ‰å¤šä¸ªï¼ˆå¤§å®¶å¯ä»¥æƒ³è±¡æˆ‘ä»¬çš„æ‰‹æœºå‚åæ¥è¢«ä¸€ä¸ªæ›´å¤§çš„å‚æ”¶è´­äº†ï¼Œè¿™ä¸ªå‚é‡Œé™¤äº†æ‰‹æœºæŠ½è±¡ç±»ï¼Œè¿˜æœ‰å¹³æ¿ã€æ¸¸æˆæœºæŠ½è±¡ç±»ç­‰ç­‰ï¼‰ï¼Œæ¯ä¸€ä¸ªæŠ½è±¡å·¥å‚å¯¹åº”çš„è¿™ä¸€ç±»çš„äº§å“ï¼Œè¢«ç§°ä¸ºâ€œäº§å“æ—â€ã€‚ å…·ä½“å·¥å‚ï¼ˆç”¨äºç”Ÿæˆäº§å“æ—é‡Œçš„ä¸€ä¸ªå…·ä½“çš„äº§å“ï¼‰ï¼š ç»§æ‰¿è‡ªæŠ½è±¡å·¥å‚ã€å®ç°äº†æŠ½è±¡å·¥å‚é‡Œå£°æ˜çš„é‚£äº›æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå…·ä½“çš„äº§å“çš„ç±»ã€‚ æŠ½è±¡äº§å“ï¼ˆæŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹ï¼‰ï¼š ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°ï¼Œå…·ä½“å·¥å‚é‡Œå®ç°çš„æ¥å£ï¼Œä¼šä¾èµ–ä¸€äº›ç±»ï¼Œè¿™äº›ç±»å¯¹åº”åˆ°å„ç§å„æ ·çš„å…·ä½“çš„ç»†ç²’åº¦äº§å“ï¼ˆæ¯”å¦‚æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶ç­‰ï¼‰ï¼Œè¿™äº›å…·ä½“äº§å“ç±»çš„å…±æ€§å„è‡ªæŠ½ç¦»ï¼Œä¾¿å¯¹åº”åˆ°äº†å„è‡ªçš„æŠ½è±¡äº§å“ç±»ã€‚ å…·ä½“äº§å“ï¼ˆç”¨äºç”Ÿæˆäº§å“æ—é‡Œçš„ä¸€ä¸ªå…·ä½“çš„äº§å“æ‰€ä¾èµ–çš„æ›´ç»†ç²’åº¦çš„äº§å“ï¼‰ï¼š æ¯”å¦‚æˆ‘ä»¬ä¸Šæ–‡ä¸­å…·ä½“çš„ä¸€ç§æ“ä½œç³»ç»Ÿã€æˆ–å…·ä½“çš„ä¸€ç§ç¡¬ä»¶ç­‰ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼çš„å®šä¹‰ï¼Œæ˜¯å›´ç»•ä¸€ä¸ªè¶…çº§å·¥å‚åˆ›å»ºå…¶ä»–å·¥å‚ã€‚æœ¬èŠ‚å†…å®¹å¯¹ä¸€äº›å·¥ä½œå¹´é™ä¸å¤šçš„åŒå­¦æ¥è¯´å¯èƒ½ä¸å¤ªå‹å¥½ï¼Œä½†æŠ½è±¡å·¥å‚ç›®å‰æ¥è¯´åœ¨JSä¸–ç•Œé‡Œä¹Ÿåº”ç”¨å¾—å¹¶ä¸å¹¿æ³›ï¼Œæ‰€ä»¥å¤§å®¶ä¸å¿…æ‹˜æ³¥äºç»†èŠ‚ï¼Œåªéœ€ç•™æ„ä»¥ä¸‹ä¸‰ç‚¹ï¼š å­¦ä¼šç”¨ ES6 æ¨¡æ‹Ÿ JAVA ä¸­çš„æŠ½è±¡ç±»ï¼› äº†è§£æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­å››ä¸ªè§’è‰²çš„å®šä½ä¸ä½œç”¨ï¼› å¯¹â€œå¼€æ”¾å°é—­åŸåˆ™â€å½¢æˆè‡ªå·±çš„ç†è§£ï¼ŒçŸ¥é“å®ƒå¥½åœ¨å“ªï¼ŒçŸ¥é“æ‰§è¡Œå®ƒçš„å¿…è¦æ€§ã€‚","link":"/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"title":"æ‹–æ‹½","text":"1.draggableå±æ€§ç°ä»£æµè§ˆå™¨ä¸­ï¼Œå›¾ç‰‡æ ‡ç­¾æ˜¯å¯ä»¥è¢«é•¿æŒ‰æ‹–æ‹½çš„ï¼Œå¦‚æœéœ€è¦è®©è‡ªå®šä¹‰DOMèŠ‚ç‚¹å¯ä»¥è¢«æ‹–æ‹½ï¼Œéœ€è¦é…ç½®draggableå…¨å±€æ ‡ç­¾å±æ€§å½“å…ƒç´ è®¾ç½®çš„draggableå±æ€§ï¼Œå°±å¯ä»¥è¢«è‡ªç”±æ‹–æ‹½äº† 2.Drag &amp; Dropäº‹ä»¶HTML çš„ drag &amp; drop ä½¿ç”¨äº†â€œDOM Eventâ€å’Œä»â€œMouse Eventâ€ç»§æ‰¿è€Œæ¥çš„â€œdrag eventâ€ä¸€ä¸ªå…¸å‹çš„æ‹–æ‹½æ“ä½œï¼š ç”¨æˆ·é€‰ä¸­ä¸€ä¸ªå¯æ‹–æ‹½çš„ï¼ˆdraggableï¼‰å…ƒç´ ï¼Œå¹¶å°†å…¶æ‹–æ‹½ï¼ˆé¼ æ ‡æŒ‰ä½ä¸æ”¾ï¼‰è‡³ä¸€ä¸ªå¯æ”¾ç½®çš„ï¼ˆdroppableï¼‰å…ƒç´ ä¸Šï¼Œç„¶åæ¾å¼€é¼ æ ‡ã€‚åœ¨æ‹–åŠ¨å…ƒç´ æœŸé—´ï¼Œä¸€äº›ä¸æ‹–æ”¾ç›¸å…³çš„äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œåƒ drag å’Œ dragover ç±»å‹çš„äº‹ä»¶ä¼šè¢«é¢‘ç¹è§¦å‘ã€‚é™¤äº†å®šä¹‰æ‹–æ‹½äº‹ä»¶ç±»å‹ï¼Œæ¯ä¸ªäº‹ä»¶ç±»å‹è¿˜èµ‹äºˆäº†å¯¹åº”çš„äº‹ä»¶å¤„ç†å™¨ äº‹ä»¶ç±»å‹ äº‹ä»¶å¤„ç†å™¨ è§¦å‘æ—¶æœº ç»‘å®šå…ƒç´  dragstart ondragstart å½“å¼€å§‹æ‹–åŠ¨ä¸€ä¸ªå…ƒç´ æ—¶ æ‹–æ‹½ drag ondrag å½“å…ƒç´ è¢«æ‹–åŠ¨æœŸé—´æŒ‰ä¸€å®šé¢‘ç‡è§¦å‘ æ‹–æ‹½ dragend ondragend å½“æ‹–åŠ¨çš„å…ƒç´ è¢«é‡Šæ”¾ï¼ˆğŸ–±ï¸æ¾å¼€ã€æŒ‰é”®ç›˜ ESCï¼‰æ—¶ æ‹–æ‹½ dragenter ondragenter å½“æ‹–åŠ¨å…ƒç´ åˆ°ä¸€ä¸ªå¯é‡Šæ”¾ç›®æ ‡å…ƒç´ æ—¶ æ”¾ç½® dragover ondragover å½“å…ƒç´ è¢«æ‹–åˆ°ä¸€ä¸ªå¯é‡Šæ”¾ç›®æ ‡å…ƒç´ ä¸Šæ—¶ï¼ˆ100 ms/æ¬¡ï¼‰ æ”¾ç½® dragexit ondragexit å½“å…ƒç´ å˜å¾—ä¸å†æ˜¯æ‹–åŠ¨æ“ä½œçš„é€‰ä¸­ç›®æ ‡æ—¶ æ”¾ç½® dragleave ondragleave å½“æ‹–åŠ¨å…ƒç´ ç¦»å¼€ä¸€ä¸ªå¯é‡Šæ”¾ç›®æ ‡å…ƒç´  æ”¾ç½® drop ondrop å½“æ‹–åŠ¨å…ƒç´ åœ¨å¯é‡Šæ”¾ç›®æ ‡å…ƒç´ ä¸Šé‡Šæ”¾æ—¶ æ”¾ç½® å„ä¸ªäº‹ä»¶çš„æ—¶æœºå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå›¾ç®€å•è¡¨ç¤ºï¼šâš ï¸æ³¨æ„ï¼š dragOver äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ˜¯ï¼šâ€œReset the current drag operation to â€œnoneâ€â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸é˜»æ­¢æ”¾ç½®å…ƒç´ çš„ dragOver äº‹ä»¶ï¼Œåˆ™æ”¾ç½®å…ƒç´ ä¸ä¼šå“åº”â€œæ‹–åŠ¨å…ƒç´ â€çš„â€œæ”¾ç½®è¡Œä¸ºâ€ 3.DataTransferåœ¨ä¸Šè¿°çš„äº‹ä»¶ç±»å‹ä¸­ï¼Œä¸éš¾å‘ç°ï¼Œæ”¾ç½®å…ƒç´ å’Œæ‹–åŠ¨å…ƒç´ åˆ†åˆ«ç»‘å®šäº†è‡ªå·±çš„äº‹ä»¶ï¼Œå¯å¦‚ä½•å°†æ‹–æ‹½å…ƒç´ å’Œæ”¾ç½®å…ƒç´ å»ºç«‹è”ç³»ä»¥åŠä¼ é€’æ•°æ®ï¼Ÿè¿™å°±æ¶‰åŠåˆ° DataTransfer å¯¹è±¡ï¼šDataTransfer å¯¹è±¡ç”¨äºä¿å­˜æ‹–åŠ¨å¹¶æ”¾ä¸‹ï¼ˆdrag and dropï¼‰è¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚å®ƒå¯ä»¥ä¿å­˜ä¸€é¡¹æˆ–å¤šé¡¹æ•°æ®ï¼Œè¿™äº›æ•°æ®é¡¹å¯ä»¥æ˜¯ä¸€ç§æˆ–è€…å¤šç§æ•°æ®ç±»å‹ã€‚ â€”â€” DataTransfer - MDN (1) å±æ€§ å±æ€§ è¯´æ˜ dropEffect è·å–å½“å‰é€‰å®šçš„æ‹–æ”¾æ“ä½œç±»å‹æˆ–è€…è®¾ç½®çš„ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ã€‚å€¼ä¸ºï¼šnoneã€copyã€linkã€move effectAllowed æä¾›æ‰€æœ‰å¯ç”¨çš„æ“ä½œç±»å‹ã€‚å€¼æ˜¯ï¼šnoneã€copyã€copyLinkã€copyMoveã€linkã€linkMoveã€moveã€allã€uninitialized files åŒ…å«æ•°æ®ä¼ è¾“ä¸­å¯ç”¨çš„æ‰€æœ‰æœ¬åœ°æ–‡ä»¶çš„åˆ—è¡¨ã€‚å¦‚æœæ‹–åŠ¨æ“ä½œä¸æ¶‰åŠæ‹–åŠ¨æ–‡ä»¶ï¼Œåˆ™æ­¤å±æ€§ä¸ºç©ºåˆ—è¡¨ items (åªè¯») æä¾›ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ‹–åŠ¨æ•°æ®åˆ—è¡¨çš„ DataTransferItemList å¯¹è±¡ types (åªè¯») æä¾›ä¸€ä¸ª dragstart äº‹ä»¶ä¸­è®¾ç½®çš„æ ¼å¼çš„ strings æ•°ç»„ã€‚ (2) æ–¹æ³• å±æ€§ è¯´æ˜ setData(format, value) è®¾ç½®ç»™å®šç±»å‹çš„æ•°æ®ã€‚å¦‚æœè¯¥ç±»å‹çš„æ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°æœ«å°¾ï¼Œä»¥ä¾¿ç±»å‹åˆ—è¡¨ä¸­çš„æœ€åä¸€é¡¹å°†æ˜¯æ–°çš„æ ¼å¼ã€‚å¦‚æœè¯¥ç±»å‹çš„æ•°æ®å·²ç»å­˜åœ¨ï¼Œåˆ™åœ¨ç›¸åŒä½ç½®æ›¿æ¢ç°æœ‰æ•°æ®ã€‚ getData(format) æ£€ç´¢ç»™å®šç±»å‹çš„æ•°æ®ï¼Œå¦‚æœè¯¥ç±»å‹çš„æ•°æ®ä¸å­˜åœ¨æˆ– data transfer ä¸åŒ…å«æ•°æ®ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² clearData([format]) åˆ é™¤ä¸ç»™å®šç±»å‹å…³è”çš„æ•°æ®ã€‚ç±»å‹å‚æ•°æ˜¯å¯é€‰çš„ã€‚å¦‚æœç±»å‹ä¸ºç©ºæˆ–æœªæŒ‡å®šï¼Œåˆ™åˆ é™¤ä¸æ‰€æœ‰ç±»å‹å…³è”çš„æ•°æ®ã€‚å¦‚æœæŒ‡å®šç±»å‹çš„æ•°æ®ä¸å­˜åœ¨ï¼Œæˆ–è€… data transfer ä¸­ä¸åŒ…å«ä»»ä½•æ•°æ®ï¼Œåˆ™è¯¥æ–¹æ³•ä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæœã€‚ setDragImage(img,element, xOffset, yOffset) è®¾ç½®è‡ªå®šä¹‰çš„æ‹–åŠ¨å›¾åƒï¼Œæ³¨æ„å›¾åƒéœ€è¦æå‰åŠ è½½ï¼Œå¦åˆ™ä¼šæ— æ•ˆ 4.æ‰‹å†™ä¸€ä¸ªæ‹–æ‹½åˆ—è¡¨vue123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126&lt;script setup lang=&quot;ts&quot;&gt;import { ref } from 'vue'const MOCK_LIST_DATA = new Array(10).fill(0).map((_, index) =&gt; ({ id: Math.random().toString(36).slice(-6), val: `åˆå§‹é¡ºåº: ${index}`}))const mockListData = ref(MOCK_LIST_DATA);const dragId = ref(&quot;&quot;);// æ›¿æ¢æ•°æ®const move = (dragId: string, dropId: string) =&gt; { if (!dragId || !dropId) return; const dragIndex = mockListData.value.findIndex(item =&gt; item.id === dragId); const dropIndex = mockListData.value.findIndex(item =&gt; item.id === dropId); const originData = mockListData.value.splice(dragIndex, 1)[0]; mockListData.value.splice(dropIndex, 0, originData);}// æ‹–æ‹½å¼€å§‹æ—¶const onDragStart = (e) =&gt; { dragId.value = e.currentTarget.dataset.id;}// æ‹–æ‹½è¿›è¡Œä¸­const onDrag = (e) =&gt; { e.currentTarget.style.opacity = &quot;0&quot;;}// æ‹–æ‹½ç»“æŸconst onDragEnd = (e) =&gt; { e.currentTarget.style.opacity = &quot;1&quot;}// å½“ç§»åŠ¨åˆ°å¯ä»¥è¢«æ”¾ç½®çš„å…ƒç´ æ—¶const onDragOver = (e) =&gt; { const dropId = e.currentTarget.dataset.id; if (dragId === dropId) return; const dragIndex = mockListData.value.findIndex(item =&gt; item.id === dragId.value); const dropIndex = mockListData.value.findIndex(item =&gt; item.id === dropId); e.currentTarget.classList.remove(&quot;drop-up&quot;, &quot;drop-down&quot;); if (dragIndex &lt; dropIndex) { e.currentTarget.classList.add(&quot;drop-down&quot;); } else if (dragIndex &gt; dropIndex) { e.currentTarget.classList.add(&quot;drop-up&quot;); } move(dragId.value, dropId);}&lt;/script&gt;&lt;template&gt; &lt;div class=&quot;sortable-page&quot;&gt; &lt;h1&gt;åŸºäº HTML5 åŸç”Ÿæ‹–æ‹½äº‹ä»¶çš„æ‹–æ‹½åˆ—è¡¨&lt;/h1&gt; &lt;div className=&quot;list-container&quot;&gt; &lt;div @dragstart=&quot;onDragStart&quot; @drag=&quot;onDrag&quot; @dragend=&quot;onDragEnd&quot; @dragover.prevent=&quot;onDragOver&quot; class=&quot;item&quot; v-for=&quot;item in mockListData&quot; :key=&quot;item.id&quot; :data-id=&quot;item.id&quot; draggable=&quot;true&quot;&gt; &lt;div&gt;ID: {{ item.id }}&lt;/div&gt; &lt;div&gt; {{ item.val }}&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;style scoped lang=&quot;scss&quot;&gt;.sortable-page { position: relative; width: 100%; min-height: 100vh; background-color: #ececec; display: flex; align-items: center; flex-direction: column; justify-content: center; &amp;&gt;.list-container { margin: 40px auto; width: 400px; min-height: 600px; padding: 10px 20px; background-color: #fff; border-radius: 4px; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; .item { position: relative; box-sizing: border-box; height: 50px; padding: 8px; display: flex; justify-content: space-between; align-items: center; background-color: #fff; cursor: grab; user-select: none; &amp;.drop-up { animation: dropUp 0.3s ease-in-out forwards; } &amp;.drop-down { animation: dropDown 0.3s ease-in-out forwards; } &amp;.border-top { border-top: 2px solid red; } } }}@keyframes dropUp { 100% { transform: translateY(5px); }}@keyframes dropDown { 100% { transform: translateY(-5px); }}&lt;/style&gt; react123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120import React, { useState } from &quot;react&quot;;import { cloneDeep, findIndex, isEqual } from &quot;lodash-es&quot;;import update from &quot;immutability-helper&quot;;import &quot;./App.less&quot;;const MOCK_LIST_DATA = new Array(10).fill(0).map((_, idx) =&gt; ({ id: Math.random().toString(36).slice(-6), val: `åˆå§‹é¡ºåºï¼š${idx}`,}));interface ItemProps { index: string; val: string; handleDragStart: React.DragEventHandler&lt;HTMLDivElement&gt;; handleDragOver: React.DragEventHandler&lt;HTMLDivElement&gt;; handleDrag: React.DragEventHandler&lt;HTMLDivElement&gt;; handleDragEnd: React.DragEventHandler&lt;HTMLDivElement&gt;;}const Item: React.FC&lt;ItemProps&gt; = React.memo((props) =&gt; { const { index, val, handleDrag, handleDragEnd, handleDragOver, handleDragStart, } = props; return ( &lt;div className=&quot;item&quot; draggable onDragStart={handleDragStart} onDragOver={handleDragOver} onDrag={handleDrag} onDragEnd={handleDragEnd} onDragLeave={(e) =&gt; { e.currentTarget.classList.remove(&quot;border-top&quot;); }} data-index={index} &gt; &lt;div&gt;ID: {index}&lt;/div&gt; &lt;div&gt;{val}&lt;/div&gt; &lt;/div&gt; );});const SortableListPage = () =&gt; { const [listData, setListData] = useState(MOCK_LIST_DATA); const [dragId, setDragId] = useState&lt;string | undefined&gt;(&quot;&quot;); const move = (dragId?: string, dropId?: string) =&gt; { if (!dragId || !dropId) return; const dragIndex = findIndex(listData, (i) =&gt; i.id === dragId); const dropIndex = findIndex(listData, (i) =&gt; i.id === dropId); const originItem = listData.splice(dragIndex, 1)[0]; listData.splice(dropIndex, 0, originItem); setListData([...listData]); }; // æºå¯¹è±¡å¼€å§‹æ‹–æ‹½ const handleDragStart = (e: React.DragEvent&lt;HTMLDivElement&gt;) =&gt; { e.dataTransfer.effectAllowed = &quot;move&quot;; setDragId(e.currentTarget.dataset.index); }; // æºå¯¹è±¡åœ¨ç›®æ ‡å¯¹è±¡ä¸Šæ–¹æ—¶ const handleDragOver = (e: React.DragEvent&lt;HTMLDivElement&gt;) =&gt; { e.preventDefault(); // å…è®¸æ”¾ç½®ï¼Œé˜»æ­¢é»˜è®¤äº‹ä»¶ // è®¾ç½®åŠ¨ç”» const dropId = e.currentTarget.dataset.index; if(dragId === dropId) return; const dragIndex = findIndex(listData, (i) =&gt; i.id === dragId); const dropIndex = findIndex(listData, (i) =&gt; i.id === dropId); e.currentTarget.classList.remove(&quot;drop-up&quot;, &quot;drop-down&quot;); if (dragIndex &lt; dropIndex) { e.currentTarget.classList.add(&quot;drop-down&quot;); } else if (dragIndex &gt; dropIndex) { e.currentTarget.classList.add(&quot;drop-up&quot;); } move(dragId, dropId); }; // æºå¯¹è±¡è¢«æ‹–æ‹½è¿‡ç¨‹ä¸­ const handleDrag = (e: React.DragEvent&lt;HTMLDivElement&gt;) =&gt; { e.currentTarget.style.opacity = &quot;0&quot;; }; // æºå¯¹è±¡è¢«æ”¾ç½®å®Œæˆæ—¶ const handleDragEnd = (e: React.DragEvent&lt;HTMLDivElement&gt;) =&gt; { e.currentTarget.style.opacity = &quot;1&quot;; }; return ( &lt;div className=&quot;sortable-page&quot;&gt; &lt;h1&gt;åŸºäº HTML5 åŸç”Ÿæ‹–æ‹½äº‹ä»¶çš„æ‹–æ‹½åˆ—è¡¨&lt;/h1&gt; &lt;div className=&quot;list-container&quot;&gt; {listData.map((i) =&gt; ( &lt;Item key={i.id} index={i.id} val={i.val} handleDragStart={handleDragStart} handleDragOver={handleDragOver} handleDrag={handleDrag} handleDragEnd={handleDragEnd} /&gt; ))} &lt;/div&gt; &lt;/div&gt; );};export default SortableListPage; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859.sortable-page { position: relative; width: 100%; min-height: 100vh; background-color: #ececec; display: flex; align-items: center; flex-direction: column; justify-content: center; &amp; &gt; .list-container { margin: 40px auto; width: 400px; min-height: 600px; padding: 10px 20px; background-color: #fff; border-radius: 4px; box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; .item { position: relative; box-sizing: border-box; height: 50px; padding: 8px; display: flex; justify-content: space-between; align-items: center; background-color: #fff; cursor: grab; user-select: none; &amp;.drop-up { animation: dropUp 0.3s ease-in-out forwards; } &amp;.drop-down { animation: dropDown 0.3s ease-in-out forwards; } &amp;.border-top { border-top: 2px solid red; } } }}@keyframes dropUp { 100% { transform: translateY(5px); }}@keyframes dropDown { 100% { transform: translateY(-5px); }} React-dnd1yarn add react-dnd react-dnd-html5-backend 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485import { DndProvider } from 'react-dnd';import { HTML5Backend } from 'react-dnd-html5-backend';// App.tsxfunction App() { return ( &lt;DndProvider backend={ HTML5Backend }&gt; &lt;Demo /&gt; &lt;/DndProvider&gt; )}// Demo.tsximport React, { useState, useRef } from &quot;react&quot;;import { useDrag, useDrop } from &quot;react-dnd&quot;;const mockData = new Array(10).fill(0).map((_, index) =&gt; ({ id: Math.random().toString(36).slice(-6), val: `åˆå§‹ä½ç½®: ${index}`,}));const Item = ({ val, id, move }: any) =&gt; { const ref = useRef&lt;HTMLDivElement&gt;(null); const [, drag, dragPreview] = useDrag({ type: &quot;Item&quot;, item: () =&gt; ({ id, }), }); const [, drop] = useDrop({ accept: &quot;Item&quot;, hover: (item: any, monitor) =&gt; { const dragId = item.id; const dropId = id; if (dragId === dropId) return; move(dragId, dropId) }, }); dragPreview(drag(drop(ref))); return ( &lt;div ref={ref} style={{ width: &quot;200px&quot;, lineHeight: &quot;40px&quot;, cursor: &quot;grab&quot;, display: &quot;flex&quot;, alignItems: &quot;center&quot;, justifyContent: &quot;space-between&quot;, }} &gt; &lt;div&gt;ID: {id}&lt;/div&gt; &lt;div&gt;{val}&lt;/div&gt; &lt;/div&gt; );};function Demo() { const [dataList, setDataList] = useState(mockData); const move = (dragId: string, dropId: string) =&gt; { const dragIndex = dataList.findIndex((item) =&gt; item.id === dragId); const dropIndex = dataList.findIndex((item) =&gt; item.id === dropId); const originData = dataList.splice(dragIndex, 1)[0]; dataList.splice(dropIndex, 0, originData); setDataList([...dataList]); }; return ( &lt;&gt; {dataList.map((item) =&gt; ( &lt;Item key={item.id} id={item.id} val={item.val} move={move} /&gt; ))} &lt;/&gt; );}export default Demo;","link":"/%E6%8B%96%E6%8B%BD/"},{"title":"ç§»åŠ¨ç«¯å¼€å‘è®°å½•","text":"h5é€‚é…è®¡ç®—ä»€ä¹ˆæ˜¯viewport æ—©æœŸç§»åŠ¨ç«¯çš„viewportä¸pcçš„viewportæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¯¼è‡´å°å±ä½“éªŒä¸ä½³ï¼Œåæ¥è‹¹æœå¼•å…¥å¯è§†è§†çª—ï¼ˆvisual viewportï¼‰å’Œå¸ƒå±€è§†çª—(layout viewport)ã€‚è¿™ä¸¤ä¸ªè§†çª—æ˜¯é€è§†çš„æ•ˆæœï¼Œæƒ³è±¡ä¸‹layout viewportæ˜¯ä¸€å¼ å¤§çš„ä¸èƒ½æ”¹å˜å¤§å°å’Œè§’åº¦çš„å›¾ç‰‡ã€‚æˆ‘ä»¬é€è¿‡visual viewportå¯¹layout viewportè¿›è¡Œè§‚å¯Ÿã€‚è§‚å¯Ÿè·ç¦»è¿œç‚¹ï¼ˆç”¨æˆ·çš„ç¼©å°é¡µé¢åŠŸèƒ½ï¼‰å°±å¯ä»¥ä¸€æ¬¡æ€§çœ‹åˆ°è¿™ä¸ªå¤§å›¾ã€‚æˆ–è€…è¿‘ç‚¹ï¼ˆç”¨æˆ·çš„æ”¾å¤§é¡µé¢åŠŸèƒ½ï¼‰å¯ä»¥çœ‹åˆ°ä¸€éƒ¨åˆ†ã€‚ä½ èƒ½æ”¹å˜è¿™ä¸ªé€è§†æ¡†çš„æ–¹å‘ï¼Œä½†è¿™å¼ å¤§å›¾ç‰‡çš„å¤§å°å’Œå½¢çŠ¶éƒ½ä¸ä¼šæ”¹å˜ã€‚ æˆ‘ä»¬åœ¨&lt;meta name=&quot;viewport&quot; /&gt; è®¾ç½®çš„å…¶å®æ˜¯layout-viewportï¼Œä½¿å¾—layout viewport==visual viewportï¼Œè¾¾åˆ°ideal viewportæ•ˆæœï¼Œä½¿å¾—viewportåˆšå¥½å®Œç¾è¦†ç›–å±å¹•ï¼Œå› æ­¤é€‚é…æ–¹æ¡ˆçš„æ—¶å€™ï¼Œè¿™ä¸€å¥æœ€é‡è¦ã€‚ px rem vwçš„è½¬æ¢ é»˜è®¤æƒ…å†µä¸‹æ ¹å…ƒç´ çš„font-sizeä¸º 1rem = 16pxï¼Œä½†ä¸ºäº†æ–¹ä¾¿æ¢ç®—ï¼Œæˆ‘ä»¬é€šå¸¸è®¾ç½® 1rem = 100px ä»¥750pxçš„è®¾è®¡ç¨¿ä¸ºä¾‹ï¼Œåˆ™å¯ä»¥å¾—å‡º 750px = 7.5rem ç›¸å½“äº100vw=7.5remé‚£ä¹ˆ1rem = 100vw / 7.5 = 13.3333vwï¼Œæ‰€ä»¥è®¾ç½®æ ¹å…ƒç´ çš„font-sizeä¸º13.3333vw è€Œåœ¨é¡µé¢æ ·å¼ä¸­ï¼Œç›´æ¥å°†è®¾è®¡ç¨¿ä¸­çš„pxé™¤ä»¥100å°±æ˜¯å¯¹åº”çš„remå€¼ è‹¥è¦å…¼å®¹æ—§æµè§ˆå™¨ï¼Œåˆ™éœ€è¦å†™å…¥å“åº”å¼å¸ƒå±€ï¼Œä¾‹å¦‚ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576// ç›¸å½“äº 320 / 7.5 = 42.667px@media screen and (max-width: 320px) { html { font-size: 42.667px; font-size: 13.3333vw; }}// ç›¸å½“äº375 / 7.5 = 48pxï¼Œä»¥ä¸‹åŒç†@media screen and (min-width: 321px) and (max-width: 375px) { html { font-size: 48px; font-size: 13.3333vw; }}@media screen and (min-width: 376px) and (max-width:393px) { html { font-size: 52.4px; font-size: 13.3333vw }}@media screen and (min-width: 394px) and (max-width:412px) { html { font-size: 54.93px; font-size: 13.3333vw }}@media screen and (min-width: 413px) and (max-width:414px) { html { font-size: 55.2px; font-size: 13.3333vw }}@media screen and (min-width: 415px) and (max-width:480px) { html { font-size: 64px; font-size: 13.3333vw }}@media screen and (min-width: 481px) and (max-width:540px) { html { font-size: 72px; font-size: 13.3333vw }}@media screen and (min-width: 541px) and (max-width:640px) { html { font-size: 85.33px; font-size: 13.3333vw }}@media screen and (min-width: 641px) and (max-width:720px) { html { font-size: 96px; font-size: 13.3333vw }}@media screen and (min-width: 721px) and (max-width:768px) { html { font-size: 102.4px; font-size: 13.3333vw }}@media screen and (min-width: 769px) and (max-width:852px) { html { font-size: 113.4px; font-size: 13.3333vw }}@media screen and (min-width: 853px) { html { font-size: 130.4px; font-size: 13.3333vw }} ä¸åŒçš„è®¾è®¡ç¨¿ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„è¡¨æ ¼ è®¾è®¡ç¨¿å¤§å°ï¼ˆå•ä½ pxï¼‰ html çš„ font-sizeï¼ˆå•ä½ vwï¼‰ 375 26.666666 750 13.333333 320 31.25 640 15.625 viewportç¼©æ”¾æ¯”ä¾‹è®¾ç½®1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot; /&gt; å…¶ä»–å¯èƒ½ä½¿ç”¨åˆ°çš„metaæ ‡ç­¾é…ç½®123456&lt;meta name=&quot;screen-orientation&quot; content=&quot;portrait&quot;&gt; //Android ç¦æ­¢å±å¹•æ—‹è½¬&lt;meta name=&quot;full-screen&quot; content=&quot;yes&quot;&gt; //å…¨å±æ˜¾ç¤º&lt;meta name=&quot;browsermode&quot; content=&quot;application&quot;&gt; //UCåº”ç”¨æ¨¡å¼ï¼Œä½¿ç”¨äº†applicationè¿™ç§åº”ç”¨æ¨¡å¼åï¼Œé¡µé¢è®²é»˜è®¤å…¨å±ï¼Œç¦æ­¢é•¿æŒ‰èœå•ï¼Œç¦æ­¢æ”¶æ‹¾ï¼Œæ ‡å‡†æ’ç‰ˆï¼Œä»¥åŠå¼ºåˆ¶å›¾ç‰‡æ˜¾ç¤ºã€‚&lt;meta name=&quot;x5-orientation&quot; content=&quot;portrait&quot;&gt; //QQå¼ºåˆ¶ç«–å±&lt;meta name=&quot;x5-fullscreen&quot; content=&quot;true&quot;&gt; //QQå¼ºåˆ¶å…¨å±&lt;meta name=&quot;x5-page-mode&quot; content=&quot;app&quot;&gt; //QQåº”ç”¨æ¨¡å¼ ç”µè¯å·ç è¯†åˆ«åœ¨ iOS Safari ï¼ˆå…¶ä»–æµè§ˆå™¨å’Œ Android å‡ä¸ä¼šï¼‰ä¸Šä¼šå¯¹é‚£äº›çœ‹èµ·æ¥åƒæ˜¯ç”µè¯å·ç çš„æ•°å­—å¤„ç†ä¸ºç”µè¯é“¾æ¥ï¼Œæ¯”å¦‚ï¼š 7 ä½æ•°å­—ï¼Œå½¢å¦‚ï¼š1234567 å¸¦æ‹¬å·åŠåŠ å·çš„æ•°å­—ï¼Œå½¢å¦‚ï¼š(+86)123456789 åŒè¿æ¥çº¿çš„æ•°å­—ï¼Œå½¢å¦‚ï¼š00-00-00111 11 ä½æ•°å­—ï¼Œå½¢å¦‚ï¼š13800138000 å…³é—­è¯†åˆ« 1&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot; /&gt; å¼€å¯è¯†åˆ« 1&lt;a href=&quot;tel:123456&quot;&gt;123456&lt;/a&gt; é‚®ç®±è¯†åˆ«ï¼ˆAndroidï¼‰å®‰å“ä¸Šä¼šå¯¹ç¬¦åˆé‚®ç®±æ ¼å¼çš„å­—ç¬¦ä¸²è¿›è¡Œè¯†åˆ«ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ meta æ¥ç®¡åˆ«é‚®ç®±çš„è‡ªåŠ¨è¯†åˆ« 1&lt;meta content=&quot;email=no&quot; name=&quot;format-detection&quot; /&gt; åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾å±æ€§æ¥å¼€å¯é•¿æŒ‰é‚®ç®±åœ°å€å¼¹å‡ºé‚®ä»¶å‘é€çš„åŠŸèƒ½ï¼š 1&lt;a mailto:dooyoe@gmail.com&quot;&gt;dooyoe@gmail.com&lt;/a&gt; chromeå®æœºè°ƒè¯• ç”µè„‘ä¸Šè®¿é—®chrome://inspect/#devices åœ¨æ‰‹æœºä¸­å®‰è£…Chromeæµè§ˆå™¨ è‹¥æ˜¯è°ƒè¯•å¾®ä¿¡å†…ç½®ç½‘é¡µï¼Œéœ€è¦å…ˆåœ¨æ‰‹æœºä¸­æ‰“å¼€è¿™ä¸ªåœ°å€ï¼šhttp://debugxweb.qq.com/?inspector=true å®‰å“æ‰‹æœºå¼€å¯USBè°ƒè¯•ï¼Œé€šè¿‡USBè¿æ¥ç”µè„‘å³å¯ åº•éƒ¨ä½¿ç”¨å›ºå®šå®šä½é®ä½å†…å®¹ç»™åº•éƒ¨å†…å®¹è®¾ç½®padding-bottomæ’‘å¼€ åˆ¤æ–­é¡µé¢æ‰€åœ¨çš„ç¯å¢ƒåˆ¤æ–­æ˜¯å¦ç§»åŠ¨ç«¯1234567function isMobile(){ if(window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)) { return true; // ç§»åŠ¨ç«¯ }else{ return false; // PCç«¯ }} åˆ¤æ–­æ˜¯å¦å¾®ä¿¡ç¯å¢ƒ12345function getIsWxClient() { const ua = navigator.userAgent.toLowerCase(); const reg = /MicroMessenger/i; return reg.test(ua);} åˆ¤æ–­æ˜¯å¦æ¨ªå±/ç«–å±123456789101112// åˆ¤æ–­æ˜¯å¦æ¨ªå±ç«–å±function hengshuping() { // ç«–å± if (window.orientation == 180 || window.orientation == 0) { alert('ç«–å±') } // æ¨ªå± if (window.orientation == 90 || window.orientation == -90) { alert('æ¨ªå±') }}window.addEventListener('onorientationchange' in window ? 'orientationchange' : 'resize',hengshuping,false); åˆ¤æ–­æ˜¯å¦IOSç¯å¢ƒ1234function isIos() { const u = navigator.userAgent; return !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);} åˆ¤æ–­æµè§ˆå™¨ç¯å¢ƒ12345678910111213141516171819202122232425262728293031323334let isOpera = (!!window.opr &amp;&amp; !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') &gt;= 0;// Firefox 1.0+let isFirefox = typeof InstallTrigger !== 'undefined';// Safari 3.0+ &quot;[object HTMLElementConstructor]&quot;let isSafari = /constructor/i.test(window.HTMLElement) || (function (p) { return p.toString() === &quot;[object SafariRemoteNotification]&quot;; })(!window['safari'] || (typeof safari !== 'undefined' &amp;&amp; safari.pushNotification));// Internet Explorer 6-11let isIE = /*@cc_on!@*/false || !!document.documentMode;// Edge 20+let isEdge = !isIE &amp;&amp; !!window.StyleMedia;// Chrome 1 - 79let isChrome = !!window.chrome &amp;&amp; (!!window.chrome.webstore || !!window.chrome.runtime);// Edge (based on chromium) detectionlet isEdgeChromium = isChrome &amp;&amp; (navigator.userAgent.indexOf(&quot;Edg&quot;) != -1);// Blink engine detectionlet isBlink = (isChrome || isOpera) &amp;&amp; !!window.CSS;let output = 'Detecting browsers by ducktyping:&lt;hr&gt;';output += 'isFirefox: ' + isFirefox + '&lt;br&gt;';output += 'isChrome: ' + isChrome + '&lt;br&gt;';output += 'isSafari: ' + isSafari + '&lt;br&gt;';output += 'isOpera: ' + isOpera + '&lt;br&gt;';output += 'isIE: ' + isIE + '&lt;br&gt;';output += 'isEdge: ' + isEdge + '&lt;br&gt;';output += 'isEdgeChromium: ' + isEdgeChromium + '&lt;br&gt;';output += 'isBlink: ' + isBlink + '&lt;br&gt;';document.body.innerHTML = output; iphoneå­—ä½“é‡å é—®é¢˜åœ¨iphone8ä¸‹è®¾ç½®å­—ä½“å®¹å™¨çš„å®½åº¦ï¼Œå‘ç°å­—ä½“ä¼šé‡å ï¼Œå°†å®¹å™¨å®½åº¦å–æ¶ˆï¼Œé—®é¢˜è§£å†³ ç§»åŠ¨ç«¯è·å–scrollTopé«˜åº¦ä¸åŒæ‰‹æœºçš„æµè§ˆå™¨è·å–scrollTopå­˜åœ¨å…¼å®¹é—®é¢˜ï¼Œéœ€è¦å–å‡ ä¸ªå¯èƒ½å–åˆ°çš„å±æ€§çš„æœ€å¤§å€¼ 12const scrollTop = Math.max(document.documentElement.scrollTop,document.body.scrollTop,window.scrollY);const scrollHeight = Math.max(document.documentElement.scrollHeight || document.body.scrollHeight) å…³äºå°ç±³æ‰‹æœºè‡ªå¸¦æµè§ˆå™¨èƒŒæ™¯å›¾åŠ è½½å¤±è´¥è‡ªå¸¦æµè§ˆå™¨å¯èƒ½å¯¹ä¸€äº›å­—æ®µè¿›è¡Œäº†å±è”½(ä¾‹å¦‚å¹¿å‘Šä¹‹ç±»çš„)ï¼Œåœ¨å¯¹å›¾ç‰‡è¿›è¡Œå‘½åæ—¶ï¼Œå°½é‡ç®€å•å‘½åï¼Œé¿å¼€æŸäº›å…³é”®å­— scss lessç§»åŠ¨ç«¯å‡½æ•°è½¬æ¢1234// scss@function pxToRem($size) { @return calc($size / 100) * 1rem} 123456789// less.pxToRem(@px) { @var: unit(@px / 100) @rem: ~'@{var}rem'}// ä½¿ç”¨.box { width: .pxToRem(300px)[@rem]}","link":"/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/"},{"title":"ç®€å•å·¥å‚æ¨¡å¼","text":"ç®€å•å·¥å‚æ¨¡å¼ä¸»è¦åœ¨äºåŒºåˆ†å˜ä¸ä¸å˜ï¼Œä¾‹å¦‚Coder å’Œ ProductManager ä¸¤ä¸ªå·¥ç§çš„å‘˜å·¥ï¼Œæ˜¯ä¸æ˜¯ä»ç„¶å­˜åœ¨éƒ½æ‹¥æœ‰ nameã€ageã€careerã€work è¿™å››ä¸ªå±æ€§è¿™æ ·çš„å…±æ€§ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Œåœ¨äºæ¯ä¸ªå­—æ®µå–å€¼çš„ä¸åŒï¼Œä»¥åŠ work å­—æ®µéœ€è¦éš career å­—æ®µå–å€¼çš„ä¸åŒè€Œæ”¹å˜ã€‚ 1234567891011121314151617181920212223242526272829303132class User { /** * @param {String} name * @param {Number} age * @param {String} career * @param {String} work */ constructor(name, age, career, work) { this.name = name; this.age = age; this.career = career; this.work = work; }}function Factory(name, age, career) { let work switch(career) { case 'coder': work = ['å†™ä»£ç ','å†™ç³»åˆ†', 'ä¿®Bug'] break case 'product manager': work = ['è®¢ä¼šè®®å®¤', 'å†™PRD', 'å‚¬æ›´'] break case 'boss': work = ['å–èŒ¶', 'çœ‹æŠ¥', 'è§å®¢æˆ·'] case 'xxx': // å…¶å®ƒå·¥ç§çš„èŒè´£åˆ†é… ... return new User(name, age, career, work)} å°ç»“å·¥å‚æ¨¡å¼çš„ç®€å•ä¹‹å¤„ï¼Œåœ¨äºå®ƒçš„æ¦‚å¿µç›¸å¯¹å¥½ç†è§£ï¼šå°†åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹å•ç‹¬å°è£…ï¼Œè¿™æ ·çš„æ“ä½œå°±æ˜¯å·¥å‚æ¨¡å¼ã€‚åŒæ—¶å®ƒçš„åº”ç”¨åœºæ™¯ä¹Ÿéå¸¸å®¹æ˜“è¯†åˆ«ï¼šæœ‰æ„é€ å‡½æ•°çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å°±åº”è¯¥æƒ³åˆ°ç®€å•å·¥å‚ï¼›åœ¨å†™äº†å¤§é‡æ„é€ å‡½æ•°ã€è°ƒç”¨äº†å¤§é‡çš„ newã€è‡ªè§‰éå¸¸ä¸çˆ½çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±åº”è¯¥æ€è€ƒæ˜¯ä¸æ˜¯å¯ä»¥æå‡ºå·¥å‚æ¨¡å¼é‡æ„æˆ‘ä»¬çš„ä»£ç äº†","link":"/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"title":"æ‰“åŒ…å›¾ç‰‡èµ„æº","text":"1.æ‰“åŒ…å›¾ç‰‡èµ„æº webpackæ‰“åŒ…å›¾ç‰‡èµ„æºéœ€è¦ä¸‹è½½ä¸¤ä¸ªloader: url-loader file-loader url-loader ä¾èµ–äºfile-loaderï¼Œåœ¨é…ç½®æ—¶åªéœ€è¦å¼•å…¥ä¸€ä¸ªloaderå³å¯ 1234567891011121314151617181920212223const dirs = require('./dirs');module.exports = { module: { rules: [ /** å¤„ç†å›¾ç‰‡èµ„æºï¼Œéœ€è¦ url-loader file-loader */ { test: /\\.(png|jpe?g|gif|svg)(\\?.*)?$/, use: [ { loader: 'url-loader', options: { limit: 5 * 1000, include: dirs.src, // æ‰“åŒ…åçš„å›¾ç‰‡è·¯å¾„ä»¥åŠå‘½å name: 'images/[path][name].[ext]' } } ] } ] }}","link":"/webpack/5.%E6%89%93%E5%8C%85%E5%9B%BE%E7%89%87%E8%B5%84%E6%BA%90/"},{"title":"devServer","text":"1.devServeråŸºæœ¬é…ç½® å¼€å‘ç¯å¢ƒä¸‹è‡ªåŠ¨ç¼–è¯‘ï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ 123456789101112131415{ module.exports = { // å¼€å‘æœåŠ¡å™¨ï¼Œ åœ¨å¼€å‘è¿‡ç¨‹ä¸­çƒ­åŠ è½½é¡¹ç›® devServer: { // æ„å»ºåçš„é¡¹ç›®è¿è¡Œçš„ç›®å½• contentBase: path.resolve(dirs.build), // å¯åŠ¨gzipå‹ç¼© compress: true, // ç«¯å£å· port: 8100, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ open: false, } }}","link":"/webpack/6.devServer/"},{"title":"æ¨¡å—è”é‚¦","text":"ä¸€ã€å‰è¨€å¾®å‰ç«¯çš„æ¦‚å¿µç›¸ä¿¡å¤§å®¶éƒ½ä¸é™Œç”Ÿï¼Œå…¶æœ¬è´¨æ˜¯ä¸€ç§æ¶æ„è®¾è®¡æ€æƒ³ï¼Œå°†ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æ‹†åˆ†æˆè‹¥å¹²ä¸ªå°é¡¹ç›®ï¼Œé¡¹ç›®çš„å¼€å‘å’Œéƒ¨ç½²äº’ä¸å½±å“ï¼Œä¸Šçº¿åå†èšåˆæˆä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ã€‚webpack5çš„æ¨¡å—è”é‚¦å…¶åŠŸèƒ½ä¸è¿™ä¸ªç±»ä¼¼ï¼Œå¯ä»¥ç”¨æ¥åŠ è½½è¿œç¨‹æ¨¡å— äºŒã€ä¸‰ä¸ªæ¦‚å¿µæ¨¡å—è”é‚¦æœ‰ä¸‰ä¸ªé‡è¦çš„æ¦‚å¿µï¼š webpackæ„å»ºï¼Œä¸€ä¸ªç‹¬ç«‹é¡¹ç›®é€šè¿‡webpackæ‰“åŒ…ç¼–è¯‘è€Œäº§ç”Ÿèµ„æºåŒ… remoteï¼Œä¸€ä¸ªæš´éœ²æ¨¡å—æä¾›å…¶å®ƒ webpackæ„å»º æ¶ˆè´¹çš„ webpackæ„å»º hostï¼Œä¸€ä¸ªæ¶ˆè´¹å…¶ä»– remote æ¨¡å—çš„ webpackæ„å»º ä¸€è¨€ä»¥è”½ä¹‹ï¼Œä¸€ä¸ªwebpackæ„å»ºå¯ä»¥æ˜¯remoteâ€“å³æœåŠ¡çš„æä¾›æ–¹ï¼Œä¹Ÿå¯ä»¥æ˜¯hostâ€“å³æœåŠ¡çš„æ¶ˆè´¹æ–¹ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æ‰®æ¼”æœåŠ¡æä¾›æ–¹å’ŒæœåŠ¡æ¶ˆè´¹è€…ï¼Œå®Œå…¨çœ‹é¡¹ç›®çš„æ¶æ„ã€‚ éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œä»»ä½•ä¸€ä¸ªwebpackæ„å»ºæ—¢å¯ä»¥ä½œä¸ºhostæ¶ˆè´¹æ–¹ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºremoteæä¾›æ–¹ï¼ŒåŒºåˆ«åœ¨äºèŒè´£å’Œwebpacké…ç½®çš„ä¸åŒ ä¸‰ã€é¡¹ç›®å®æˆ˜ä¸€å…±æœ‰ä¸‰ä¸ªå¾®åº”ç”¨ï¼š lib-appã€component-appã€main-appï¼Œè§’è‰²åˆ†åˆ«æ˜¯ï¼š lib-app as remoteï¼Œæš´éœ²äº†ä¸¤ä¸ªæ¨¡å— reactå’Œ react-dom component-app as remote and host,ä¾èµ–lib-app,æš´éœ²äº†ä¸€äº›ç»„ä»¶ä¾›main-appæ¶ˆè´¹ main-app as host,ä¾èµ–lib-appå’Œcomponent-app lib-appæš´éœ²æ¨¡å—123456789101112131415//webpack.config.jsmodule.exports = { //...çœç•¥ plugins: [ new ModuleFederationPlugin({ name: &quot;lib_app&quot;, filename: &quot;remoteEntry.js&quot;, exposes: { &quot;./react&quot;:&quot;react&quot;, &quot;./react-dom&quot;:&quot;react-dom&quot; } }) ], //...çœç•¥} component-appçš„é…ç½®ä¾èµ– lib-appï¼Œæš´éœ²ä¸‰ä¸ªæ¨¡å—ç»„ä»¶ Buttonã€Dialogã€Logo 123456789101112131415161718//webpack.config.jsmodule.exports = { //...çœç•¥ plugins:[ new ModuleFederationPlugin({ name: &quot;component_app&quot;, filename: &quot;remoteEntry.js&quot;, exposes: { &quot;./Button&quot;:&quot;./src/Button.jsx&quot;, &quot;./Dialog&quot;:&quot;./src/Dialog.jsx&quot;, &quot;./Logo&quot;:&quot;./src/Logo.jsx&quot; }, remotes:{ &quot;lib-app&quot;:&quot;lib_app@http://localhost:3000/remoteEntry.js&quot; } }), ]} ä¸‰ä¸ªæš´éœ²çš„ç»„ä»¶ 12345//Button.jsximport React from 'lib-app/react';export default function(){ return &lt;button style={{color: &quot;#fff&quot;,backgroundColor: &quot;#409eff&quot;,borderColor: &quot;#409eff&quot;}}&gt;æŒ‰é’®ç»„ä»¶&lt;/button&gt;} 1234567891011121314151617181920212223242526//Dialog.jsximport React from 'lib-app/react';export default class Dialog extends React.Component { constructor(props) { super(props); } render() { if(this.props.visible){ return ( &lt;div style={{position:&quot;fixed&quot;,left:0,right:0,top:0,bottom:0,backgroundColor:&quot;rgba(0,0,0,.3)&quot;}}&gt; &lt;button onClick={()=&gt;this.props.switchVisible(false)} style={{position:&quot;absolute&quot;,top:&quot;10px&quot;,right:&quot;10px&quot;}}&gt;X&lt;/button&gt; &lt;div style={{ marginTop:&quot;20%&quot;,textAlign:&quot;center&quot;}}&gt; &lt;h1&gt; What is your name ? &lt;/h1&gt; &lt;input style={{fontSize:&quot;18px&quot;,lineHeight:2}} type=&quot;text&quot; /&gt; &lt;/div&gt; &lt;/div&gt; ); }else{ return null; } }} 123456// Logo.jsximport React from 'lib-app/react';import pictureData from './MF.jpeg'export default function(){ return &lt;img src={pictureData} style={{width:&quot;500px&quot;,borderRadius:&quot;10px&quot;}}/&gt;} main-appçš„é…ç½®main-appä¾èµ–ä¸¤ä¸ªé¡¹ç›® lib-appå’Œ component-app 1234567891011121314151617///webpack.config.jsmodule.exports = { //çœç•¥... plugins: [ new ModuleFederationPlugin({ name: &quot;main_app&quot;, remotes:{ &quot;lib-app&quot;:&quot;lib_app@http://localhost:3000/remoteEntry.js&quot;, &quot;component-app&quot;:&quot;component_app@http://localhost:3001/remoteEntry.js&quot; }, }), new HtmlWebpackPlugin({ template: &quot;./public/index.html&quot;, }) ] //çœç•¥...}; ä½¿ç”¨åœ¨ main-app ä¸­å¼•å…¥ component-app æš´éœ²å‡ºæ¥çš„æ¨¡å—ï¼Œå³å¯ä½¿ç”¨ 12345678910111213141516import React from 'lib-app/react';import Button from 'component-app/Button'import Dialog from 'component-app/Dialog'import Logo from 'component-app/Logo'export default class App extends React.Component{ constructor(props) { super(props) //çœç•¥... } //çœç•¥... render(){ return (&lt;div&gt; //çœç•¥... &lt;/div&gt;) }}","link":"/webpack/%E6%A8%A1%E5%9D%97%E8%81%94%E9%82%A6/"},{"title":"aspect-ratio","text":"ç”¨æ¥å®šä¹‰å®¹å™¨çš„å®½é«˜æ¯” ç¤ºä¾‹ 1234567891011121314151617181920212223&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;style&gt; .box { width: 200px; background-color: aqua; height: auto; aspect-ratio: 1/2; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;box&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;","link":"/aspect-ratio/"},{"title":"acceptå±æ€§","text":"accepté™åˆ¶ä¸Šä¼ æ–‡ä»¶ç±»å‹1&lt;input type=&quot;file&quot; accept=&quot;&quot; /&gt; acceptçš„å€¼ä¸ºï¼š æ ¼å¼ acceptç±»å‹ *.3gpp audio/3gpp, video/3gpp *.ac3 audio/ac3 *.asf allpication/vnd.ms-asf *.au audio/basic *.css text/css *.csv text/csv *.doc application/msword *.dot application/msword *.dtd application/xml-dtd *.dwg image/vnd.dwg *.dxf image/vnd.dxf *.gif image/gif *.htm text/html *.html text/html *.jp2 image/jp2 *.jpe image/jpeg *.jpeg image/jpeg *.jpg image/jpeg *.js text/javascript, application/javascript *.json application/json *.mp2 audio/mpeg, video/mpeg *.mp3 audio/mpeg *.mp4 audio/mp4, video/mp4 *.mpeg video/mpeg *.mpg video/mpeg *.mpp application/vnd.ms-project *.ogg application/ogg, audio/ogg *.pdf application/pdf *.png image/png *.pot application/vnd.ms-powerpoint *.pps application/vnd.ms-powerpoint *.ppt application/vnd.ms-powerpoint *.rtf application/rtf, text/rtf *.svf image/vnd.svf *.tif image/tiff *.tiff image/tiff *.txt text/plain *.wdb application/vnd.ms-works *.wps application/vnd.ms-works *.xhtml application/xhtml+xml *.xlc application/vnd.ms-excel *.xlm application/vnd.ms-excel *.xls application/vnd.ms-excel *.xlt application/vnd.ms-excel *.xlw application/vnd.ms-excel *.xml text/xml, application/xml *.zip aplication/zip .xlsx application/vnd.openxmlformats-officedocument.spreadsheetml.sheet .xltx application/vnd.openxmlformats-officedocument.spreadsheetml.template .potx application/vnd.openxmlformats-officedocument.presentationml.template .ppsx application/vnd.openxmlformats-officedocument.presentationml.slideshow .pptx application/vnd.openxmlformats-officedocument.presentationml.presentation .sldx application/vnd.openxmlformats-officedocument.presentationml.slide .docx application/vnd.openxmlformats-officedocument.wordprocessingml.document .dotx application/vnd.openxmlformats-officedocument.wordprocessingml.template .xlsm application/vnd.ms-excel.addin.macroEnabled.12 .xlsb application/vnd.ms-excel.sheet.binary.macroEnabled.12","link":"/accept%E7%B1%BB%E5%9E%8B/"},{"title":"line-break","text":"ç”¨äºè®¾ç½®ä¸­æ—¥éŸ©ä¸‰ç§è¯­è¨€é‡åˆ°æ ‡ç‚¹ç¬¦å·æ—¶çš„æ¢è¡Œè§„åˆ™ 12345678910111213.class { /* Keyword values */ line-break: auto; /* ä½¿ç”¨é»˜è®¤çš„æ–­è¡Œè§„åˆ™åˆ†è§£æ–‡æœ¬ */ line-break: loose; /* ä½¿ç”¨å°½å¯èƒ½æ¾æ•£ï¼ˆleast restrictiveï¼‰çš„æ–­è¡Œè§„åˆ™åˆ†è§£æ–‡æœ¬ã€‚ä¸€èˆ¬ç”¨äºçŸ­è¡Œçš„æƒ…å†µï¼Œå¦‚æŠ¥çº¸ */ line-break: normal; /* ä½¿ç”¨æœ€ä¸€èˆ¬ï¼ˆcommonï¼‰çš„æ–­è¡Œè§„åˆ™åˆ†è§£æ–‡æœ¬ã€‚ */ line-break: strict; /* ä½¿ç”¨æœ€ä¸¥æ ¼ï¼ˆstringentï¼‰çš„æ–­è¡ŒåŸåˆ™åˆ†è§£æ–‡æœ¬ã€‚ */ line-break: anywhere; /* åœ¨æ¯ä¸ªå°åˆ·å­—ç¬¦å•å…ƒï¼ˆtypographic character unitï¼‰çš„å‘¨å›´ï¼Œéƒ½æœ‰ä¸€ä¸ªè‡ªåŠ¨æ¢è¡Œï¼ˆsoft wrapï¼‰çš„æœºä¼šï¼ŒåŒ…æ‹¬ä»»ä½•æ ‡ç‚¹ç¬¦å·ï¼ˆpunctuation characterï¼‰æˆ–æ˜¯ä¿ç•™çš„ç©ºç™½å­—ç¬¦ï¼ˆpreserved white spacesï¼‰ï¼Œæˆ–æ˜¯å•è¯ä¹‹é—´ã€‚ä½†å¿½ç•¥ä»»ä½•ç”¨äºé˜»æ­¢æ¢è¡Œçš„å­—ç¬¦ï¼Œå³ä½¿æ˜¯æ¥è‡ª GLã€WJ æˆ– ZWJ å­—ç¬¦é›†çš„å­—ç¬¦ï¼Œæˆ–æ˜¯ç”± word-break å±æ€§å¼ºåˆ¶çš„å­—ç¬¦ã€‚ä¸åŒçš„æ¢è¡Œæœºä¼šæ‹¥æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ã€‚ä¹Ÿä¸åº”ç”¨æ–­å­—ç¬¦ï¼ˆhyphenationï¼Œå¯èƒ½æ˜¯ &quot;-&quot;ï¼‰*/ /* Global values */ line-break: inherit; line-break: initial; line-break: unset;}","link":"/line-break/"},{"title":"min max clampå‡½æ•°","text":"paddingå’Œçˆ¶å…ƒç´ å®½åº¦çš„å…³ç³»å­å…ƒç´ ä¸è®¾ç½®å®½é«˜ï¼Œå®ƒçš„padding-bottomçš„æ¯”ä¾‹æ˜¯ä»¥çˆ¶å…ƒç´ çš„å®½åº¦ä¸ºå‚ç…§çš„ï¼Œç›¸å½“äºå¯ä»¥ä½¿ç”¨å­å…ƒç´ æ¥æ’‘å¼€çˆ¶å…ƒç´ ï¼Œå®ç°å…ƒç´ çš„å®½é«˜ç­‰æ¯”æ•ˆæœ 1234567.parent { width: 600px}.parent &gt; .child { padding: 0 0 50% 0; // ç›¸å½“äºçˆ¶å…ƒç´ å®½åº¦çš„50%} min()minå‡½æ•°ç”¨æ¥è®¾ç½®å…ƒç´ çš„æœ€å°è¿”å›å€¼ï¼Œä¾‹å¦‚min(50%, 500px)ï¼Œæµè§ˆå™¨ä¼šåœ¨50%å’Œ500pxä¸­å–ä¸€ä¸ªæœ€å°å€¼ï¼Œå½“è§†å£å®½åº¦çš„50%å¤§äº500pxæ—¶ï¼Œå–500pxï¼Œå¦åˆ™å°±ä½¿ç”¨50% 1234width: min(50%, 500px)// ç›¸å½“äºwidth: 50%max-width: 500px; max()max()å‡½æ•°ç”¨æ¥è®¾ç½®å…ƒç´ çš„æœ€å¤§è¿”å›å€¼ï¼Œä¾‹å¦‚max(50%, 600px)ï¼Œå½“è§†å£å®½åº¦çš„50%å¤§äº600pxæ—¶ï¼Œå–50%çš„å€¼ï¼Œå¦åˆ™å–600px 1234width: max(50%, 600px)// ç›¸å½“äºwidth: 50%min-width: 600px clamp()è®¾ç½®ä¸€ä¸ªåŒºé—´èŒƒå›´å€¼ï¼Œå³æœ€å°å€¼ï¼Œé¦–é€‰å€¼å’Œæœ€å¤§å€¼ 1width: clamp(600px, 80%, 1200px)","link":"/min%20clamp%E5%87%BD%E6%95%B0/"},{"title":"min max clampå‡½æ•°","text":"overscroll-behavior CSS å±æ€§æ˜¯ overscroll-behavior-x å’Œ overscroll-behavior-y å±æ€§çš„åˆå¹¶å†™æ³•ï¼Œè®©ä½ å¯ä»¥æ§åˆ¶æµè§ˆå™¨è¿‡åº¦æ»šåŠ¨æ—¶çš„è¡¨ç°â€”â€”ä¹Ÿå°±æ˜¯æ»šåŠ¨åˆ°è¾¹ç•Œã€‚ 123456789101112/* å…³é”®å­—çš„å€¼ */overscroll-behavior: auto; /* é»˜è®¤ */overscroll-behavior: contain;overscroll-behavior: none;/* ä½¿ç”¨ 2 ä¸ªå€¼ */overscroll-behavior: auto contain;/* Global values */overflow: inherit;overflow: initial;overflow: unset;","link":"/overscroll-behavior/"},{"title":"pointer-events","text":"pointer-events CSS å±æ€§æŒ‡å®šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ (å¦‚æœæœ‰) æŸä¸ªç‰¹å®šçš„å›¾å½¢å…ƒç´ å¯ä»¥æˆä¸ºé¼ æ ‡äº‹ä»¶çš„target;pointer-events å±æ€§å€¼ auto | none | inherit =&gt; HTML visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all =&gt; SVG é’ˆå¯¹HTMLå…ƒç´  noneï¼šè¯¥å…ƒç´ æ°¸è¿œä¸ä¼šæˆä¸ºé¼ æ ‡äº‹ä»¶çš„ targetã€‚ä½†æ˜¯ï¼Œå½“å…¶åä»£å…ƒç´ çš„ pointer-events å±æ€§æŒ‡å®šå…¶ä»–å€¼æ—¶ï¼Œé¼ æ ‡äº‹ä»¶å¯ä»¥æŒ‡å‘åä»£å…ƒç´ ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé¼ æ ‡äº‹ä»¶å°†åœ¨æ•è·æˆ–å†’æ³¡é˜¶æ®µè§¦å‘çˆ¶å…ƒç´ çš„äº‹ä»¶ä¾¦å¬å™¨ (é¼ æ ‡çš„åŠ¨ä½œå°†ä¸èƒ½è¢«è¯¥å…ƒç´ åŠå…¶å­å…ƒç´ æ‰€æ•è·ï¼Œä½†æ˜¯èƒ½å¤Ÿè¢«å…¶çˆ¶å…ƒç´ æ‰€æ•è·)ã€‚ autoï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºæŒ‡é’ˆäº‹ä»¶å·²å¯ç”¨ï¼›æ­¤æ—¶å…ƒç´ ä¼šå“åº”æŒ‡é’ˆäº‹ä»¶ï¼Œé˜»æ­¢è¿™äº›äº‹ä»¶åœ¨å…¶ä¸‹é¢çš„å…ƒç´ ä¸Šè§¦å‘ã€‚å¯¹äº SVG å†…å®¹ï¼Œè¯¥å€¼ä¸ visiblePainted æ•ˆæœç›¸åŒã€‚ inheritï¼šå°†ä½¿ç”¨ pointer-events å…ƒç´ çš„çˆ¶çº§çš„å€¼ã€‚ æ³¨æ„ï¼šä½¿ç”¨pointer-eventsæ¥é˜»æ­¢å…ƒç´ æˆä¸ºé¼ æ ‡äº‹ä»¶ç›®æ ‡ä¸ä¸€å®šæ„å‘³ç€å…ƒç´ ä¸Šçš„äº‹ä»¶ä¾¦å¬å™¨æ°¸è¿œä¸ä¼šè§¦å‘ã€‚å¦‚æœå…ƒç´ åä»£æ˜ç¡®æŒ‡å®šäº†pointer-eventså±æ€§å¹¶å…è®¸å…¶æˆä¸ºé¼ æ ‡äº‹ä»¶çš„ç›®æ ‡ã€‚","link":"/pointer-events/"},{"title":"text-transform","text":"text-transformå±æ€§æŒ‡å®šå¦‚ä½•å°†å…ƒç´ çš„æ–‡æœ¬è®¾ç½®ä¸ºå¤§å†™ï¼Œå¯ä»¥å…¨éƒ¨å¤§å†™æˆ–å…¨éƒ¨å°å†™ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å¯¹æ¯ä¸€ä¸ªå•è¯è¿›è¡Œæ“ä½œ å±æ€§ å«ä¹‰ capitalize é¦–ä¸ªå­—ç¬¦å¤§å†™ uppercase æ‰€æœ‰å­—ç¬¦å¤§å†™ lowercase æ‰€æœ‰å­—ç¬¦å°å†™ none ç¦æ­¢è½¬æ¢ full-width æŒ‰ç…§ä¸€èˆ¬ä¸œäºšæ–‡å­—(å¦‚ä¸­æ–‡æˆ–æ—¥æ–‡)å¯¹é½","link":"/text-transform/"},{"title":"Webpackç®€ä»‹","text":"1.ç®€ä»‹ Webpackæ˜¯ä¸€ç§å‰ç«¯èµ„æºæ„å»ºå·¥å…·ï¼Œä¸€ä¸ªé™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler) åœ¨Webpackçœ‹æ¥ï¼Œå‰ç«¯çš„æ‰€æœ‰èµ„æºæ–‡ä»¶(js/json/css/img/less/â€¦)éƒ½ä¼šä½œä¸ºæ¨¡å—å¤„ç† å®ƒå°†æ ¹æ®æ¨¡å—çš„ä¾èµ–å…³ç³»è¿›è¡Œé™æ€åˆ†æï¼Œæ‰“åŒ…ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æº(bundle) 2.åŸç†å½“å‰ç«¯éœ€è¦å¼•å…¥æ¨¡å—(jsæ–‡ä»¶ï¼Œæ ·å¼èµ„æºï¼Œå›¾ç‰‡ï¼Œå­—ä½“ç­‰å…¶ä»–èµ„æº)æ—¶ï¼Œwebpackä¼šå°†è¿™äº›èµ„æºäº¤ç»™æ„å»ºå·¥å…·å»å¤„ç†ï¼Œæ„å»ºå·¥å…·ä¼šä»webpackæŒ‡å®šçš„å…¥å£æ–‡ä»¶ä½œä¸ºèµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œä¼šå°†æ¯ä¸€ä¸ªæ¨¡å—è®°å½•å¥½ï¼Œå½¢æˆä¾èµ–å…³ç³»ç»“æ„å›¾ï¼Œç„¶åæ ¹æ®ä¾èµ–å…³ç³»å›¾çš„å…ˆåé¡ºåºå°†è¿™äº›æ¨¡å—å¼•å…¥ï¼Œå½¢æˆä¸€ä¸ªchunkä»£ç å—ï¼Œæœ€åå°†è¿™ä¸ªä»£ç å—ä¸­çš„æ¨¡å—(ts,less,scssâ€¦)è¿›è¡Œç¼–è¯‘æ‰“åŒ…ï¼Œå½¢æˆæµè§ˆå™¨æ‰€èƒ½è¯†åˆ«çš„æ–‡ä»¶ï¼Œæœ€åå°†å¤„ç†å¥½çš„èµ„æºè¿›è¡Œè¾“å‡ºï¼Œè¾“å‡ºçš„æ–‡ä»¶ç§°ä¸ºbundle 3.äº”ä¸ªæ ¸å¿ƒæ¦‚å¿µ Entry å…¥å£(Entry)æŒ‡ç¤ºï¼ŒWebpackä»¥å“ªä¸ªæ–‡ä»¶ä¸ºå…¥å£èµ·ç‚¹å¼€å§‹æ‰“åŒ…ï¼Œåˆ†ææ„å»ºå†…éƒ¨ä¾èµ–å›¾ Output è¾“å‡º(Output)æŒ‡ç¤ºWebpackæ‰“åŒ…åçš„èµ„æºbundlesè¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠå¦‚ä½•å‘½å Loader(loaderæ”¾åœ¨moduleæ¨¡å—çš„rulesæ•°ç»„ä¸­) Loaderè®©Webpackèƒ½å¤Ÿå»å¤„ç†é‚£äº›éJavaScriptæ–‡ä»¶(Webpackè‡ªèº«åªèƒ½ç†è§£JavaScript) Plugins æ’ä»¶(Plugins)å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ï¼Œæ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼Œä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ç­‰ã€‚ Mode æ‰“åŒ…çš„æ¨¡å¼(development production)","link":"/webpack/1.webpack%E7%AE%80%E4%BB%8B/"},{"title":"Webpackåˆå§‹åŒ–","text":"1.åˆå§‹åŒ–webpack12$ yarn init -y$ yarn webpack webpack-cli webpack-dev-server -D package.json 1234&quot;scripts&quot;: { &quot;dev&quot;: &quot;webpack server --config ./scripts/webpack.config.js --mode=development&quot;, // å¼€å‘æ—¶çš„å¯åŠ¨æœåŠ¡å‘½ä»¤ &quot;build&quot;: &quot;webpack --config ./scripts/webpack.config.js --mode=production&quot; // ç¼–è¯‘å‘½ä»¤}, webpack.config.js**(æ³¨æ„webpacké…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œéœ€è¦å’Œpackage.jsonä¸­å¯åŠ¨å‘½ä»¤çš„è·¯å¾„å¯¹åº”)** 123456789101112131415161718// /script/webpack.config.jsconst path = require('path');module.exports = { // å…¥å£ entry: path.resolve(__dirname, '../src/index.js'), // å‡ºå£ output: { filename: 'index.js', path: path.resolve(__dirname, '../dist'), }, // loader module: [], // plugins plugins: [],} 2.é…ç½®ç›®å½•æ–‡ä»¶ åœ¨scriptsæ–‡ä»¶å¤¹ä¸­æ–°å»ºdirs.jsï¼Œæ­¤æ–‡ä»¶ä¸­ä¸“é—¨ç”¨äºå­˜å‚¨å„ç§éœ€è¦ç”¨åˆ°çš„è·¯å¾„ 123456789101112131415161718192021const path = require('path');const root = path.resolve(__dirname, '../../');const dirs = { // æ ¹ç›®å½• root, // æºç ç›®å½• src: path.resolve(root, './src'), // è¾“å‡ºç›®å½• dist: path.resolve(root, './dist'), // ç¬¬ä¸‰æ–¹åº“ lib: path.resolve(root, './lib'), // æ„å»ºè„šæœ¬ç›®å½• build: path.resolve(root, './webpack'), // modules modules: path.resolve(root, './node_modules'), // package package: path.resolve(root, './package.json')};module.exports = dirs;","link":"/webpack/2.%E5%88%9D%E5%A7%8B%E5%8C%96/"},{"title":"æ‰“åŒ…æ ·å¼èµ„æº","text":"1.æ‰“åŒ…æ ·å¼èµ„æº å¸¸ç”¨çš„æ ·å¼èµ„æºæœ‰ css less (sa|sc)ssï¼Œè¿™äº›åˆ†åˆ«éœ€è¦å¼•å…¥ä¸åŒçš„loader å›ºå®šä¾èµ–ï¼š style-loader css-loaderå‰è€…å°†æ‰“åŒ…å¥½çš„èµ„æºå¼•å…¥åˆ°æ ¹æ–‡ä»¶çš„&lt;head&gt;&lt;/head&gt;æ ‡ç­¾å†…ï¼Œåè€…å°†cssæ ·å¼æ–‡ä»¶ç¼–è¯‘æˆcommjså¯è¯†åˆ«çš„å­—ç¬¦ä¸² å¼•å…¥lessï¼š less less-loader å¼•å…¥(sa|sc)ssï¼šsass sass-loader 1234567891011121314151617181920212223242526272829303132const { resolve } = require('path');module.exports = { ... // loaderé…ç½® module: { rules: [ { // åŒ¹é…å“ªäº›æ–‡ä»¶ test: /\\.css$/, // ä½¿ç”¨å“ªäº›loader æ‰§è¡Œé¡ºåºæ˜¯æ•°ç»„é™åº(ä»ä¸‹å¾€ä¸Š) use: [ // åˆ›å»ºstyleæ ‡ç­¾ï¼Œå°†jsä¸­çš„æ ·å¼èµ„æºæ’å…¥åˆ°èµ„æºä¸­è¿›è¡Œï¼Œå¹¶å°†æ ‡ç­¾æ·»åŠ åˆ°é¡µé¢headæ ‡ç­¾ä¸­ 'style-loader', // å°† cssæ–‡ä»¶å˜æˆcommonjsæ¨¡å—åŠ è½½åˆ°jsä¸­ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯å­—ç¬¦ä¸² 'css-loader' ] }, /** æ”¯æŒå¼•å…¥less éœ€è¦ lesså’Œless-loaderä¾èµ– */ { test: /\\.less$/, use: ['style-loader','css-loader','less-loader'] }, /** æ”¯æŒå¼•å…¥(sa|sc)ss éœ€è¦sasså’Œsass-loaderä¾èµ– */ { test: /\\.(sa|sc)ss$/, use: ['style-loader','css-loader','sass-loader'] } ] }, ...} 2.æ”¯æŒcss moduleå†™æ³• åªéœ€åœ¨å¯¹åº”çš„css-loaderä¸­åŠ å…¥modulesé…ç½®å³å¯ 12345678910111213141516171819202122232425262728293031const { resolve } = require('path');module.exports = { ... // loaderé…ç½® module: { rules: [ ... /** æ”¯æŒå¼•å…¥(sa|sc)ss éœ€è¦sasså’Œsass-loaderä¾èµ– */ { test: /\\.(sa|sc)ss$/, use: [ 'style-loader', { loader: 'css-loader', options: { importLoaders: true, // æ”¯æŒ css moduleå†™æ³• modules: { localIdentName: '[local]__[name]-[hash:base64:4]' } } }, 'sass-loader' ] } ... ] }, ...}","link":"/webpack/3.%E6%89%93%E5%8C%85%E6%A0%B7%E5%BC%8F%E8%B5%84%E6%BA%90/"},{"title":"æ‰“åŒ…HTMLèµ„æº","text":"1.æ‰“åŒ…htmlæ–‡ä»¶ ä¸‹è½½plugin: html-webpack-plugin ä½¿ç”¨ 12345678910const HtmlWebpackPlugin = require('html-webpack-plugin');module.exports = { plugins: [ new HtmlWebpackPlugin({ // å¤åˆ¶æŒ‡å®šçš„htmlæ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨å¼•å…¥æ‰“åŒ…åçš„æ‰€æœ‰èµ„æº template: path.resolve(__dirname, '../src/index.html') }), ]}","link":"/webpack/4.%E6%89%93%E5%8C%85html%E8%B5%84%E6%BA%90/"},{"title":"Voltaä½¿ç”¨æŒ‡åŒ—","text":"å‰è¨€Voltaå¯ä»¥ç”¨æ¥ç®¡ç†ä½ ç”µè„‘ä¸Šçš„nodeã€npmã€yarnã€pnpmç‰ˆæœ¬ å®‰è£…macç”¨æˆ·ç›´æ¥è¿›å…¥voltaå®˜ç½‘å¤åˆ¶ä»¥ä¸‹å‘½ä»¤å³å¯å®Œæˆå®‰è£…ï¼š 1curl https://get.volta.sh | bash è¿™å°†åœ¨~/.voltaç›®å½•ä¸‹å®‰è£…voltaåº“ï¼Œå¹¶æ›´æ–°æ‚¨çš„~/.bashrcï¼Œ~/.zshrcå’Œ~/.config/fish è„šæœ¬ä¼šå°†binç›®å½•æ·»åŠ åˆ°è·¯å¾„ä¸­ï¼Œæ¯”å¦‚ï¼š 12export VOLTA_HOME=&quot;$HOME/.volta&quot;export PATH=&quot;$VOLTA_HOME/bin:$PATH&quot; å¸è½½å¿…é¡»æ‰‹åŠ¨ä»ç³»ç»Ÿä¸­åˆ é™¤voltaå¼•ç”¨ã€‚ ä»bashæˆ–zshé…ç½®ï¼ˆ~/.bashrcå’Œ/æˆ–~/.zshrcï¼‰çš„è·¯å¾„ä¸­åˆ é™¤volta åˆ é™¤äº†~/.voltaæ–‡ä»¶å¤¹ã€‚rm -rf ~/.volta ä½¿ç”¨å®‰è£…å‘½ä»¤å¾ˆç®€å•ï¼Œç›´æ¥volta install xxxå°±å¯ä»¥å®‰è£…è½¯ä»¶ï¼Œå¯ä»¥é€‰æ‹©å®‰è£…é»˜è®¤ç‰ˆæœ¬ï¼Œæˆ–è€…æŒ‡å®šç‰ˆæœ¬å®‰è£… 12345678910111213141516171819# nodevolta install node# orvolta install node@14# npmvolta install npm# orvolta install npm@6# yarnvolta install yarn# orvolta install yarn@1.10.0# pnpmvolta install pnpm# orvolta install pnpm@8 å›ºå®šé¡¹ç›®ä¸­çš„è¿è¡Œç¯å¢ƒç‰ˆæœ¬åœ¨é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œvolta pin xxxå‘½ä»¤ï¼Œå¯ä»¥å›ºå®šä½ çš„node/npm/yarn/pnpmç‰ˆæœ¬ï¼Œè¿™æ ·å¦‚æœå›¢é˜Ÿä¸­å…¶ä»–æˆå‘˜ä¹Ÿä½¿ç”¨voltaï¼Œå°±å¯ä»¥é¿å…ç¯å¢ƒç‰ˆæœ¬ä¸åŒå¸¦æ¥çš„å†²çªé—®é¢˜","link":"/Volta%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8C%97/"},{"title":"React Component","text":"å‰è¨€åœ¨Reactä¸­ï¼Œä¸€åˆ‡çš†ç»„ä»¶ï¼ŒReactçš„ç»„ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œç±»ç»„ä»¶å’Œå‡½æ•°å¼ç»„ä»¶ï¼Œå®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ç±»å’Œå‡½æ•°ï¼ŒåŒæ ·æ‹¥æœ‰åŸå‹é“¾ï¼Œç»§æ‰¿ï¼Œé™æ€å±æ€§ç­‰ç‰¹æ€§ï¼›ä½†ä¸å¸¸è§„çš„ç±»å’Œå‡½æ•°ä¸åŒçš„æ˜¯ï¼ŒReactç»„ä»¶æ‰¿è½½äº†æ¸²æŸ“è§†å›¾çš„UIå’Œæ›´æ–°è§†å›¾çš„setStateã€useState ç­‰æ–¹æ³•ã€‚ Reactå¯¹ç»„ä»¶å¤„ç†çš„æµç¨‹åœ¨Reactè°ƒå’Œæ¸²æŸ“fiberèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°fiber tagæ˜¯ClassComponet=1ï¼Œåˆ™æŒ‰ç…§ç±»ç»„ä»¶é€»è¾‘å¤„ç†ï¼Œå¦‚æœæ˜¯FunctionComponet=0åˆ™æŒ‰ç…§å‡½æ•°ç»„ä»¶é€»è¾‘å¤„ç†ã€‚å½“ç„¶Reactä¹Ÿæä¾›äº†ä¸€äº›å†…ç½®çš„ç»„ä»¶ï¼Œæ¯”å¦‚è¯´Suspenseã€Profilerç­‰ã€‚ ç±»ç»„ä»¶çš„æ‰§è¡Œï¼Œæ˜¯åœ¨react-reconciler/src/ReactFiberClassComponent.jsä¸­ï¼š 12345678function constructClassInstance( workInProgress, // å½“å‰æ­£åœ¨å·¥ä½œçš„ fiber å¯¹è±¡ ctor, // æˆ‘ä»¬çš„ç±»ç»„ä»¶ props // props){ /* å®ä¾‹åŒ–ç»„ä»¶ï¼Œå¾—åˆ°ç»„ä»¶å®ä¾‹ instance */ const instance = new ctor(props, context)} å‡½æ•°å¼ç»„ä»¶çš„æ‰§è¡Œï¼Œæ˜¯åœ¨react-reconciler/src/ReactFiberHooks.jsä¸­ï¼š 1234567891011function renderWithHooks( current, // å½“å‰å‡½æ•°ç»„ä»¶å¯¹åº”çš„ `fiber`ï¼Œ åˆå§‹åŒ– workInProgress, // å½“å‰æ­£åœ¨å·¥ä½œçš„ fiber å¯¹è±¡ Component, // æˆ‘ä»¬å‡½æ•°ç»„ä»¶ props, // å‡½æ•°ç»„ä»¶ç¬¬ä¸€ä¸ªå‚æ•° props secondArg, // å‡½æ•°ç»„ä»¶å…¶ä»–å‚æ•° nextRenderExpirationTime, //ä¸‹æ¬¡æ¸²æŸ“è¿‡æœŸæ—¶é—´){ /* æ‰§è¡Œæˆ‘ä»¬çš„å‡½æ•°ç»„ä»¶ï¼Œå¾—åˆ° return è¿”å›çš„ React.elementå¯¹è±¡ */ let children = Component(props, secondArg);} ç±»ç»„ä»¶ç±»ç»„ä»¶æ‰§è¡Œæ‰§è¡Œæ„é€ å‡½æ•°è¿‡ç¨‹ä¸­ä¼šåœ¨å®ä¾‹ä¸Šç»‘å®špropså’Œcontextï¼Œåˆå§‹åŒ–ç½®ç©ºçš„refså±æ€§ï¼ŒåŸå‹é“¾ä¸Šç»‘å®šsetStateã€forceUpdateæ–¹æ³•ã€‚å¯¹äºupdaterï¼ŒReactåœ¨å®ä¾‹åŒ–ç»„ä»¶ä¹‹åä¼šå•ç‹¬ç»‘å®šupdateå¯¹è±¡ã€‚ 1234567891011121314function Component(props, context, updater) { this.props = props; //ç»‘å®šprops this.context = context; //ç»‘å®šcontext this.refs = emptyObject; //ç»‘å®šref this.updater = updater || ReactNoopUpdateQueue; //ä¸Šé¢æ‰€å±çš„updater å¯¹è±¡}/* ç»‘å®šsetState æ–¹æ³• */Component.prototype.setState = function(partialState, callback) { this.updater.enqueueSetState(this, partialState, callback, 'setState');}/* ç»‘å®šforceupdate æ–¹æ³• */Component.prototype.forceUpdate = function(callback) { this.updater.enqueueForceUpdate(this, callback, 'forceUpdate');} ç±»ç»„ä»¶çš„ä¸»è¦ç»„æˆéƒ¨åˆ† 12345678910111213141516class Index extends React.Component{ constructor(...arg){ super(...arg) /* æ‰§è¡Œ react åº•å±‚ Component å‡½æ•° */ } state = {} /* state */ static number = 1 /* å†…ç½®é™æ€å±æ€§ */ handleClick= () =&gt; console.log(111) /* æ–¹æ³•ï¼š ç®­å¤´å‡½æ•°æ–¹æ³•ç›´æ¥ç»‘å®šåœ¨thiså®ä¾‹ä¸Š */ componentDidMount(){ /* ç”Ÿå‘½å‘¨æœŸ */ console.log(Index.number,Index.number1) // æ‰“å° 1 , 2 } render(){ /* æ¸²æŸ“å‡½æ•° */ return &lt;div style={{ marginTop:'50px' }} onClick={ this.handerClick } &gt;hello,React!&lt;/div&gt; }}Index.number1 = 2 /* å¤–ç½®é™æ€å±æ€§ */Index.prototype.handleClick = ()=&gt; console.log(222) /* æ–¹æ³•: ç»‘å®šåœ¨ Index åŸå‹é“¾çš„ æ–¹æ³•*/ å‡½æ•°ç»„ä»¶å‡½æ•°ç»„ä»¶æœ€å¼€å§‹åˆç§°æ— çŠ¶æ€ç»„ä»¶ï¼Œåœ¨React v16.8ä¹‹å‰åªèƒ½æ¸²æŸ“ä¸€äº›çº¯UIè§†å›¾ï¼Œæˆ–è€…é€šè¿‡contextè·å–å…±äº«çš„çŠ¶æ€ 123456function Index(){ console.log(Index.number) // æ‰“å° 1 const [ message , setMessage ] = useState('hello,world') /* hooks */ return &lt;div onClick={() =&gt; setMessage('let us learn React!') } &gt; { message } &lt;/div&gt; /* è¿”å›å€¼ ä½œä¸ºæ¸²æŸ“ui */ } Index.number = 1 /* ç»‘å®šé™æ€å±æ€§ */ é€šè¿‡ä¸Šé¢çš„æºç æˆ‘ä»¬çŸ¥é“ï¼ŒReactåº•å±‚åœ¨æ‰§è¡Œå‡½æ•°ç»„ä»¶æ—¶ï¼Œæ˜¯ç›´æ¥é‡‡ç”¨æ‰§è¡Œå‡½æ•°çš„æ–¹æ³•ï¼Œä¸æ˜¯é‡‡ç”¨newçš„æ–¹æ³•ï¼Œå› æ­¤ä¸è¦åœ¨å‡½æ•°ç»„ä»¶çš„åŸå‹é“¾ä¸Šç»‘å®šå±æ€§å’Œæ–¹æ³•ã€‚ ç±»ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„æœ¬è´¨åŒºåˆ« ç±»ç»„ä»¶åº•å±‚åªéœ€è¦å®ä¾‹åŒ–ä¸€æ¬¡ï¼Œå®ä¾‹ä¸­ä¿å­˜äº†ç»„ä»¶çš„stateç­‰çŠ¶æ€ï¼Œå¯¹äºæ¯ä¸€æ¬¡æ›´æ–°åªéœ€è¦è°ƒç”¨renderæ–¹æ³•ä»¥åŠå¯¹äºçš„ç”Ÿå‘½å‘¨æœŸå°±å¯ä»¥äº† å‡½æ•°ç»„ä»¶æ¯ä¸€æ¬¡æ›´æ–°éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°æ‰§è¡Œï¼Œé‡Œé¢çš„å˜é‡éƒ½ä¼šé‡æ–°å£°æ˜ï¼Œæ‰€ä»¥æ‰æœ‰äº†React Hooksï¼Œç”¨äºä¿å­˜å‡½æ•°ç»„ä»¶ä¸­çš„çŠ¶æ€ï¼Œæ‰§è¡Œä¸€äº›å‰¯ä½œç”¨é’©å­ç­‰ã€‚ ç»„ä»¶é€šä¿¡æ–¹å¼Reactç»„ä»¶é€šä¿¡æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹äº”ç§ï¼š propså’Œcallbackæ–¹å¼ refæ–¹å¼ contextä¸Šä¸‹æ–‡æ–¹å¼ Reduxã€Mobxç­‰çŠ¶æ€ç®¡ç†çš„æ–¹å¼ Event Busäº‹ä»¶æ€»çº¿ ç»„ä»¶å¼ºåŒ–æ–¹å¼ ç±»ç»„ä»¶ç»§æ‰¿ Reactçš„ç±»ç»„ä»¶ï¼Œæœ‰ç€è‰¯å¥½çš„ç»§æ‰¿æ€§ï¼Œå¯ä»¥å…ˆé’ˆå¯¹ä¸€äº›åŸºç¡€ç»„ä»¶ï¼Œå®ç°ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œå†é’ˆå¯¹é¡¹ç›®è¦æ±‚è¿›è¡Œæ”¹é€ ï¼Œå¼ºåŒ–ï¼Œæ·»åŠ é¢å¤–åŠŸèƒ½ 1234567891011121314151617181920212223242526272829303132/* äººç±» */class Person extends React.Component{ constructor(props){ super(props) console.log('hello , i am person') } componentDidMount(){ console.log(1111) } eat(){ /* åƒé¥­ */ } sleep(){ /* ç¡è§‰ */ } ddd(){ console.log('æ‰“è±†è±†') /* æ‰“è±†è±† */ } render(){ return &lt;div&gt; å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸€ä¸ªperson &lt;/div&gt; }}/* ç¨‹åºå‘˜ */class Programmer extends Person{ constructor(props){ super(props) console.log('hello , i am Programmer too') } componentDidMount(){ console.log(this) } code(){ /* æ•²ä»£ç  */ } render(){ return &lt;div style={ { marginTop:'50px' } } &gt; { super.render() } { /* è®© Person ä¸­çš„ render æ‰§è¡Œ */ } æˆ‘è¿˜æ˜¯ä¸€ä¸ªç¨‹åºå‘˜ï¼ { /* æ·»åŠ è‡ªå·±çš„å†…å®¹ */ } &lt;/div&gt; }}export default Programmer å‡½æ•°ç»„ä»¶è‡ªå®šä¹‰Hooks HOCé«˜é˜¶ç»„ä»¶","link":"/React/react%E7%BB%84%E4%BB%B6/"},{"title":"Eggã€Midwayç³»åˆ—ç›¸å…³ç¬”è®°","text":"1.mysql å®‰è£… 1npm install egg-mysql -S é…ç½® 123456789101112131415161718192021222324252627// /config/plugin.tsmysql: { enable: true, package: 'egg-mysql',},//config/config.default.ts// mysqlconfig.mysql = { // å•æ•°æ®åº“ä¿¡æ¯é…ç½® client: { // host host: '127.0.0.1', // ç«¯å£å· port: '3306', // ç”¨æˆ·å user: 'root', // å¯†ç  password: '123456', // æ•°æ®åº“å database: 'test', }, // æ˜¯å¦åŠ è½½åˆ° app ä¸Šï¼Œé»˜è®¤å¼€å¯ app: true, // æ˜¯å¦åŠ è½½åˆ° agent ä¸Šï¼Œé»˜è®¤å…³é—­ agent: false,}; 2.cors å®‰è£… 1npm i egg-cors -S é…ç½® 123456789101112131415161718192021// /config/plugin.tscors: { enable: true, package: 'egg-cors',},//config/config.default.ts // è·¨åŸŸ config.security = { csrf: { //å…³é—­csrf enable: false, ignoreJSON: true, }, domainWhiteList: [ 'http://127.0.0.1:8000','http://127.0.0.1:5500' ], // é…ç½®ç™½åå• }; config.cors = { // origin: '*', //å…è®¸æ‰€æœ‰è·¨åŸŸè®¿é—®ï¼Œæ³¨é‡Šæ‰åˆ™å…è®¸ä¸Šé¢ ç™½åå• è®¿é—® credentials: true, // å…è®¸ Cookie è·¨åŸŸ allowMethods: 'GET,HEAD,PUT,POST,DELETE,PATCH,OPTIONS', }; 3.csrf12345//config/config.default.ts//å•ç‹¬å…³é—­csrfconfig.security = { csrf: false,};","link":"/NodeJs/%E6%A1%86%E6%9E%B6/Egg_Midway/1.%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE/"},{"title":"expressç¼–å†™æ¥å£","text":"routes1234567891011121314151617181920212223242526272829303132333435363738394041424344454647const express = require('express');const router = express.Router();const mysql = require('../utils/dbconfig');/* GET home page. */router.get('/', (req,res) =&gt; { mysql.sqlConnection({ sql: 'select * from user', sqlArr: [], callBack: (err,data) =&gt; { if(err) { console.log(err); return; } res.send(data); } });});router.get('/user',(req,res) =&gt; { const { id } = req.query; mysql.sqlConnection({ sql: 'select * from user where id=?', sqlArr: [id], callBack: (err,data) =&gt; { if(err) { console.log(err); return; } res.send(data); } });});router.post('/userpost', (req,res) =&gt; { const {name,password} = req.body; console.log(name+'---'+password);});router.post('/userpost/:id',(req,res) =&gt; { const {id} = req.params; console.log(id);});module.exports = router; app.js1234567891011121314151617181920212223const express = require('express');const path = require('path');const cookieParser = require('cookie-parser');const logger = require('morgan');const cors = require('cors');// å¯¼å…¥è·¯ç”±const indexRouter = require('./routes/index');const app = express();app.use(logger('dev'));app.use(express.json());app.use(express.urlencoded({ extended: false }));app.use(cookieParser());app.use(express.static(path.join(__dirname, 'public')));app.use(cors());// ä½¿ç”¨è·¯ç”±app.use('/', indexRouter);module.exports = app;","link":"/NodeJs/%E6%A1%86%E6%9E%B6/Express/3.%E7%BC%96%E5%86%99%E6%8E%A5%E5%8F%A3/"},{"title":"mysqlçš„ä½¿ç”¨","text":"mysql å®‰è£… 1npm i mysql --save é…ç½® 123456789101112131415161718192021222324252627const mysql = require('mysql');// è¿æ¥æ•°æ®åº“é…ç½®const config = { host: 'localhost', port: '3306', user: 'root', password: '123456', database: 'test'}// åˆ›å»ºæ•°æ®åº“è¿æ¥æ± module.exports = { sqlConnection: (sql,sqlArr,callBack) =&gt; { const pool = mysql.createPool(config); pool.getConnection((err,conn) =&gt; { if(err) { console.log(err); return; } // äº‹ä»¶é©±åŠ¨å›è°ƒ conn.query(sql,sqlArr,callBack); // å…³é—­è¿æ¥æ±  conn.release(); }) }}","link":"/NodeJs/%E6%A1%86%E6%9E%B6/Express/2.%E4%BD%BF%E7%94%A8mysql/"},{"title":"expressè¿æ¥mongoDBå®ä¾‹","text":"1.åˆ›å»ºè¿æ¥12345678910111213141516171819202122232425262728// utils/mongoConfig.jsconst mongoose = require('mongoose');// åˆ›å»ºè¿æ¥å®ä¾‹const mongoUrl = 'mongodb://admin:123456@127.0.0.1:27017/express-test?authSource=admin';mongoose.connect(mongoUrl, { useNewUrlParser: true, useUnifiedTopology: true });// åˆ›å»ºUseré›†åˆè¿æ¥const UserSchema = mongoose.Schema({ name: String, age: Number});const User = mongoose.model('User', UserSchema, 'user');// åˆ›å»ºstudenté›†åˆè¿æ¥const StudentSchema = mongoose.Schema({ name: String, grade: Number, class: String});const Student = mongoose.model('Student', StudentSchema, 'student');module.exports = { User, Student}; 2.ä½¿ç”¨12345678910111213141516171819// routers/index.jsrouter.get('/mongo', async (req, res) =&gt; { const result = await User.aggregate([ { $lookup: { from: 'student', localField: 'name', foreignField: 'name', as: 'item' } }, { $project: {'name':1,'age':1,'item.grade':1,'item.class':1} }, { $group: { _id:&quot;$item.class&quot;, count:{$sum: 1} } } ]) res.send(result);})","link":"/NodeJs/%E6%A1%86%E6%9E%B6/Express/5.express%E8%BF%9E%E6%8E%A5mongoDB%E5%AE%9E%E4%BE%8B/"},{"title":"expressè¿æ¥mysqlå®ä¾‹","text":"1.expresså®‰è£…1npm i express express-generator -g 2.nodemonå®‰è£…1npm i nodemon --save ä¿®æ”¹package.json 12345{ &quot;script&quot;: { &quot;start&quot;: &quot;nodemon ./bin/www&quot; }} 3.æ“ä½œmysql å®‰è£…mysql1npm i mysql --save é…ç½®123456789101112131415161718192021222324252627282930// utils/dbConfig.jsconst mysql = require('mysql');// æ•°æ®åº“è¿æ¥é…ç½®const config = { host: '127.0.0.1', port: '3306', user: 'root', password: '123456', database: 'test'}// ä½¿ç”¨è¿æ¥æ± è¿æ¥mysqlmodule.exports = { sqlConnection: ({sql,sqlArr,callBack}) =&gt; { // åˆ›å»ºè¿æ¥æ±  const pool = mysql.createPool(config); pool.getConnection((err,conn) =&gt; { if(err) { console.log(err); return; } // äº‹ä»¶é©±åŠ¨å›è°ƒ conn.query(sql,sqlArr,callBack); // é‡Šæ”¾è¿æ¥ conn.release(); }) }} æ“ä½œæ•°æ®åº“1234567891011121314151617181920212223242526272829303132333435363738394041424344454647// routes/index.jsconst express = require('express');const router = express.Router();const mysql = require('../utils/dbConfig');/** * è·å–æ‰€æœ‰ä¿¡æ¯ */router.get('/', (req,res) =&gt; { mysql.sqlConnection({ sql: 'select * from user', sqlArr: [], callBack: (err,data) =&gt; { if(err) { console.log(err); return; } res.send(data); } })});/** * é€šè¿‡ç”¨æˆ·åå’Œå¯†ç è·å–ä¿¡æ¯ * @body name * @body password */router.post('/user',(req,res) =&gt; { const { name, password } = req.body; if(name &amp;&amp; password) { mysql.sqlConnection({ sql: 'select * from user where name=? and password=?', sqlArr: [name,password], callBack: (err,data) =&gt; { if(err) { console.log(err); return; } res.send(data); } }); }});module.exports = router; 4.æ¥å£æµ‹è¯• VS Codeå®‰è£…REST Clientæ’ä»¶ æ–°å»º .httpæ–‡ä»¶ æµ‹è¯•12345678910111213@url=http://127.0.0.1:3000@json=Content-Type: application/json###Get {{url}}/###POST {{url}}/user{{json}}{ &quot;name&quot;: &quot;å°æ˜&quot;, &quot;password&quot;: &quot;123456&quot;} 5.ä¼˜åŒ–é…ç½® æ•°æ®åº“é…ç½®ä¼˜åŒ–123456789101112131415161718192021222324252627282930313233343536// utlis/dbConfig.jsconst mysql = require('mysql');// æ•°æ®åº“è¿æ¥é…ç½®const config = { host: '127.0.0.1', port: '3306', user: 'root', password: '123456', database: 'test'}// ä½¿ç”¨è¿æ¥æ± è¿æ¥mysqlmodule.exports = { sqlConnection: (sql, sqlArr = []) =&gt; { // åˆ›å»ºPromiseå¯¹è±¡ return new Promise((resolve, reject) =&gt; { // åˆ›å»ºè¿æ¥æ±  const pool = mysql.createPool(config); // è¿è¡Œç»“æœæ“ä½œ pool.getConnection((err,conn) =&gt; { // è¿”å›é”™è¯¯ä¿¡æ¯ err &amp;&amp; reject(err); // äº‹ä»¶é©±åŠ¨å›è°ƒ conn.query(sql, sqlArr, (err, result) =&gt; { // è¿”å›é”™è¯¯ä¿¡æ¯ err &amp;&amp; reject(err); // è¿”å›æŸ¥è¯¢ç»“æœ resolve(result); }) // é‡Šæ”¾è¿æ¥ conn.release(); }) }) }} ä½¿ç”¨ä¼˜åŒ–123456789101112131415// router/index.jsconst express = require('express');const router = express.Router();// const userController = require('../controller/user');const mysql = require('../utils/dbConfig');router.get('/', async (req, res) =&gt; { const sql = 'select * from user'; const result = await mysql.sqlConnection(sql); res.send(result);});module.exports = router; 6.åˆ†å±‚æ“ä½œ service1234567891011121314// service/userServiceconst mysql = require('../utils/dbConfig');class userService { getUser = async () =&gt; { const sql = 'select * from user'; const result = await mysql.sqlConnection(sql); return result; }}module.exports = new userService(); controller123456789101112// controller/userControllerconst userService = require('../service/user');class UserController { getUser = async (req, res) =&gt; { const result = await userService.getUser(); res.send(result); }}module.exports = new UserController(); router123456789// routerconst express = require('express');const router = express.Router();const userController = require('../controller/user');router.get('/', userController.getUser);module.exports = router;","link":"/NodeJs/%E6%A1%86%E6%9E%B6/Express/4.express%E8%BF%9E%E6%8E%A5mysql%E5%AE%9E%E4%BE%8B/"},{"title":"é™æ€æœåŠ¡å™¨çš„è·¯ç”±å®ç°","text":"1.å°è£…webé™æ€æœåŠ¡å™¨1.åœ¨routes.jsä¸­é‡æ–°æš´éœ²ä¸€ä¸ªæ–¹æ³•ï¼Œåä¸ºstatic12345678910111213141516171819202122232425262728293031323334353637const fs = require('fs');const path = require('path');const url = require('url');// ç§æœ‰æ–¹æ³•let getMime = (extName) =&gt; { let data = fs.readFileSync('./data/mime.json'); let mimeObj = JSON.parse(data.toString()); return mimeObj[extName];}//å°è£…çš„webé™æ€æœåŠ¡exports.static = (req, res, staticPath) =&gt; { /* / /favicon.ico */ //è·å–urlä¸­çš„è·¯å¾„(pathname) let pathname = url.parse(req.url).pathname; // è·å–è·¯å¾„ä¸­çš„åç¼€å let extName = path.extname(pathname); pathname = pathname == '/' ? '/index.html' : pathname; // è·å¾—æ­£ç¡®çš„è·¯å¾„ if (pathname != '/favicon.ico') { try { // è¯»å–å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¹¶ä¼ ç»™æµè§ˆå™¨ let data = fs.readFileSync('./' + staticPath + pathname); if (data) { // è·å–å¯¹åº”åç¼€åçš„å“åº”å¤´ let mimeName = getMime(extName); res.writeHead(200, {'Content-Type':''+mimeName+';charset=utf-8'}); res.end(data); } } catch (error) { } }} 2.åœ¨app.jsä¸­è°ƒç”¨è¯¥æ–¹æ³•å¹¶ä¸”å®ç°ç®€å•çš„è·¯ç”±è®¿é—®123456789101112131415161718192021222324252627282930const http = require('http');const routes = require('./module/routes');const url = require('url');http.createServer((req,res)=&gt;{ // åˆ›å»ºé™æ€webæœåŠ¡ routes.static(req,res,'state'); // è·¯ç”± let pathname = url.parse(req.url).pathname; if(pathname == '/login'){ res.writeHead(200,{'Content-Type':'text/html;charset=utf-8'}); res.end(&quot;æ‰§è¡Œç™»å½•&quot;); }else if(pathname == '/register'){ res.writeHead(200,{'Content-Type':'text/html;charset=utf-8'}); res.end(&quot;æ‰§è¡Œæ³¨å†Œ&quot;); }else if(pathname == '/admin'){ res.writeHead(200,{'Content-Type':'text/html;charset=utf-8'}); res.end(&quot;æ‰§è¡Œåç«¯æ“ä½œ&quot;); }else{ res.writeHead(404,{'Content-Type':'text/html;charset=utf-8'}); res.end(&quot;é¡µé¢ä¸å­˜åœ¨&quot;); }}).listen(8080);console.log(&quot;http://127.0.0.1:8080&quot;);","link":"/NodeJs/9.node%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E7%8E%B0%E8%B7%AF%E7%94%B1/"},{"title":"å°è£…ä¸€ä¸ªç±»ä¼¼expressçš„è·¯ç”±","text":"1.å®ç°æ­¥éª¤1.å®šä¹‰ä¸€ä¸ªappæ–¹æ³• 123let app = (req,res)=&gt;{} 2.å®šä¹‰ä¸€ä¸ªappçš„ç§æœ‰æ–¹æ³•app.get() 1234//str:ä¼ å…¥çš„è·¯å¾„ï¼Œcb:å³callbackï¼Œå›è°ƒå‡½æ•°app.get = (str,cb)=&gt;{} 3.æ³¨å†Œæ–¹æ³• 12345678910111213141516//1.å®šä¹‰ä¸€ä¸ªGç©ºå¯¹è±¡let G = {};//2.åœ¨app.get()æ–¹æ³•ä¸­æ³¨å†Œapp.get = (str,cb)=&gt;{ G[str] = cb;}//3.è°ƒç”¨è¯¥æ–¹æ³•let app = (req,res)=&gt;{ if(G['/login']){ G['/login'](req,res); }}//4.æ‰§è¡Œæ–¹æ³•app.get('/login',(req,res)=&gt;{ console.log(&quot;æ‰§è¡Œç™»å½•&quot;);}) 4.å°è£…æˆé€šç”¨æ–¹æ³•ï¼Œå¹¶æš´éœ²è¯¥æ–¹æ³• 1234567891011121314151617181920const url = require('url');let G = {};let app = function(req,res){ let pahtname = url.parse(req.url).pathname; if(G[pahtname]){ G[pahtname](req,res); }else{ res.writeHead(404,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(&quot;é¡µé¢ä¸å­˜åœ¨&quot;); }}app.get = function(str,cb){ // æ³¨å†Œæ–¹æ³• G[str] = cb;}//æš´éœ²module.exports = app; 5.ä½¿ç”¨httpæ¨¡å—å®ç°è°ƒç”¨è·¯ç”± 12345678910111213141516171819const http = require('http');const app = require('./module/route');http.createServer(app).listen(3000);console.log(&quot;http://127.0.0.1:3000&quot;);// é…ç½®è·¯ç”±app.get('/',(req,res)=&gt;{ res.writeHead(200,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(&quot;é¦–é¡µ&quot;);})app.get('/login',(req,res)=&gt;{ res.writeHead(200,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(&quot;ç™»å½•é¡µ&quot;);})app.get('/news',(req,res)=&gt;{ res.writeHead(200,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(&quot;æ–°é—»é¡µé¢&quot;);}) 2.åŠ å…¥POSTè·¯ç”±ï¼Œå¹¶é€šè¿‡req.bodyè·å–æ•°æ®ï¼Œå¹¶å°è£…ä¸€ä¸ªres.sendæ–¹æ³•1.å°è£…ä¸€ä¸ªres.send()æ–¹æ³•12345678function changeRes(res){ res.send = (data)=&gt;{ res.writeHead(200,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(data); }}//åœ¨appä¸­è°ƒç”¨è¯¥æ–¹æ³•changeRes(res); 2.æ”¹é€ serveræ–¹æ³•ï¼Œå°è£…ä¸€ä¸ªpostæ–¹æ³•123456789101112131415161718192021222324252627282930313233343536373839404142434445let server = ()=&gt;{ let G = {}; G._get = {}; G._post = {}; let app = function(req,res){ // æ‰©å±•res changeRes(res); let pahtname = url.parse(req.url).pathname; //è·å¾—è¯·æ±‚ç±»å‹ let method = req.method.toLowerCase(); if(G['_'+method][pahtname]){ if(method == &quot;get&quot;){ //getæ‰§è¡Œå¦‚ä¸‹æ–¹æ³• G['_'+method][pahtname](req,res); //æ‰§è¡Œæ–¹æ³• }else{ //postæ‰§è¡Œå¦‚ä¸‹æ–¹æ³• let postData = ''; req.on('data',(chunk)=&gt;{ postData += chunk; }) req.on('end',()=&gt;{ //å°†è·å¾—çš„postæ•°æ®æ”¾å…¥req.bodyä¸­ req.body = postData; G['_'+method][pahtname](req,res); //æ‰§è¡Œæ–¹æ³• }) } }else{ res.writeHead(404,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(&quot;é¡µé¢ä¸å­˜åœ¨&quot;); } } // getæ–¹æ³• app.get = function(str,cb){ // æ³¨å†Œæ–¹æ³• G._get[str] = cb; } app.post = function(str,cb){ // æ³¨å†Œæ–¹æ³• G._post[str] = cb; } return app;} 3.è°ƒç”¨æ–¹æ³•123456789101112131415161718192021222324const http = require('http');const app = require('./module/route');const ejs = require('ejs');http.createServer(app).listen(3000);console.log(&quot;http://127.0.0.1:3000&quot;);/*é…ç½®è·¯ç”±*/app.get('/',(req,res)=&gt;{ res.send(&quot;é¦–é¡µ&quot;);})app.get('/login',(req,res)=&gt;{ ejs.renderFile('./view/login.ejs',{},(err,data)=&gt;{ res.send(data); })})app.post('/doLogin',(req,res)=&gt;{ console.log(req.body); res.send(req.body);})app.get('/news',(req,res)=&gt;{ res.send(&quot;æ–°é—»é¡µé¢&quot;);})","link":"/NodeJs/12.%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%BC%BCexpress%E7%9A%84%E8%B7%AF%E7%94%B1/"},{"title":"å°è£…ä¸€ä¸ªç±»ä¼¼expressçš„è·¯ç”±ï¼Œé™æ€webæœåŠ¡","text":"1.routeæ¨¡å—12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697const url = require('url');const path = require('path');const fs = require('fs');// æ‰©å±•reslet changeRes = (res)=&gt;{ res.send = (data)=&gt;{ res.writeHead(200,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(data); }}// æ ¹æ®åç¼€åè·å–æ–‡ä»¶ç±»å‹let getMime = (extName) =&gt; { let data = fs.readFileSync('./data/mime.json'); let mimeObj = JSON.parse(data.toString()); return mimeObj[extName];}//é™æ€webæœåŠ¡æ–¹æ³•let static = (req, res, staticPath) =&gt; { /* / /favicon.ico */ //è·å–urlä¸­çš„è·¯å¾„(pathname) let pathname = url.parse(req.url).pathname; // è·å–è·¯å¾„ä¸­çš„åç¼€å let extName = path.extname(pathname); // pathname = pathname == '/' ? '/index.html' : pathname; // è·å¾—æ­£ç¡®çš„è·¯å¾„ try { // è¯»å–å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¹¶ä¼ ç»™æµè§ˆå™¨ let data = fs.readFileSync('./' + staticPath + pathname); if (data) { // è·å–å¯¹åº”åç¼€åçš„å“åº”å¤´ let mimeName = getMime(extName); res.writeHead(200, {'Content-Type':''+mimeName+';charset=utf-8'}); res.end(data); } } catch (error) { }}let server = ()=&gt;{ // å…¨å±€å¯¹è±¡G let G = { _get: {}, _post: {}, staticPath: 'static' }; let app = (req,res)=&gt;{ // æ‰©å±•res changeRes(res); // é…ç½®é™æ€webæœåŠ¡ static(req,res,G.staticPath); let pahtname = url.parse(req.url).pathname; //è·å¾—è¯·æ±‚æ–¹å¼ let method = req.method.toLowerCase(); if(G['_'+method][pahtname]){ if(method == &quot;get&quot;){ G['_'+method][pahtname](req,res); //æ‰§è¡Œæ–¹æ³• }else{ let postData = ''; req.on('data',(chunk)=&gt;{ postData += chunk; }) req.on('end',()=&gt;{ req.body = postData; G['_'+method][pahtname](req,res); //æ‰§è¡Œæ–¹æ³• }) } }else{ res.writeHead(404,{'Content-Type':'text/html;charset=&quot;utf-8&quot;'}); res.end(&quot;é¡µé¢ä¸å­˜åœ¨&quot;); } } // getæ–¹æ³• app.get = function(str,cb){ // æ³¨å†Œæ–¹æ³• G._get[str] = cb; } // postæ–¹æ³• app.post = function(str,cb){ // æ³¨å†Œæ–¹æ³• G._post[str] = cb; } // é…ç½®é™æ€webæœåŠ¡ç›®å½• app.static = function(staticPath){ G.staticPath = staticPath; } return app;}module.exports = server(); 2.serveræ¨¡å—1234567891011121314151617181920212223242526272829const http = require('http');const app = require('./module/route');const ejs = require('ejs');http.createServer(app).listen(3000);console.log(&quot;http://127.0.0.1:3000&quot;);// é…ç½®é™æ€webç›®å½•app.static('static');// é…ç½®è·¯ç”±app.get('/',(req,res)=&gt;{ res.send(&quot;é¦–é¡µ&quot;);})app.get('/login',(req,res)=&gt;{ ejs.renderFile('./view/login.ejs',{},(err,data)=&gt;{ res.send(data); })})app.post('/doLogin',(req,res)=&gt;{ console.log(req.body); res.send(req.body);})app.get('/news',(req,res)=&gt;{ res.send(&quot;æ–°é—»é¡µé¢&quot;);}) 3.ejsé¡µé¢123456789101112131415161718192021&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/commit.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;ç™»å½•é¡µé¢&lt;/h2&gt; &lt;form action=&quot;/doLogin&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;uername&quot; value=&quot;admin&quot;&gt; &lt;br&gt; &lt;br&gt; &lt;input type=&quot;password&quot; name=&quot;password&quot; value=&quot;123456&quot;&gt; &lt;br&gt; &lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; 4.ç›®å½•ç»“æ„","link":"/NodeJs/13.%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%BC%BCexpress%E7%9A%84%E8%B7%AF%E7%94%B1%EF%BC%8C%E9%9D%99%E6%80%81web%E6%9C%8D%E5%8A%A1/"},{"title":"Corepack","text":"1.CorepackCorepackæ˜¯Nodejsåœ¨16.9.0ä¸­åŠ å…¥çš„å®éªŒæ€§é˜¶æ®µå·¥å…·ï¼Œç”¨äºååŠ©ç®¡ç†ä½ æœ¬æœºpackage managerçš„ç‰ˆæœ¬ ç®€å•æ¥è¯´ï¼ŒCorepack ä¼šæˆä¸º Node.js å®˜æ–¹çš„å†…ç½® CLIï¼Œç”¨æ¥ç®¡ç†ã€åŒ…ç®¡ç†å·¥å…·ï¼ˆnpmã€yarnã€pnpmã€cnpmï¼‰ã€ï¼Œç”¨æˆ·æ— éœ€æ‰‹åŠ¨å®‰è£…ï¼Œå³ã€åŒ…ç®¡ç†å™¨çš„ç®¡ç†å™¨ã€ 2.ä½“éªŒ å‡çº§ä½ çš„Nodejsç‰ˆæœ¬åˆ°16.9.0ã€‚å¦‚æœä½¿ç”¨nvmç®¡ç†nodeç‰ˆæœ¬ï¼Œåˆ™éœ€è¦å…ˆå‡çº§nvmç‰ˆæœ¬1.1.8ä»¥ä¸Šæ‰è¡Œ åœ¨ä½ é¡¹ç›®çš„package.jsonæ–‡ä»¶ä¸­æ·»åŠ packageManagerå±æ€§ 1234{ &quot;name&quot;: &quot;test&quot;, &quot;packageManager&quot;: &quot;pnpm@6.26.0&quot;,} è¿è¡Œcorepack enableå‘½ä»¤å³å¯æ¿€æ´» 1234567# æ¿€æ´»$ corepack enable# ä½¿ç”¨$ pnpm i# ç”¨éå£°æ˜çš„åŒ…ç®¡ç†å™¨ï¼Œåˆ™ä¼šæŠ¥é”™$ yarnUsage Error: This project is configured to use pnpm","link":"/NodeJs/14.Corepack/"},{"title":"urlæ¨¡å—","text":"urlæ¨¡å—çš„ä½¿ç”¨nodejsä¸­çš„urlæ¨¡å—æ˜¯ç”¨æ¥è§£æurlåœ°å€çš„ï¼Œå¯ä»¥è·å–å¯¹åº”çš„æŸ¥è¯¢å­—ç¬¦ä¸² 1234567891011121314const url = require('url');let api = &quot;https://www.baidu.com?username='å¼ ä¸‰'&amp;password='123456'&quot;;/* 1.url.parse()ä¸­ä¼ å…¥å¯¹åº”çš„urlåœ°å€; 2.ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥trueåä¼šå°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬ä¸ºjså¯¹è±¡; 3.queryå°±æ˜¯å¯¹åº”çš„æŸ¥è¯¢å­—ç¬¦ä¸²å¯¹è±¡*/let getValue = url.parse(api,true).query;let {username,password} = getValue;console.log(username+&quot;,&quot;+password); urlæ¨¡å—çš„ä½¿ç”¨ä¾‹å­ 1234567891011121314151617181920212223const http = require('http');const url = require('url');http.createServer((request,response)=&gt;{ // å“åº”å¤´ response.writeHead(200, {'Content-Type': 'text/html; charset=&quot;utf-8&quot;'}); // é˜²æ­¢é¡µé¢ä¹±ç  response.write('&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;'); // åˆ¤æ–­urlæ˜¯å¦ä¸ºæ­£å¸¸çš„url if(request.url != &quot;/favicon.ico&quot;){ let {username,pwd} = url.parse(request.url,true).query; // console.log(request.url); console.log(`å§“å:${username},å¯†ç :${pwd}`); } response.write(&quot;ä½ å¥½ Node.js&quot;); // ç»“æŸå“åº” response.end();}).listen(8080); //ç«¯å£console.log(&quot;http://127.0.0.1:8080&quot;);","link":"/NodeJs/2.url%E6%A8%A1%E5%9D%97/"},{"title":"commonJS","text":"ä¸€.è‡ªå®šä¹‰æ¨¡å—çš„ä¸¤ç§æš´éœ²æ–¹å¼1.exports(1)è‡ªå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç„¶åé€šè¿‡exportsæš´éœ²12345function formateApi(api){ return &quot;http://127.0.0.1:8080/&quot;+api;}exports.formateApi = formateApi; 123//åœ¨å¦ä¸€ä¸ªjsæ–‡ä»¶ä¸­å¼•å…¥è¯¥æ¨¡å—å³å¯const tools = require('./module/tools');tools.formateApi(); (2)ç›´æ¥é€šè¿‡exportsæš´éœ²å‡½æ•°1234567exports.get = function(){ console.log(&quot;get&quot;);}exports.post = function(){ console.log(&quot;post&quot;);} 123456//ä½¿ç”¨const request = require('./module/request');request.get();request.post(); 2.module.exportsmodule.exportsé€‚åˆæš´éœ²å°è£…å¥½çš„å¯¹è±¡ 123456789let obj = { get: function(){ console.log(&quot;get&quot;); }, post: function(){ console.log(&quot;post&quot;); }}module.exports = obj; 123456//ä½¿ç”¨const request = require('./module/request');request.get();request.post(); äºŒ.node_modulesçš„ä½¿ç”¨ 1.å¦‚æœä¸æŒ‡å®šç›¸å¯¹è·¯å¾„ï¼ŒNode.jsä¼šé»˜è®¤å¼•å…¥node_modulesä¸­æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶åä¸ºindex.jsçš„æ–‡ä»¶ 12345// NodeJsä¼šé»˜è®¤å¼•å…¥node_modulesæ–‡ä»¶å¤¹ä¸­index.jsæ¨¡å—const axios = require('axios');axios.post();axios.get(); 2.å¦‚æœnode_modulesä¸­æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åä¸æ˜¯index.jsï¼Œåˆ™è¦åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­ç”Ÿæˆä¸€ä¸ªpackage.jsonæ–‡ä»¶åæ‰èƒ½æ­£å¸¸å¼•å…¥ 123// å¦‚æœdbæ–‡ä»¶å¤¹ä¸­çš„jsæ–‡ä»¶ä¸æ˜¯index.jsï¼Œåˆ™ä¼šæŠ¥é”™ï¼Œè§£å†³æ–¹æ³•æ˜¯åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ªpackage.json(npm init -y)çš„é…ç½®æ–‡ä»¶const db = require('db');db.add(); ã€æ³¨ã€‘ä¸€èˆ¬ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ˜¯æ”¾åœ¨node_modulesæ–‡ä»¶å¤¹ä¸­çš„","link":"/NodeJs/3.%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"title":"package.jsonæ–‡ä»¶çš„è¯´æ˜","text":"1.æ–‡ä»¶ç»“æ„ nameï¼šæ–‡ä»¶å versionï¼šç‰ˆæœ¬å· descriptionï¼šæè¿° 2.å…³äºç¬¬ä¸‰æ–¹æ¨¡å—ç‰ˆæœ¬çš„è¯´æ˜ â€œ^2.3.0â€ï¼šä»£è¡¨æ›´æ–°æ—¶ï¼Œç¬¬ä¸€ä½ç‰ˆæœ¬å·ä¸å˜ï¼Œåé¢ä¸¤ä½æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ â€œ~2.3.0â€ï¼šä»£è¡¨æ›´æ–°æ—¶ï¼Œå‰ä¸¤ä½ç‰ˆæœ¬å·ä¸å˜ï¼Œæœ€åä¸€ä½æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ â€œ*2.3.0â€ï¼šä»£è¡¨æ›´æ–°æ—¶ï¼Œå…¨éƒ¨æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ â€œ2.3.0â€ï¼šä»£è¡¨æ›´æ–°æ—¶ï¼Œå…¨éƒ¨ä¸æ›´æ–°ï¼ŒæŒ‡å®šè¯¥ç‰ˆæœ¬å·è¿›è¡Œå®‰è£… ã€æ³¨ã€‘ä½¿ç”¨npmå‘½ä»¤è¿›è¡Œæ¨¡å—å®‰è£…æ—¶ï¼Œæœ€åä¸åŠ â€™-gâ€™ï¼Œåˆ™é»˜è®¤ä¸ºæœ¬åœ°å®‰è£…","link":"/NodeJs/4.package.json%E6%96%87%E4%BB%B6%E7%9A%84%E8%AF%B4%E6%98%8E/"},{"title":"fsæ¨¡å—çš„ä½¿ç”¨","text":"1.fsæ¨¡å—åŠŸèƒ½ä»‹ç» 1.fs.stat()æ£€æŸ¥æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½• 12345678910111213141516171819202122const fs = require('fs');/* fs.stat() ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦æ£€æµ‹çš„è·¯å¾„ ç¬¬äºŒä¸ªå‚æ•°ï¼šå›è°ƒå‡½æ•°ï¼šerr:è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œdataï¼šè¿”å›æ£€æµ‹ç»“æœ*/fs.stat('./html',(err,data)=&gt;{ // è¿”å›é”™è¯¯ä¿¡æ¯ if(err){ console.log(err); return; } // å¦‚æœdata.isFile()ä¸ºtrueåˆ™ä¸ºæ–‡ä»¶ï¼Œå¦‚æœ data.isDirectory()ä¸ºtrueåˆ™ä¸ºç›®å½• if(data.isFile()){ console.log(&quot;æ˜¯æ–‡ä»¶&quot;); }else if(data.isDirectory()){ console.log(&quot;æ˜¯ç›®å½•&quot;); }}) 2.fs.mkdir()åˆ›å»ºç›®å½• 1234567891011121314/* fs.mkdir() path:è¦åˆ›å»ºç›®å½•çš„è·¯å¾„ mode:ç›®å½•è¯»å†™æƒé™ï¼Œå¯ä¸å†™ï¼Œé»˜è®¤ä¸º777 callback:å›è°ƒå‡½æ•°ï¼Œä¼ é€’å¼‚å¸¸å‚æ•°err*/fs.mkdir('./css',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;åˆ›å»ºæˆåŠŸ&quot;);}) 3.fs.writeFile()åˆ›å»ºå†™å…¥æ–‡ä»¶ 1234567fs.writeFile('./html/index.html','hello',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;åˆ›å»ºæˆåŠŸ&quot;);}) 4.fs.appendFile()è¿½åŠ æ–‡ä»¶ 123456789// fs.appendFile()fs.appendFile('./css/commit.css','body{color:red}\\nh2{font-size:16px}\\n*{margin:0}',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;appendFileæˆåŠŸ&quot;);}) 5.fs.readFile()è¯»å–æ–‡ä»¶ 12345678910// fs.readFile()fs.readFile('./html/index.html',(err,data)=&gt;{ if(err){ console.log(err); return; } console.log(data);//Buffer console.log(data.toString());}) 6.fs.readdir()è¯»å–ç›®å½• 12345678// fs.readdirfs.readdir('./html',(err,files)=&gt;{ if(err){ console.log(err); return; } console.log(files);}) 7.fs.rename()é‡å‘½å/ç§»åŠ¨æ–‡ä»¶ 1234567891011121314151617// fs.rename åŠŸèƒ½1ï¼šé‡å‘½åæ–‡ä»¶ï¼ŒåŠŸèƒ½2ï¼šç§»åŠ¨æ–‡ä»¶//1.é‡å‘½åfs.rename('./css/aaa.css','./css/bbb.css',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;renameæˆåŠŸ&quot;);})//2.ç§»åŠ¨fs.rename('./css/bbb.css','./html/bbb.css',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;renameæˆåŠŸ&quot;);}) 8.fs.unlink(),fs.rmdir()åˆ é™¤æ–‡ä»¶ï¼Œåˆ é™¤ç›®å½• 1234567891011121314151617// fs.unlink() fs.rmdir()//åˆ é™¤æ–‡ä»¶fs.unlink('./html/bbb.css',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;åˆ é™¤æ–‡ä»¶æˆåŠŸ&quot;);})//åˆ é™¤ç›®å½•fs.rmdir('./bbb',(err)=&gt;{ if(err){ console.log(err); return; } console.log(&quot;åˆ é™¤ç›®å½•æˆåŠŸ&quot;);}) ã€æ³¨ã€‘å¦‚æœç›®å½•ä¸‹æœ‰æ–‡ä»¶ï¼Œåˆ™å¿…é¡»åˆ é™¤æ–‡ä»¶åæ‰èƒ½åˆ é™¤ç›®å½•ï¼Œç›´æ¥åˆ é™¤ä¼šå¤±è´¥ 2.æ¡ˆä¾‹1.åˆ›å»ºuploadç›®å½•åˆ¤æ–­æœåŠ¡å™¨ä¸­æ˜¯å¦æœ‰uploadç›®å½•ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™åˆ›å»ºå®ƒï¼Œè‹¥æœ‰ï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œ 12345678910111213141516171819202122232425262728293031323334const fs = require('fs');let path = './upload';fs.stat(path,(err,data)=&gt;{ //åˆ¤æ–­ç›®å½•/æ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ç›´æ¥åˆ›å»º if(err){ mkdir(path); return; } //åˆ¤æ–­å·²å­˜åœ¨çš„æ–‡ä»¶/ç›®å½•å±æ€§ï¼Œè‹¥æ˜¯æ–‡ä»¶åˆ™å…ˆåˆ é™¤æ–‡ä»¶åœ¨åˆ›å»ºï¼Œè‹¥æ˜¯ç›®å½•åˆ™ä¸ç”¨åˆ›å»º if(data.isFile()){ fs.unlink(path,(err)=&gt;{ if(!err){ mkdir(path); return; } }); }else if(data.isDirectory()){ console.log(&quot;è¯¥ç›®å½•å·²å­˜åœ¨&quot;); }})//åˆ›å»ºæ–‡ä»¶æ–¹æ³•function mkdir(path){ fs.mkdir(path,(err)=&gt;{ if(err){ console.log(err); return; }else{ console.log(&quot;åˆ›å»ºæˆåŠŸ&quot;); } })} é€šè¿‡ç¬¬ä¸‰æ–¹æ¨¡å—mkdirpåˆ›å»º 1234/* cnpm i mkdirp --save */const mkdirp = require('mkdirp');mkdirp('./upload').then(made =&gt;console.log(`made directories, starting with ${made}`)) 2.åˆ¤æ–­wwwrootç›®å½•ä¸‹æœ‰å‡ ä¸ªä¸ºç›®å½•12345678910111213141516171819202122// åˆ¤æ–­wwwrootæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè‹¥æ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™å­˜åˆ°ä¸€ä¸ªæ•°ç»„ä¸­const fs = require('fs');let dirArr = [];let path = './wwwroot';fs.readdir(path,(err,data)=&gt;{ if(err){ console.log(err); return; } (function getDir(i){ if(i == data.length){ console.log(dirArr); return; } fs.stat(path+'/'+data[i],(error,state)=&gt;{ if(state.isDirectory()){ dirArr.push(data[i]); } getDir(++i); }) })(0)})","link":"/NodeJs/5.fs%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"title":"ES6å¸¸ç”¨è¯­æ³•","text":"1.letå’Œconstç”¨letå£°æ˜çš„å˜é‡å…·å¤‡å—çº§ä½œç”¨åŸŸï¼Œç”¨constå£°æ˜çš„å˜é‡ä¸ºå¸¸é‡ 12345678910111213var a = 1;{ var a = 2;}console.log(a); //2let a = 1;{ let a = 2;}console.log(a); //1const PI = 3.14; //æ˜¯å¸¸é‡ï¼Œä¸èƒ½æ”¹å˜å…¶å€¼ 2.ES6ä¸­è¯­æ³•çš„ç®€å†™å¯¹è±¡å±æ€§çš„ç®€å†™ 12345//å¦‚æœå¯¹è±¡å±æ€§åå’ŒæŸä¸ªè¦èµ‹å€¼çš„å˜é‡åç›¸åŒï¼Œåˆ™å¯ä»¥ç›´æ¥å†™å¯¹è±¡å±æ€§åname = &quot;å°æ˜&quot;let obj = { name;} å¯¹è±¡æ–¹æ³•çš„ç®€å†™ 123456789//å†™å¯¹è±¡æ–¹æ³•æ—¶ï¼Œå¯ä»¥çœç•¥functionlet obj = { a: 1, b: 2, add(){ return this.a + this.b; }}console.log(obj.add()); 3.è·å–å¼‚æ­¥æ–¹æ³•ä¸­çš„å€¼es6ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡å›è°ƒå‡½æ•°æ¥è·å–å¼‚æ­¥æ–¹æ³•ä¸­çš„å€¼ 12345678910function getData(callbck){ setTimeout(function(){ let name = &quot;å°æ˜&quot;; callbck(name); },1000);}getData(function(a){ console.log(a);}) es6ä¹‹åï¼Œå¯ä»¥é€šè¿‡Promiseæ¥è·å– 1234567891011121314151617181920212223242526//å†™æ³•ä¸€let p = new Promise((resolve,reject)=&gt;{ setTimeout(function(){ let name = &quot;å°æ˜&quot;; resolve(name); },1000);})//é€šè¿‡thenæ–¹æ³•è·å–resolveä¸­çš„å€¼p.then(function(data){ console.log(data);})//å†™æ³•äºŒ//å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥å‚æ•°resolveå’Œrejectfunction getData(resolve,reject){ setTimeout(function(){ let name = &quot;å°æ˜&quot;; resolve(name); },1000);}//å°†è¯¥å‡½æ•°ä¼ ç»™Promiseå¯¹è±¡let p = new Promise(getData);//é€šè¿‡thenæ¥è·å–å€¼p.then(function(data){ console.log(data);}) é€šè¿‡asyncå’Œawaitæ¥è·å–å¼‚æ­¥æ•°æ® 123456789101112//1.é€šè¿‡asyncå£°æ˜çš„æ–¹æ³•ä¸ºå¼‚æ­¥æ–¹æ³•ï¼Œè¿”å›å€¼ä¸ºPromiseå¯¹è±¡async function test(){ return &quot;Hello World&quot;;}console.log(test()); // Promise{&quot;Hello world&quot;}//2.å¯ä»¥é€šè¿‡awaitæ¥ç›´æ¥è·å–å¼‚æ­¥æ–¹æ³•ä¸­çš„å†…å®¹async function getData(){ let d = await test(); console.log(d);}getData(); æ¡ˆä¾‹asyncå’Œawaité…åˆPromiseä½¿ç”¨ 12345678910111213function test(){ return new Promise((res,rej)=&gt;{ setTimeout(function(){ let name = &quot;å°æ˜&quot;; res(name); },1000); })}async function getData(){ let data = await test(); console.log(data);} é€šè¿‡async_awaitåˆ¤æ–­wwwrootä¸‹æœ‰å‡ ä¸ªç›®å½• 12345678910111213141516171819202122232425262728293031323334353637// åˆ¤æ–­wwwrootæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼Œè‹¥æ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™å­˜åˆ°ä¸€ä¸ªæ•°ç»„ä¸­const fs = require('fs');function getDir(path){ return new Promise((res,rej)=&gt;{ fs.stat(path,(err,data)=&gt;{ if(err){ console.log(err); rej(err); return; } if(data.isDirectory()){ res(true); }else{ res(false); } }) })}function main(){ let path = './wwwroot'; let dirArr = []; fs.readdir(path,async (err,data)=&gt;{ if(err){ console.log(err); return; } for(let i = 0; i &lt; data.length; i++){ if(await getDir(path + '/' + data[i])){ dirArr.push(data[i]); } } console.log(dirArr); })}main();","link":"/NodeJs/6.async.await%E5%92%8Ces6%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E8%AF%AD%E6%B3%95/"},{"title":"ç®¡é“æµçš„ä½¿ç”¨","text":"1.è¯»å–æµ 2.å†™å…¥æµ 3.ç®¡é“æµç®¡é“æµå€¼å°†ä¸€ä¸ªæ–‡ä»¶è¯»å–å¹¶å†™å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­çš„æµç¨‹","link":"/NodeJs/7.fs%E4%B8%AD%E7%9A%84%E6%B5%81%E4%BB%A5%E5%8F%8A%E7%AE%A1%E9%81%93%E6%B5%81/"},{"title":"ä½¿ç”¨nodeæ­å»ºç®€å•çš„é™æ€webæœåŠ¡å™¨","text":"1.è¯´æ˜1.è·å–urlä¸­çš„pathnameå±æ€§è·¯å¾„æœ‰ä¸¤ç§ï¼Œè¦è·å¾—æ­£ç¡®çš„è·¯å¾„ 12345/* / /favicon.ico*///è·å–urlä¸­çš„è·¯å¾„(pathname)let pathname = url.parse(req.url).pathname; 2.é€šè¿‡fsä¸­readFile()æ–¹æ³•æ¥è·å¾—å¯¹åº”çš„æ–‡ä»¶å¹¶ä¼ å›æµè§ˆå™¨12345678910111213// è¯»å–å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¹¶ä¼ ç»™æµè§ˆå™¨fs.readFile('./state'+pathname,async (err,data)=&gt;{ if(err){ console.log(err); res.writeHead(404,{'Content-Type':'text/html;charset:utf-8'}); res.end('404'); return; } // è·å–å¯¹åº”åç¼€åçš„å“åº”å¤´ let mimeName = await common.getMime(extName); res.writeHead(200,{'Content-Type':''+mimeName+';charset:utf-8'}); res.end(data);}) 3.åœ¨è·å¾—æ–‡ä»¶çš„è¿‡ç¨‹ä¸­åŒæ—¶è¦ç¡®å®šç›¸åº”çš„å“åº”å¤´12// è·å–å¯¹åº”åç¼€åçš„å“åº”å¤´let mimeName = await common.getMime(extName); 4.è·å–å“åº”å¤´çš„æ¨¡å—12345678910111213141516// å¼•å…¥ä¸€ä¸ªåç¼€åå’Œå“åº”å¤´æ˜ å°„çš„æ–‡ä»¶æ¥è¿”å›å“åº”å¤´çš„æ ¼å¼exports.getFileMime = (extname) =&gt;{ //ä½¿ç”¨Promiseå¯¹è±¡æ¥è·å¾—å¼‚æ­¥æ–¹æ³•ä¸­çš„æ•°æ® return new Promise((resolve,reject)=&gt;{ //è°ƒç”¨readFile()æ–¹æ³•ï¼ŒæŸ¥è¯¢mime.jsonä¸­æ˜¯å¦æœ‰ä¼ å…¥çš„åç¼€åå¯¹åº”çš„å“åº”å¤´ fs.readFile('./data/mime.json',(err,data)=&gt;{ if(err){ console.log(err); reject(err); return; } let mimeObj = JSON.parse(data.toString()); resolve(mimeObj[extname]); }) })} 4.1.ä¹Ÿå¯ä»¥ä½¿ç”¨fs.readFileSync()æ–¹æ³•æ¥è·å–ï¼Œè¯¥æ–¹æ³•ä¸ºåŒæ­¥æ–¹æ³• 2.æœåŠ¡å™¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536const http = require('http');const fs = require('fs');const path = require('path');const url = require('url');const common = require('./module/common');http.createServer((req,res)=&gt;{ /* / /favicon.ico */ //è·å–urlä¸­çš„è·¯å¾„(pathname) let pathname = url.parse(req.url).pathname; // è·å–è·¯å¾„ä¸­çš„åç¼€å let extName = path.extname(pathname); pathname = pathname=='/' ? '/index.html':pathname; // è·å¾—æ­£ç¡®çš„è·¯å¾„ if(pathname != '/favicon.ico'){ // è¯»å–å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¹¶ä¼ ç»™æœåŠ¡å™¨ fs.readFile('./state'+pathname,async (err,data)=&gt;{ if(err){ console.log(err); res.writeHead(404,{'Content-Type':'text/html;charset:utf-8'}); res.end('404'); return; } // è·å–å¯¹åº”åç¼€åçš„å“åº”å¤´ let mimeName = await common.getMime(extName); res.writeHead(200,{'Content-Type':''+mimeName+';charset:utf-8'}); res.end(data); }) }}).listen(8080);console.log(&quot;http://127.0.0.1:8080&quot;); 3.æŸ¥è¯¢å“åº”å¤´ä»£ç 12345678910111213141516// å¼•å…¥ä¸€ä¸ªåç¼€åå’Œå“åº”å¤´æ˜ å°„çš„æ–‡ä»¶æ¥è¿”å›å“åº”å¤´çš„æ ¼å¼exports.getFileMime = (extname) =&gt;{ //ä½¿ç”¨Promiseå¯¹è±¡æ¥è·å¾—å¼‚æ­¥æ–¹æ³•ä¸­çš„æ•°æ® return new Promise((resolve,reject)=&gt;{ //è°ƒç”¨readFile()æ–¹æ³•ï¼ŒæŸ¥è¯¢mime.jsonä¸­æ˜¯å¦æœ‰ä¼ å…¥çš„åç¼€åå¯¹åº”çš„å“åº”å¤´ fs.readFile('./data/mime.json',(err,data)=&gt;{ if(err){ console.log(err); reject(err); return; } let mimeObj = JSON.parse(data.toString()); resolve(mimeObj[extname]); }) })}","link":"/NodeJs/8.%E4%BD%BF%E7%94%A8node%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E7%9A%84%E9%9D%99%E6%80%81web%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"title":"JavaScriptç±»å‹è½¬æ¢","text":"ä¸€ã€å‰è¨€JSæœ‰ä¸ƒç§ç®€å•æ•°æ®ç±»å‹ï¼šundefinedã€nullã€booleanã€stringã€numberã€symbolã€bigintï¼Œä»¥åŠå¼•ç”¨ç±»å‹ object ä½†ç”±äºJavaScriptæ˜¯å¼±ç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥åªæœ‰åœ¨è¿è¡ŒæœŸé—´æ‰ä¼šç¡®å®šå½“å‰ç±»å‹ 1const x = y ? 1 : a; ä¸Šé¢ä»£ç ä¸­ï¼Œxçš„å€¼åœ¨ç¼–è¯‘é˜¶æ®µæ˜¯æ— æ³•è·å–çš„ï¼Œåªæœ‰ç­‰åˆ°ç¨‹åºè¿è¡Œæ—¶æ‰èƒ½çŸ¥é“ è™½ç„¶å˜é‡çš„æ•°æ®ç±»å‹æ˜¯ä¸ç¡®å®šçš„ï¼Œä½†æ˜¯å„ç§è¿ç®—ç¬¦å¯¹äºæ•°æ®ç±»å‹æ˜¯æœ‰è¦æ±‚çš„ï¼Œå¦‚æœè¿ç®—ç¬¦çš„ç±»å‹ä¸é¢„æœŸä¸ç¬¦åˆï¼Œå°±ä¼šè§¦å‘ç±»å‹è½¬æ¢æœºåˆ¶ å¸¸è§çš„ç±»å‹è½¬æ¢æœ‰ï¼š å¼ºåˆ¶è½¬æ¢(æ˜¾ç¤ºè½¬æ¢) è‡ªåŠ¨è½¬æ¢(éšå¼è½¬æ¢)","link":"/JavaScript%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/"},{"title":"å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•","text":"ä¸€ã€å‰è¨€æˆ‘ä»¬å¯ä»¥å°†å­—ç¬¦ä¸²å¸¸ç”¨çš„æ–¹æ³•å½’çº³ä¸ºå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼Œéœ€è¦çŸ¥é“å­—ç¬¦ä¸²çš„ç‰¹ç‚¹æ˜¯ä¸€æ—¦åˆ›å»ºäº†ï¼Œå°±ä¸å¯å˜ äºŒã€æ“ä½œæ–¹æ³•å¢ç”¨äºå°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²æ‹¼æ¥æˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²ã€‚é™¤äº†å¸¸ç”¨çš„ + å’Œ ${} å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ concatè¿›è¡Œæ“ä½œ concat1234let stringValue = &quot;hello &quot;;let result = stringValue.concat(&quot;world&quot;);console.log(result); // &quot;hello world&quot;console.log(stringValue); // &quot;hello&quot; åˆ å¸¸è§çš„åˆ é™¤æ“ä½œæœ‰ï¼š slice() substr() substring() è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½è¿”å›è°ƒç”¨å®ƒä»¬çš„å­—ç¬¦ä¸²å’Œä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œè€Œä¸”éƒ½æ¥æ”¶ä¸€æˆ–ä¸¤ä¸ªå‚æ•° 1234567let stringValue = &quot;hello world&quot;;console.log(stringValue.slice(3)); // &quot;lo world&quot;console.log(stringValue.substring(3)); // &quot;lo world&quot;console.log(stringValue.substr(3)); // &quot;lo world&quot;console.log(stringValue.slice(3, 7)); // &quot;lo w&quot;console.log(stringValue.substring(3,7)); // &quot;lo w&quot;console.log(stringValue.substr(3, 7)); // &quot;lo worl&quot; æ”¹å¸¸è§çš„ä¿®æ”¹æ–¹æ³•ï¼š trim()ã€trimLeft()ã€trimRight() repeat() padStart()ã€padEnd() toLowerCase()ã€ toUpperCase() trim()ã€trimLeft()ã€trimRight()åˆ é™¤å‰ã€åæˆ–å‰åæ‰€æœ‰ç©ºæ ¼ï¼Œå†è¿”å›æ–°çš„å­—ç¬¦ä¸² 1234let stringValue = &quot; hello world &quot;;let trimmedStringValue = stringValue.trim();console.log(stringValue); // &quot; hello world &quot;console.log(trimmedStringValue); // &quot;hello world&quot; repeat()æ¥æ”¶ä¸€ä¸ªæ•´æ•°å‚æ•°ï¼Œè¡¨ç¤ºè¦å°†å­—ç¬¦ä¸²å¤åˆ¶å¤šå°‘æ¬¡ï¼Œç„¶åè¿”å›æ‹¼æ¥æ‰€æœ‰å‰¯æœ¬åçš„ç»“æœ 12let stringValue = &quot;na &quot;;let copyResult = stringValue.repeat(2) // na na padEnd()å¤åˆ¶å­—ç¬¦ä¸²ï¼Œå¦‚æœå°äºæŒ‡å®šé•¿åº¦ï¼Œåˆ™åœ¨ç›¸åº”ä¸€è¾¹å¡«å……å­—ç¬¦ï¼Œç›´è‡³æ»¡è¶³é•¿åº¦æ¡ä»¶ 123let stringValue = &quot;foo&quot;;console.log(stringValue.padStart(6)); // &quot; foo&quot;console.log(stringValue.padStart(9, &quot;.&quot;)); // &quot;......foo&quot; toLowerCase()ã€ toUpperCase()å¤§å°å†™è½¬åŒ– 123let stringValue = &quot;hello world&quot;;console.log(stringValue.toUpperCase()); // &quot;HELLO WORLD&quot;console.log(stringValue.toLowerCase()); // &quot;hello world&quot; æŸ¥é™¤äº†é€šè¿‡ç´¢å¼•çš„æ–¹å¼è·å–å­—ç¬¦ä¸²çš„å€¼ï¼Œè¿˜å¯é€šè¿‡ï¼š chatAt() indexOf() startWith() includes() chatAt()è¿”å›ç»™å®šç´¢å¼•ä½ç½®çš„å­—ç¬¦ï¼Œç”±ä¼ ç»™æ–¹æ³•çš„æ•´æ•°å‚æ•°æŒ‡å®š 12const message = &quot;abcde&quot;;console.log(message.chatAt(2)) // &quot;c&quot; indexOf()ä»å­—ç¬¦ä¸²å¼€å¤´å»æœç´¢ä¼ å…¥çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä½ç½®(å¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™è¿”å›-1) 12const stringValue = &quot;hello world&quot;;console.log(stringValue.indexOf(&quot;o&quot;)); // 4 startWith()æŸ¥è¯¢å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å·²ä¼ å…¥çš„å­—ç¬¦ä¸²å¼€å¤´ï¼Œè¿”å›å¸ƒå°”å€¼ 1234const message = &quot;foobarbaz&quot;;console.log(message.startsWith(&quot;foo&quot;)) // trueconsole.log(message.startsWith(&quot;bar&quot;)); // false includes()ä»å­—ç¬¦ä¸²ä¸­æœç´¢ä¼ å…¥çš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ˜¯å¦åŒ…å«çš„å¸ƒå°”å€¼ 1234const message = &quot;foobarbaz&quot;;console.log(message.includes(&quot;bar&quot;)); // trueconsole.log(message.includes(&quot;qux&quot;)); // false äºŒã€è½¬æ¢æ–¹æ³•splitæŠŠå­—ç¬¦ä¸²æŒ‰ç…§æŒ‡å®šçš„åˆ†å‰²ç¬¦ï¼Œæ‹†åˆ†æˆæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ 12const str = &quot;12+23+34&quot;const arr = str.split(&quot;+&quot;) // [12,23,34] ä¸‰ã€æ¨¡æ¿åŒ¹é…æ–¹æ³•é’ˆå¯¹æ­£åˆ™è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²è®¾è®¡äº†å‡ ä¸ªæ–¹æ³•ç”¨äºåŒ¹é…ï¼š match() search() replace() match()æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª RegExp å¯¹è±¡ï¼Œè¿”å›æ•°ç»„ 1234const text = &quot;cat, bat, sat, fat&quot;;const pattern = /.at/;const matches = text.match(pattern);console.log(matches[0]); // &quot;cat&quot; search()æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª RegExp å¯¹è±¡ï¼Œæ‰¾åˆ°åˆ™è¿”å›åŒ¹é…ç´¢å¼•ï¼Œå¦åˆ™è¿”å› -1 123const text = &quot;cat, bat, sat, fat&quot;;const pos = text.search(/at/);console.log(pos); replace()æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåŒ¹é…çš„å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ›¿æ¢çš„å…ƒç´ (å¯ç”¨å‡½æ•°) 123const text = &quot;cat, bat, sat, fat&quot;;const result = text.replace(&quot;at&quot;, &quot;ond&quot;);console.log(result); // &quot;cond, bat, sat, fat&quot;","link":"/JavaScript/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"},{"title":"æ•°ç»„å¸¸ç”¨çš„æ–¹æ³•","text":"å‰è¨€æ•°ç»„å¸¸è§çš„æ“ä½œæ–¹æ³•å¯åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼š æ“ä½œæ–¹æ³• æ’åºæ–¹æ³• è½¬æ¢æ–¹æ³• è¿­ä»£æ–¹æ³• ä¸€ã€æ“ä½œæ–¹æ³•æ•°ç»„åŸºæœ¬æ“ä½œå¯ä»¥å½’çº³ä¸ºå¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼Œéœ€è¦ç•™æ„çš„æ˜¯å“ªäº›æ–¹æ³•ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“ï¼Œå“ªäº›æ–¹æ³•ä¸ä¼š å¢ä¸‹é¢å‰ä¸‰ç§æ˜¯å¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“çš„å¢åŠ æ–¹æ³•ï¼Œç¬¬å››ç§åˆ™ä¸ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“ push() unshift() splice() concat() push()push æ–¹æ³•æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œè¿”å›æ•°ç»„çš„æœ€æ–°é•¿åº¦ 1234const colors = [];const count = colors.push('red', 'green'); // æ¨å…¥ä¸¤é¡¹console.log(count) // 2 unshift()unshift() åœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä»»æ„å¤šä¸ªå€¼ï¼Œç„¶åè¿”å›æ–°çš„æ•°ç»„é•¿åº¦ 123let colors = new Array(); // åˆ›å»ºä¸€ä¸ªæ•°ç»„let count = colors.unshift(&quot;red&quot;, &quot;green&quot;); // ä»æ•°ç»„å¼€å¤´æ¨å…¥ä¸¤é¡¹alert(count); // 2 splice()å¯ä»¥æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ä½ç½®ï¼Œè¦åˆ é™¤çš„å…ƒç´ æ•°é‡ï¼Œæ’å…¥çš„å…ƒç´ ï¼›è¿”å›å€¼æ˜¯è¢«åˆ é™¤çš„æ•°ç»„å…ƒç´  1234const colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];const removed = colors.splice(1, 0, &quot;yellow&quot;, &quot;orange&quot;)console.log(colors) // red,yellow,orange,green,blueconsole.log(removed) // [] concat()é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå½“å‰æ•°ç»„çš„å‰¯æœ¬ï¼Œç„¶åå†æŠŠå®ƒçš„å‚æ•°æ·»åŠ åˆ°å‰¯æœ¬æœ«å°¾ï¼Œæœ€åè¿”å›è¿™ä¸ªæ–°æ„å»ºçš„æ•°ç»„ï¼Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„ 1234let colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;];let colors2 = colors.concat(&quot;yellow&quot;, [&quot;black&quot;, &quot;brown&quot;]);console.log(colors); // [&quot;red&quot;, &quot;green&quot;,&quot;blue&quot;]console.log(colors2); // [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;black&quot;, &quot;brown&quot;] åˆ ä¸‹é¢ä¸‰ç§éƒ½ä¼šå½±å“åŸæ•°ç»„ï¼Œæœ€åä¸€é¡¹ä¸å½±å“åŸæ•°ç»„ï¼š pop() shift() splice() slice() æ”¹å³ä¿®æ”¹åŸæ¥æ•°ç»„çš„å†…å®¹ï¼Œå¸¸ç”¨ splice æŸ¥å³æŸ¥æ‰¾å…ƒç´ ï¼Œè¿”å›å…ƒç´ åæ ‡æˆ–è€…å…ƒç´ å€¼ indexOf() includes() find() äºŒã€æ’åºæ–¹æ³•æ•°ç»„æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥å¯¹å…ƒç´ é‡æ–°æ’åºï¼š reverse() sort() ä¸‰ã€è½¬æ¢æ–¹æ³•å¸¸è§çš„è½¬æ¢æ–¹æ³•æœ‰ï¼š join() å››ã€è¿­ä»£æ–¹æ³•å¸¸ç”¨æ¥è¿­ä»£æ•°ç»„çš„æ–¹æ³•(éƒ½ä¸æ”¹å˜åŸæ•°ç»„)æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š some() every() forEach() filter() map()","link":"/JavaScript/%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B/"},{"title":"httpæ¨¡å—","text":"Node.jsè‡ªåŠ¨çš„httpæ¨¡å—çš„ä½¿ç”¨123456789101112131415161718192021// å¼•å…¥httpæ¨¡å—const http = require('http');/* request è·å–urlä¼ è¿‡æ¥çš„ä¿¡æ¯ response ç»™æµè§ˆå™¨å“åº”ä¿¡æ¯ */http.createServer(function (request, response) { console.log(request.url); // è®¾ç½®å“åº”å¤´ response.writeHead(200, {'Content-Type': 'text/html;charset=&quot;utf-8&quot;'}); // é˜²æ­¢é¡µé¢ä¹±ç  response.write(&quot;&lt;head&gt;&lt;meta charset='UTF-8'&gt;&lt;/head&gt;&quot;); response.write(&quot;ä½ å¥½ Node&quot;); // ç»“æŸå“åº” response.end();}).listen(8080); //ç«¯å£console.log('Server running at http://127.0.0.1:8080/');","link":"/NodeJs/1.http%E6%A8%A1%E5%9D%97/"},{"title":"å°è£…è·¯ç”±","text":"1.è·¯ç”±çš„å°è£…1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162const fs = require('fs');const path = require('path');const url = require('url');const ejs = require('ejs');// ç§æœ‰æ–¹æ³•let getMime = (extName) =&gt; { let data = fs.readFileSync('./data/mime.json'); let mimeObj = JSON.parse(data.toString()); return mimeObj[extName];}// å°è£…è·¯ç”±let app = { static(req, res, staticPath) { //è·å–urlä¸­çš„è·¯å¾„(pathname) let pathname = url.parse(req.url).pathname; // è·å–è·¯å¾„ä¸­çš„åç¼€å let extName = path.extname(pathname); pathname = pathname == '/' ? '/index.html' : pathname; // è·å¾—æ­£ç¡®çš„è·¯å¾„ if (pathname != '/favicon.ico') { try { // è¯»å–å¯¹åº”æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å¹¶ä¼ ç»™æµè§ˆå™¨ let data = fs.readFileSync('./' + staticPath + pathname); if (data) { // è·å–å¯¹åº”åç¼€åçš„å“åº”å¤´ let mimeName = getMime(extName); res.writeHead(200, { 'Content-Type': '' + mimeName + ';charset=utf-8' }); res.end(data); } } catch (error) { } } }, login(req,res){ res.end(&quot;login&quot;); }, news(req,res){ res.end(&quot;news&quot;); }, form(req,res){ ejs.renderFile('./views/form.ejs',{},(err,data)=&gt;{ res.writeHead(200,{'Content-Type':'text/html,charset=&quot;utf-8&quot;'}); res.end(data); }) }, doLogin(req,res){ let postData = ''; req.on('data',(chunk)=&gt;{ postData += chunk; }) req.on('end',()=&gt;{ console.log(postData); res.end(postData); }) }, error(req,res){ res.end(&quot;error&quot;); }}module.exports = app; 2.ä½¿ç”¨123456789101112131415161718192021const http = require('http');const routes = require('./module/routes');const url = require('url');http.createServer((req,res)=&gt;{ // åˆ›å»ºé™æ€webæœåŠ¡ routes.static(req,res,'state'); // è·å–è¯·æ±‚ç±»å‹ // console.log(req.method); // è·¯ç”± let pathname = url.parse(req.url).pathname.replace(&quot;/&quot;,&quot;&quot;); try { routes[pathname](req,res); } catch (error) { routes['error'](req,res); }}).listen(8080);console.log(&quot;http://127.0.0.1:8080&quot;);","link":"/NodeJs/11.%E5%B0%81%E8%A3%85%E8%B7%AF%E7%94%B1/"},{"title":"EJS","text":"1.ä¸‹è½½ejs12//æœ¬åœ°å®‰è£…ejscnpm i ejs --save 2.å¼•å…¥ejsï¼Œå¹¶åˆ›å»ºejsé¡µé¢1const ejs = require('ejs'); 1234567891011121314151617&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h2&gt;è¿™æ˜¯ä¸€ä¸ªç™»å½•é¡µé¢&lt;/h2&gt; &lt;h3&gt;&lt;%=msg%&gt;&lt;/h3&gt; &lt;ul&gt; &lt;%for(let i = 0; i &lt; list.length; i++){%&gt; &lt;li&gt;&lt;%=list[i].msg%&gt;&lt;/li&gt; &lt;%}%&gt; &lt;/ul&gt; &lt;/body&gt;&lt;/html&gt; 3.æ¨¡æ‹Ÿå°†æ•°æ®åº“ä¸­çš„æ•°æ®ä¼ å›ejsé¡µé¢å¹¶è¿›è¡Œæ¸²æŸ“12345678910111213141516171819//å°†æ•°æ®ä¼ å»ejsé¡µé¢if(pathname == '/login'){ let msg = &quot;æ•°æ®åº“ä¸­è·å–çš„æ•°æ®&quot;; let list = [ {msg:&quot;æ–°é—»111&quot;}, {msg:&quot;æ–°é—»222&quot;}, {msg:&quot;æ–°é—»333&quot;}, {msg:&quot;æ–°é—»444&quot;}, {msg:&quot;æ–°é—»555&quot;} ]; //ejsæ¸²æŸ“é¡µé¢ ejs.renderFile('./views/login.ejs',{msg:msg,list:list},(err,data)=&gt;{ res.writeHead(200,{'Content-Type':'text/html;charset=utf-8'}); res.end(data); })} 1234567//ejsä¸Šæ¸²æŸ“&lt;h3&gt;&lt;%=msg%&gt;&lt;/h3&gt;&lt;ul&gt; &lt;%for(let i = 0; i &lt; list.length; i++){%&gt; &lt;li&gt;&lt;%=list[i].msg%&gt;&lt;/li&gt; &lt;%}%&gt;&lt;/ul&gt; 2.getå’Œpost1.è·å–getä¼ å€¼getä¼ å€¼æ˜¯æ‹¼æ¥åœ¨urlåé¢çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡urlæ¨¡å—æä¾›çš„parseè§£æè·å– 123456else if(pathname == '/news'){ // è·å–getä¼ å€¼ let {page,title} = url.parse(req.url,true).query; console.log(page+&quot;,&quot;+title); res.end(page+&quot;,&quot;+title);} 2.è·å–postä¼ å€¼1.æ–°å»ºä¸€ä¸ªformé¡µé¢ï¼Œé‡Œé¢æœ‰ç®€å•çš„formè¡¨å• 123456789101112131415&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=&quot;/doLogin&quot; method=&quot;POST&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;username&quot; placeholder=&quot;ç”¨æˆ·å&quot; autofocus=&quot;off&quot;&gt;&lt;br&gt; &lt;input type=&quot;password&quot; name=&quot;password&quot; placeholder=&quot;å¯†ç &quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt; 2.åœ¨è·¯ç”±ä¸­é…ç½®è®¿é—®formé¡µé¢çš„è·¯ç”± 123456else if(pathname == '/form'){ // è·å–postä¼ å€¼ ejs.renderFile('./views/form.ejs',{},(err,data)=&gt;{ res.end(data); })} 3.postè¯·æ±‚æäº¤åˆ°çš„è·¯ç”±åœ°å€ä¸ºâ€™/doLoginâ€™ï¼Œåœ¨è¿™é‡Œé¢è§£æpostè¯·æ±‚ 1234567891011else if(pathname == '/doLogin'){ // è·å–POSTä¼ å€¼ let postData = ''; req.on('data',(chunk)=&gt;{ postData += chunk; }) req.on('end',()=&gt;{ console.log(postData); res.end(postData); })} ã€æ³¨ã€‘ä¸€èˆ¬åŠ è½½é¡µé¢ç”¨çš„éƒ½æ˜¯getè¯·æ±‚ï¼Œpostè¯·æ±‚å¤§å¤šæ•°åœ¨æäº¤æ•°æ®æ—¶ä½¿ç”¨ å¯ä»¥é€šè¿‡req.methodæŸ¥çœ‹ 12// è·å–è¯·æ±‚ç±»å‹console.log(req.method);","link":"/NodeJs/10.EJS,Get,Post/"},{"title":"letå’Œconstå…³é”®å­—","text":"1.letES6æ–°å¢çš„å£°æ˜å˜é‡å…³é”®å­—ï¼Œæ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ å—çº§ä½œç”¨åŸŸ1234567{ let a = 10; var b = 10;}console.log(a);// ReferenceError: a is not defined.console.log(b);// 10 forå¾ªç¯è®¡æ•°å™¨ï¼Œå°±å¾ˆåˆé€‚ä½¿ç”¨letå‘½ä»¤ 123456789101112for (let i = 0; i &lt; 10; i++) { // ...}console.log(i);// ReferenceError: i is not defined// å¦‚æœä½¿ç”¨varï¼Œæœ€åä¼šè¾“å‡º10for (var i = 0; i &lt; 10; i++) { // ...}console.log(i);// 10 ä¸å­˜åœ¨å˜é‡æå‡varå…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œå¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œletå…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ 12345console.log(foo); // undefinedvar foo = 2;console.log(bar); // æŠ¥é”™ReferenceErrorlet bar = 2; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡fooç”¨varå‘½ä»¤å£°æ˜ï¼Œä¼šå‘ç”Ÿå˜é‡æå‡ï¼Œå³è„šæœ¬å¼€å§‹è¿è¡Œæ—¶ï¼Œå˜é‡fooå·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯æ²¡æœ‰å€¼ï¼Œæ‰€ä»¥ä¼šè¾“å‡ºundefinedã€‚å˜é‡barç”¨letå‘½ä»¤å£°æ˜ï¼Œä¸ä¼šå‘ç”Ÿå˜é‡æå‡ã€‚è¿™è¡¨ç¤ºåœ¨å£°æ˜å®ƒä¹‹å‰ï¼Œå˜é‡baræ˜¯ä¸å­˜åœ¨çš„ï¼Œè¿™æ—¶å¦‚æœç”¨åˆ°å®ƒï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚ æš‚æ—¶æ€§æ­»åŒºåªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨letå…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±è¢«ç»‘å®šåœ¨è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—åˆ°å¤–éƒ¨çš„å½±å“ 123456var a = 10;{ console.log(a); // æŠ¥é”™ReferenceError let a;} æœ‰äº›â€œæ­»åŒºâ€æ¯”è¾ƒéšè”½ï¼Œä¸å¤ªå®¹æ˜“å‘ç°ã€‚ 12345function bar(x = y, y = 2) { return [x, y];}bar(); // æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œè°ƒç”¨barå‡½æ•°ä¹‹æ‰€ä»¥æŠ¥é”™ï¼ˆæŸäº›å®ç°å¯èƒ½ä¸æŠ¥é”™ï¼‰ï¼Œæ˜¯å› ä¸ºå‚æ•°xé»˜è®¤å€¼ç­‰äºå¦ä¸€ä¸ªå‚æ•°yï¼Œè€Œæ­¤æ—¶yè¿˜æ²¡æœ‰å£°æ˜ï¼Œå±äºâ€œæ­»åŒºâ€ã€‚å¦‚æœyçš„é»˜è®¤å€¼æ˜¯xï¼Œå°±ä¸ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ­¤æ—¶xå·²ç»å£°æ˜äº†ã€‚ 1234function bar(x = 2, y = x) { return [x, y];}bar(); // [2, 2] å¦å¤–ï¼Œä¸‹é¢çš„ä»£ç ä¹Ÿä¼šæŠ¥é”™ï¼Œä¸varçš„è¡Œä¸ºä¸åŒã€‚ 123456// ä¸æŠ¥é”™var x = x;// æŠ¥é”™let x = x;// ReferenceError: x is not defined ä¸Šé¢ä»£ç æŠ¥é”™ï¼Œä¹Ÿæ˜¯å› ä¸ºæš‚æ—¶æ€§æ­»åŒºã€‚ä½¿ç”¨letå£°æ˜å˜é‡æ—¶ï¼Œåªè¦å˜é‡åœ¨è¿˜æ²¡æœ‰å£°æ˜å®Œæˆå‰ä½¿ç”¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚ä¸Šé¢è¿™è¡Œå°±å±äºè¿™ä¸ªæƒ…å†µï¼Œåœ¨å˜é‡xçš„å£°æ˜è¯­å¥è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆå‰ï¼Œå°±å»å–xçš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™â€x æœªå®šä¹‰â€œã€‚ ES6 è§„å®šæš‚æ—¶æ€§æ­»åŒºå’Œletã€constè¯­å¥ä¸å‡ºç°å˜é‡æå‡ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡å°‘è¿è¡Œæ—¶é”™è¯¯ï¼Œé˜²æ­¢åœ¨å˜é‡å£°æ˜å‰å°±ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œä»è€Œå¯¼è‡´æ„æ–™ä¹‹å¤–çš„è¡Œä¸ºã€‚è¿™æ ·çš„é”™è¯¯åœ¨ ES5 æ˜¯å¾ˆå¸¸è§çš„ï¼Œç°åœ¨æœ‰äº†è¿™ç§è§„å®šï¼Œé¿å…æ­¤ç±»é”™è¯¯å°±å¾ˆå®¹æ˜“äº†ã€‚ æ€»ä¹‹ï¼Œæš‚æ—¶æ€§æ­»åŒºçš„æœ¬è´¨å°±æ˜¯ï¼Œåªè¦ä¸€è¿›å…¥å½“å‰ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯è·å–ï¼Œåªæœ‰ç­‰åˆ°å£°æ˜å˜é‡çš„é‚£ä¸€è¡Œä»£ç å‡ºç°ï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚ä¸å…è®¸é‡å¤å£°æ˜ ä¸å…è®¸é‡å¤å£°æ˜letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚ 1234567891011// æŠ¥é”™function func() { let a = 10; var a = 1;}// æŠ¥é”™function func() { let a = 10; let a = 1;} å› æ­¤ï¼Œä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨é‡æ–°å£°æ˜å‚æ•°ã€‚ 1234567891011function func(arg) { let arg;}func() // æŠ¥é”™function func(arg) { { let arg; }}func() // ä¸æŠ¥é”™ constconstå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚ 12345const PI = 3.1415;PI // 3.1415PI = 3;// TypeError: Assignment to constant variable. ä¸Šé¢ä»£ç è¡¨æ˜æ”¹å˜å¸¸é‡çš„å€¼ä¼šæŠ¥é”™ã€‚ constå£°æ˜çš„å˜é‡ä¸å¾—æ”¹å˜å€¼ï¼Œè¿™æ„å‘³ç€ï¼Œconstä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚ 12const foo;// SyntaxError: Missing initializer in const declaration ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¯¹äºconstæ¥è¯´ï¼Œåªå£°æ˜ä¸èµ‹å€¼ï¼Œå°±ä¼šæŠ¥é”™ã€‚ constçš„ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚ 12345if (true) { const MAX = 5;}MAX // Uncaught ReferenceError: MAX is not defined constå‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚ 1234if (true) { console.log(MAX); // ReferenceError const MAX = 5;} ä¸Šé¢ä»£ç åœ¨å¸¸é‡MAXå£°æ˜ä¹‹å‰å°±è°ƒç”¨ï¼Œç»“æœæŠ¥é”™ã€‚ constå£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸letä¸€æ ·ä¸å¯é‡å¤å£°æ˜ã€‚ 123456var message = &quot;Hello!&quot;;let age = 25;// ä»¥ä¸‹ä¸¤è¡Œéƒ½ä¼šæŠ¥é”™const message = &quot;Goodbye!&quot;;const age = 30; æœ¬è´¨constå®é™…ä¸Šæ˜¯ä¸ºäº†ä¿è¯ï¼Œå˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸èƒ½æ”¹åŠ¨ã€‚å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œå€¼å°±æ˜¯ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸­ã€‚ä½†å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹æ¥è¯´ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®åªæ˜¯æŒ‡é’ˆï¼Œconståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒçš„æ•°æ®ç»“æœæ˜¯ä¸æ˜¯å›ºå®šçš„å°±ä¸å¯æ§åˆ¶äº†ã€‚ å¦‚æœçœŸæƒ³è¦å†»ç»“å¯¹è±¡ï¼Œåº”è¯¥ä½¿ç”¨Object.freezeæ–¹æ³• 12345const foo = Object.freeze({});// å¸¸è§„æ¨¡å¼æ—¶ï¼Œä¸‹é¢ä¸€è¡Œä¸èµ·ä½œç”¨ï¼›// ä¸¥æ ¼æ¨¡å¼æ—¶ï¼Œè¯¥è¡Œä¼šæŠ¥é”™foo.prop = 123;","link":"/JavaScript/7.let%E5%92%8Cconst/"},{"title":"è§£æ„èµ‹å€¼","text":"è§£æ„èµ‹å€¼ES6å…è®¸æŒ‰ç…§ä¸€å®šçš„æ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¹¶èµ‹å€¼ç»™å¯¹åº”çš„å¯¹è±¡ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„èµ‹å€¼ è§£æ„èµ‹å€¼æœ¬è´¨ä¸Šå±äºæ¨¡å¼åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ç­‰å¼ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ å¦‚æœè§£æ„ä¸æˆåŠŸï¼Œå˜é‡çš„å€¼å°±ä¼šè¢«èµ‹äºˆundefined è§£æ„èµ‹å€¼åˆ†ä¸ºæ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼å’Œå¯¹è±¡å½¢å¼çš„è§£æ„èµ‹å€¼ï¼Œä¸¤è€…å®ç°çš„åŸç†ä¸åŒ 1.æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼æ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼æœ¬è´¨ä¸Šæ˜¯è°ƒç”¨å¯è¿­ä»£æ•°æ®ç»“æ„åŸå‹é“¾ä¸Šçš„iteratoræ¥å£ï¼Œéå†å‡ºå¯¹åº”çš„æ•°æ®å¹¶è¿›è¡Œèµ‹å€¼ 1234567891011121314151617181920let [foo, [[bar], baz]] = [1, [[2], 3]];foo // 1bar // 2baz // 3let [ , , third] = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;];third // &quot;baz&quot;let [x, , y] = [1, 2, 3];x // 1y // 3let [head, ...tail] = [1, 2, 3, 4];head // 1tail // [2, 3, 4]let [x, y, ...z] = ['a'];x // &quot;a&quot;y // undefinedz // [] å¦‚æœå³è¾¹ä¸æ˜¯æ•°ç»„(æˆ–è€…ä¸¥æ ¼æ¥è¯´ï¼Œä¸æ˜¯å¯éå†çš„ç»“æ„)ï¼Œé‚£ä¹ˆå°†ä¼šæŠ¥é”™ å¯¹äºSetç»“æ„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„è¿›è¡Œè§£æ„èµ‹å€¼ 1let [x,y,z] = new Set([1,2,3]) äº‹å®ä¸Šï¼Œåªè¦æŸç§æ•°æ®ç»“æ„å…·æœ‰Iteratoræ¥å£ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ•°ç»„çš„å½¢å¼è§£æ„èµ‹å€¼ 1234567891011function* fibs() { let a = 0; let b = 1; while (true) { yield a; [a, b] = [b, a + b]; }}let [first, second, third, fourth, fifth, sixth] = fibs();sixth // 5 é»˜è®¤å€¼ è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼ 12345let [foo = true] = [];foo // truelet [x, y = 'b'] = ['a']; // x='a', y='b'let [x, y = 'b'] = ['a', undefined]; // x='a', y='b' æ³¨æ„ï¼šES6å†…éƒ¨é»˜è®¤ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦åˆ¤æ–­ä¸€ä¸ªä½ç½®æ˜¯å¦æœ‰å€¼ï¼Œæ‰€ä»¥ï¼Œåªæœ‰å½“è¦è§£æ„çš„æ•°ç»„æˆå‘˜é»˜è®¤ç­‰äºundefinedæ—¶ï¼Œé»˜è®¤å€¼æ‰ä¼šç”Ÿæ•ˆ 12345let [x = 1] = [undefined];x // 1let [x = 1] = [null]x // null å¦‚æœé»˜è®¤å€¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œå³åªæœ‰åœ¨ç”¨åˆ°çš„æ—¶å€™ï¼Œæ‰ä¼šæ±‚å€¼ã€‚ 12345function f() { console.log('aaa');}let [x = f()] = [1]; é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜ã€‚ 1234let [x = 1, y = x] = []; // x=1; y=1let [x = 1, y = x] = [2]; // x=2; y=2let [x = 1, y = x] = [1, 2]; // x=1; y=2let [x = y, y = 1] = []; // ReferenceError: y is not defined å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºå­—ç¬¦ä¸²çš„åŒ…è£…ç±»ä¹Ÿæ˜¯ä¸€ä¸ªå¸¦æœ‰iteratorçš„å¯è¿­ä»£å¯¹è±¡ 123456const [a, b, c, d, e] = 'hello';a // &quot;h&quot;b // &quot;e&quot;c // &quot;l&quot;d // &quot;l&quot;e // &quot;o&quot; å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼å‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ 12345function add([x, y]){ return x + y;}add([1, 2]); // 3 2.å¯¹è±¡çš„è§£æ„èµ‹å€¼å¯¹è±¡çš„è§£æ„èµ‹å€¼å’Œæ•°ç»„æœ‰æ‰€ä¸åŒï¼Œæ•°ç»„çš„è§£æ„èµ‹å€¼å˜é‡åæ˜¯æŒ‰ç…§æ•°ç»„çš„å…ƒç´ é¡ºåºä¸€ä¸€èµ‹å€¼çš„ï¼Œè€Œå¯¹è±¡è§£æ„èµ‹å€¼å†…éƒ¨çš„è¿è¡Œæœºåˆ¶å…¶å®å°±æ˜¯ç›´æ¥æŸ¥æ‰¾åŒåçš„å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œåªè¦å±æ€§åæ­£ç¡®ï¼Œå°±èƒ½å–åˆ°å€¼ï¼Œå¦åˆ™ä¸ºundefined 123456let { bar, foo } = { foo: 'aaa', bar: 'bbb' };foo // &quot;aaa&quot;bar // &quot;bbb&quot;let { baz } = { foo: 'aaa', bar: 'bbb' };baz // undefined å¯¹è±¡çš„è§£æ„èµ‹å€¼æå¤§åœ°æ–¹ä¾¿äº†æˆ‘ä»¬å°†ç°æœ‰å¯¹è±¡çš„æŸä¸ªæ–¹æ³•ï¼Œå•ç‹¬å–å‡ºæ¥ä½¿ç”¨ï¼Œå¹¶ä¸”æ”¯æŒé‡å‘½å 1234567let { foo: baz } = { foo: 'aaa', bar: 'bbb' };baz // &quot;aaa&quot;let obj = { first: 'hello', last: 'world' };let { first: f, last: l } = obj;f // 'hello'l // 'world' é»˜è®¤å€¼ å¯¹è±¡çš„è§£æ„èµ‹å€¼ä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤å€¼ 123456789101112131415var {x = 3} = {};x // 3var {x, y = 5} = {x: 1};x // 1y // 5var {x: y = 3} = {};y // 3var {x: y = 3} = {x: 5};y // 5var { message: msg = 'Something went wrong' } = {};msg // &quot;Something went wrong&quot; é»˜è®¤å€¼ç”Ÿæˆçš„æ¡ä»¶ä¸æ•°ç»„ç›¸åŒï¼Œå¯¹è±¡çš„å±æ€§å¿…é¡»ä¸¥æ ¼ç­‰äºundefined 12345var {x = 3} = {x: undefined};x // 3var {x = 3} = {x: null};x // null 3.è§£æ„ä¸­çš„è£…ç®±ä¸€äº›åŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥è¿›è¡Œè§£æ„å–å€¼ã€‚å‡†ç¡®åœ°æ¥è¯´ï¼Œæ˜¯å› ä¸ºåœ¨è§£æ„ä¸­å‘ç”Ÿäº†è£…ç®±æ“ä½œï¼Œå¯ä»¥å–åˆ°å…¶å¯¹åº”åŒ…è£…ç±»å‹ä¸Šçš„æ–¹æ³• ä¾‹å¦‚ï¼š å–å­—ç¬¦ä¸²æ‰€å¯¹åº”Stringç±»ä¸­çš„length12let { length } = 'hello';length // 5 æ•°å€¼å’Œå¸ƒå°”å€¼çš„è§£æ„èµ‹å€¼åŒæ ·å¯ä»¥å–åˆ°å¯¹åº”åŒ…è£…ç±»å‹ä¸Šçš„æ–¹æ³• 12345let {toString: s} = 123;s === Number.prototype.toString // truelet {toString: s} = true;s === Boolean.prototype.toString // true nullå’Œundefinedæ²¡æœ‰å¯¹åº”çš„åŒ…è£…ç±»å‹ï¼Œæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œå› æ­¤è§£æ„ä¼šç›´æ¥æŠ¥é”™ 12let { prop: x } = undefined; // TypeErrorlet { prop: y } = null; // TypeError 4.ç”¨é€”å˜é‡çš„è§£æ„èµ‹å€¼ç”¨é€”å¾ˆå¤šã€‚ ï¼ˆ1ï¼‰äº¤æ¢å˜é‡çš„å€¼ 1234let x = 1;let y = 2;[x, y] = [y, x]; ä¸Šé¢ä»£ç äº¤æ¢å˜é‡xå’Œyçš„å€¼ï¼Œè¿™æ ·çš„å†™æ³•ä¸ä»…ç®€æ´ï¼Œè€Œä¸”æ˜“è¯»ï¼Œè¯­ä¹‰éå¸¸æ¸…æ™°ã€‚ ï¼ˆ2ï¼‰ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼ å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œå¦‚æœè¦è¿”å›å¤šä¸ªå€¼ï¼Œåªèƒ½å°†å®ƒä»¬æ”¾åœ¨æ•°ç»„æˆ–å¯¹è±¡é‡Œè¿”å›ã€‚æœ‰äº†è§£æ„èµ‹å€¼ï¼Œå–å‡ºè¿™äº›å€¼å°±éå¸¸æ–¹ä¾¿ã€‚ 12345678910111213141516// è¿”å›ä¸€ä¸ªæ•°ç»„function example() { return [1, 2, 3];}let [a, b, c] = example();// è¿”å›ä¸€ä¸ªå¯¹è±¡function example() { return { foo: 1, bar: 2 };}let { foo, bar } = example(); ï¼ˆ3ï¼‰å‡½æ•°å‚æ•°çš„å®šä¹‰ è§£æ„èµ‹å€¼å¯ä»¥æ–¹ä¾¿åœ°å°†ä¸€ç»„å‚æ•°ä¸å˜é‡åå¯¹åº”èµ·æ¥ã€‚ 1234567// å‚æ•°æ˜¯ä¸€ç»„æœ‰æ¬¡åºçš„å€¼function f([x, y, z]) { ... }f([1, 2, 3]);// å‚æ•°æ˜¯ä¸€ç»„æ— æ¬¡åºçš„å€¼function f({x, y, z}) { ... }f({z: 3, y: 2, x: 1}); ï¼ˆ4ï¼‰æå– JSON æ•°æ® è§£æ„èµ‹å€¼å¯¹æå– JSON å¯¹è±¡ä¸­çš„æ•°æ®ï¼Œå°¤å…¶æœ‰ç”¨ã€‚ 12345678910let jsonData = { id: 42, status: &quot;OK&quot;, data: [867, 5309]};let { id, status, data: number } = jsonData;console.log(id, status, number);// 42, &quot;OK&quot;, [867, 5309] ä¸Šé¢ä»£ç å¯ä»¥å¿«é€Ÿæå– JSON æ•°æ®çš„å€¼ã€‚ ï¼ˆ5ï¼‰å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ 1234567891011jQuery.ajax = function (url, { async = true, beforeSend = function () {}, cache = true, complete = function () {}, crossDomain = false, global = true, // ... more config} = {}) { // ... do stuff}; æŒ‡å®šå‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±é¿å…äº†åœ¨å‡½æ•°ä½“å†…éƒ¨å†å†™var foo = config.foo || 'default foo';è¿™æ ·çš„è¯­å¥ã€‚ ï¼ˆ6ï¼‰éå† Map ç»“æ„ ä»»ä½•éƒ¨ç½²äº† Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨for...ofå¾ªç¯éå†ã€‚Map ç»“æ„åŸç”Ÿæ”¯æŒ Iterator æ¥å£ï¼Œé…åˆå˜é‡çš„è§£æ„èµ‹å€¼ï¼Œè·å–é”®åå’Œé”®å€¼å°±éå¸¸æ–¹ä¾¿ã€‚ 123456789const map = new Map();map.set('first', 'hello');map.set('second', 'world');for (let [key, value] of map) { console.log(key + &quot; is &quot; + value);}// first is hello// second is world å¦‚æœåªæƒ³è·å–é”®åï¼Œæˆ–è€…åªæƒ³è·å–é”®å€¼ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ 123456789// è·å–é”®åfor (let [key] of map) { // ...}// è·å–é”®å€¼for (let [,value] of map) { // ...} ï¼ˆ7ï¼‰è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³• åŠ è½½æ¨¡å—æ—¶ï¼Œå¾€å¾€éœ€è¦æŒ‡å®šè¾“å…¥å“ªäº›æ–¹æ³•ã€‚è§£æ„èµ‹å€¼ä½¿å¾—è¾“å…¥è¯­å¥éå¸¸æ¸…æ™°ã€‚ 1const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;);","link":"/JavaScript/8.%E5%8F%98%E9%87%8F%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/"},{"title":"è¿­ä»£å™¨","text":"1.Iterator(éå†å™¨)çš„æ¦‚å¿µJavaScriptåŸæœ‰çš„è¡¨ç¤ºé›†åˆçš„æ•°æ®ï¼Œä¸»è¦æ˜¯æ•°ç»„å’Œå¯¹è±¡ï¼ŒES6åˆæ·»åŠ äº†Mapå’ŒSetç»“æ„ï¼Œè¿™æ ·å°±æœ‰äº†å››ç§æ•°æ®é›†åˆ è¿™æ ·å°±éœ€è¦ä¸€ç§ç»Ÿä¸€çš„æ¥å£æœºåˆ¶ï¼Œæ¥å¤„ç†æ‰€æœ‰ä¸åŒçš„æ•°æ®ç»“æ„ éå†å™¨(Iterator)å°±æ˜¯è¿™æ ·çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸ºä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ã€‚ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº†Iteratoræ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œ(å³ä¾æ¬¡å¤„ç†è¯¥æ•°æ®ç»“æ„çš„æ‰€æœ‰æˆå‘˜) Iterator çš„ä½œç”¨æœ‰ä¸‰ä¸ªï¼šä¸€æ˜¯ä¸ºå„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„è®¿é—®æ¥å£ï¼›äºŒæ˜¯ä½¿å¾—æ•°æ®ç»“æ„çš„æˆå‘˜èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’åˆ—ï¼›ä¸‰æ˜¯ ES6 åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤for...ofå¾ªç¯ï¼ŒIterator æ¥å£ä¸»è¦ä¾›for...ofæ¶ˆè´¹ã€‚ éå†è¿‡ç¨‹ åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ŒæŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œéå†å™¨çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ ä¸æ–­è°ƒç”¨è¿™ä¸ªæŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œè¿”å›æ•°æ®ç»“æ„çš„å½“å‰æˆå‘˜ä¿¡æ¯ï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼Œå…¶ä¸­ï¼Œvalueå°±æ˜¯å½“å‰æˆå‘˜çš„å€¼ï¼Œdoneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸ 12345678910111213141516var it = makeIterator(['a', 'b']);it.next() // { value: &quot;a&quot;, done: false }it.next() // { value: &quot;b&quot;, done: false }it.next() // { value: undefined, done: true }function makeIterator(array) { var nextIndex = 0; return { next: function() { return nextIndex &lt; array.length ? {value: array[nextIndex++], done: false} : {value: undefined, done: true}; } };} 2.é»˜è®¤Iteratoræ¥å£Iteratoræ¥å£çš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºæ‰€æœ‰çš„æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ç§ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ï¼Œå³for...ofå¾ªç¯ ä¸€ç§æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº† Iterator æ¥å£ï¼Œæˆ‘ä»¬å°±ç§°è¿™ç§æ•°æ®ç»“æ„æ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰ ES6 è§„å®šï¼Œé»˜è®¤çš„ Iterator æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„Symbol.iteratorå±æ€§ï¼Œæˆ–è€…è¯´ï¼Œä¸€ä¸ªæ•°æ®ç»“æ„åªè¦å…·æœ‰Symbol.iteratorå±æ€§ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰ã€‚ ES6 çš„æœ‰äº›æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡ Iterator æ¥å£ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ï¼Œå³ä¸ç”¨ä»»ä½•å¤„ç†ï¼Œå°±å¯ä»¥è¢«for...ofå¾ªç¯éå†ã€‚åŸå› åœ¨äºï¼Œè¿™äº›æ•°æ®ç»“æ„åŸç”Ÿéƒ¨ç½²äº†Symbol.iteratorå±æ€§ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œå¦å¤–ä¸€äº›æ•°æ®ç»“æ„æ²¡æœ‰ï¼ˆæ¯”å¦‚å¯¹è±¡ï¼‰ã€‚å‡¡æ˜¯éƒ¨ç½²äº†Symbol.iteratorå±æ€§çš„æ•°æ®ç»“æ„ï¼Œå°±ç§°ä¸ºéƒ¨ç½²äº†éå†å™¨æ¥å£ã€‚è°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ã€‚ åŸç”Ÿå…·å¤‡ Iterator æ¥å£çš„æ•°æ®ç»“æ„å¦‚ä¸‹ã€‚ Array Map Set String TypedArray å‡½æ•°çš„ arguments å¯¹è±¡ NodeList å¯¹è±¡ 1234567let arr = ['a', 'b', 'c'];let iter = arr[Symbol.iterator]();iter.next() // { value: 'a', done: false }iter.next() // { value: 'b', done: false }iter.next() // { value: 'c', done: false }iter.next() // { value: undefined, done: true } å¯¹è±¡ï¼ˆObjectï¼‰ä¹‹æ‰€ä»¥æ²¡æœ‰é»˜è®¤éƒ¨ç½² Iterator æ¥å£ï¼Œæ˜¯å› ä¸ºå¯¹è±¡çš„å“ªä¸ªå±æ€§å…ˆéå†ï¼Œå“ªä¸ªå±æ€§åéå†æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦å¼€å‘è€…æ‰‹åŠ¨æŒ‡å®šã€‚æœ¬è´¨ä¸Šï¼Œéå†å™¨æ˜¯ä¸€ç§çº¿æ€§å¤„ç†ï¼Œå¯¹äºä»»ä½•éçº¿æ€§çš„æ•°æ®ç»“æ„ï¼Œéƒ¨ç½²éå†å™¨æ¥å£ï¼Œå°±ç­‰äºéƒ¨ç½²ä¸€ç§çº¿æ€§è½¬æ¢ã€‚ä¸è¿‡ï¼Œä¸¥æ ¼åœ°è¯´ï¼Œå¯¹è±¡éƒ¨ç½²éå†å™¨æ¥å£å¹¶ä¸æ˜¯å¾ˆå¿…è¦ï¼Œå› ä¸ºè¿™æ—¶å¯¹è±¡å®é™…ä¸Šè¢«å½“ä½œ Map ç»“æ„ä½¿ç”¨ï¼ŒES5 æ²¡æœ‰ Map ç»“æ„ï¼Œè€Œ ES6 åŸç”Ÿæä¾›äº† 3.è°ƒç”¨ Iterator æ¥å£çš„åœºåˆæœ‰ä¸€äº›åœºåˆä¼šé»˜è®¤è°ƒç”¨ Iterator æ¥å£ï¼ˆå³Symbol.iteratoræ–¹æ³•ï¼‰ï¼Œé™¤äº†ä¸‹æ–‡ä¼šä»‹ç»çš„for...ofå¾ªç¯ï¼Œè¿˜æœ‰å‡ ä¸ªåˆ«çš„åœºåˆã€‚ ï¼ˆ1ï¼‰è§£æ„èµ‹å€¼ å¯¹æ•°ç»„å’Œ Set ç»“æ„è¿›è¡Œè§£æ„èµ‹å€¼æ—¶ï¼Œä¼šé»˜è®¤è°ƒç”¨Symbol.iteratoræ–¹æ³•ã€‚ 1234567let set = new Set().add('a').add('b').add('c');let [x,y] = set;// x='a'; y='b'let [first, ...rest] = set;// first='a'; rest=['b','c']; ï¼ˆ2ï¼‰æ‰©å±•è¿ç®—ç¬¦ æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ä¹Ÿä¼šè°ƒç”¨é»˜è®¤çš„ Iterator æ¥å£ã€‚ 12345678// ä¾‹ä¸€var str = 'hello';[...str] // ['h','e','l','l','o']// ä¾‹äºŒlet arr = ['b', 'c'];['a', ...arr, 'd']// ['a', 'b', 'c', 'd'] ä¸Šé¢ä»£ç çš„æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨å°±è°ƒç”¨ Iterator æ¥å£ã€‚ å®é™…ä¸Šï¼Œè¿™æä¾›äº†ä¸€ç§ç®€ä¾¿æœºåˆ¶ï¼Œå¯ä»¥å°†ä»»ä½•éƒ¨ç½²äº† Iterator æ¥å£çš„æ•°æ®ç»“æ„ï¼Œè½¬ä¸ºæ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æŸä¸ªæ•°æ®ç»“æ„éƒ¨ç½²äº† Iterator æ¥å£ï¼Œå°±å¯ä»¥å¯¹å®ƒä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚ 1let arr = [...iterable]; ï¼ˆ3ï¼‰yield* yield*åé¢è·Ÿçš„æ˜¯ä¸€ä¸ªå¯éå†çš„ç»“æ„ï¼Œå®ƒä¼šè°ƒç”¨è¯¥ç»“æ„çš„éå†å™¨æ¥å£ã€‚ 1234567891011121314let generator = function* () { yield 1; yield* [2,3,4]; yield 5;};var iterator = generator();iterator.next() // { value: 1, done: false }iterator.next() // { value: 2, done: false }iterator.next() // { value: 3, done: false }iterator.next() // { value: 4, done: false }iterator.next() // { value: 5, done: false }iterator.next() // { value: undefined, done: true } ï¼ˆ4ï¼‰å…¶ä»–åœºåˆ ç”±äºæ•°ç»„çš„éå†ä¼šè°ƒç”¨éå†å™¨æ¥å£ï¼Œæ‰€ä»¥ä»»ä½•æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°çš„åœºåˆï¼Œå…¶å®éƒ½è°ƒç”¨äº†éå†å™¨æ¥å£ã€‚ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚ forâ€¦of Array.from() Map(), Set(), WeakMap(), WeakSet()ï¼ˆæ¯”å¦‚new Map([['a',1],['b',2]])ï¼‰ Promise.all() Promise.race()","link":"/JavaScript/9.Iterator%E5%92%8Cfor...of%E5%BE%AA%E7%8E%AF/"},{"title":"JavaScriptç¬”è®°","text":"1.æ·±æ‹·è´å’Œæµ…æ‹·è´ æµ…æ‹·è´ï¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ç€åŸå§‹å¯¹è±¡çš„ä¸€ä»½ç²¾ç¡®æ‹·è´ã€‚å¦‚æœå±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ æ·±æ‹·è´ï¼šå°†ä¸€ä¸ªå¯¹è±¡ä»ä¸€ä¸ªå†…å­˜ä¸­å®Œæ•´åœ°æ‹·è´å‡ºæ¥ï¼Œä»å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªæ–°çš„åŒºåŸŸå­˜æ”¾è¿™ä¸ªæ–°å¯¹è±¡ï¼Œæ–°å¯¹è±¡çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå¯¹è±¡ æµ…æ‹·è´å®ç° Object.assign() æ‰©å±•è¿ç®—ç¬¦(â€¦) Array.prototype.slice() æ·±æ‹·è´å®ç° JSON.parase(JSON.stringify(obj)) ä¼šå¿½ç•¥undefined Symbol ä¸èƒ½åºåˆ—åŒ–å‡½æ•° ä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ ä¸èƒ½æ­£ç¡®å¤„ç† new Date() ä¸èƒ½å¤„ç†æ­£åˆ™ æ‰‹å†™ 123456789101112131415function deepClone(obj) { let res; if(Object.prototype.toString.call(obj).slice(8,-1) === 'Object') { res = {} } else if(Array.isArray(obj)) { res = [] } else { return obj } for(const key in obj) { res[key] = deepClone(obj[key]) } return res;} 2.è·¨åŸŸ1.åŒæºç­–ç•¥è·¨è¶Šçš„æœ¬è´¨å…¶å®å°±æ˜¯æŒ‡ä¸¤ä¸ªåœ°å€ä¸åŒæºï¼ŒåŒæºæŒ‡çš„æ˜¯ï¼šä¸¤ä¸ªURLçš„åè®®ï¼ŒåŸŸåå’Œç«¯å£å·éƒ½ç›¸åŒï¼Œåˆ™å°±æ˜¯ä¸¤ä¸ªåŒæºçš„URL 1234567// éåŒæºhttp://www.baidu.comhttps://www.baidu.com// åŒæºhttp://www.baidu.comhttp://www.baidu.com?query=1 åŒæºç­–ç•¥æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ªoriginçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å…¶ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ä¿æŠ¤ç”¨æˆ·ä¿¡æ¯çš„å®‰å…¨ï¼Œé˜²æ­¢æ¶æ„ç½‘ç«™çªƒå–æ•°æ®ï¼Œæ˜¯æµè§ˆå™¨åœ¨Webé¡µé¢å±‚é¢åšçš„å®‰å…¨ä¿æŠ¤ 2.åŒæºç­–ç•¥çš„è¡¨ç°åŒæºç­–ç•¥ä¸»è¦çš„é™åˆ¶æœ‰ä¸‰ä¸ªå±‚é¢ï¼šDOMå±‚é¢ï¼Œæ•°æ®å±‚é¢å’Œç½‘ç»œå±‚é¢ DOMå±‚é¢åŒæºç­–ç•¥é™åˆ¶äº†æ¥è‡ªä¸åŒæºçš„JavaScriptè„šæœ¬å¯¹å½“å‰æºçš„DOMå¯¹è±¡è¿›è¡Œè¯»å’Œå†™çš„æ“ä½œ æ•°æ®å±‚é¢åŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒæºç«™ç‚¹è¯»å–å½“å‰ç«™ç‚¹çš„Cookieï¼ŒIndexDBï¼ŒLocalStorageç­‰æ•°æ® ç½‘ç»œå±‚é¢åŒæºç­–ç•¥é™åˆ¶äº†é€šè¿‡XMLHttpRequestç­‰æ–¹å¼å°†ç«™ç‚¹çš„æ•°æ®å‘é€ç»™ä¸åŒæºçš„ç«™ç‚¹ 3.è·¨åŸŸåˆ†ç±»åŒæºç­–ç•¥è™½ç„¶ä¿è¯äº†æµè§ˆå™¨çš„å®‰å…¨ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è®¿é—®ä¸åŒæºçš„æ•°æ®ç­‰ï¼Œå› æ­¤æœ‰æ—¶æˆ‘ä»¬éœ€è¦è¿›è¡Œè·¨è¶Šæ“ä½œ 1.DOMå±‚é¢ç‰‡æ®µæ ‡è¯†ç¬¦ ç‰‡æ®µæ ‡è¯†ç¬¦çš„æ ¸å¿ƒåŸç†å°±æ˜¯é€šè¿‡ç›‘å¬urlä¸­hashçš„æ”¹å˜æ¥å®ç°æ•°æ®çš„ä¼ é€’ 123456789101112131415161718192021// çˆ¶é¡µé¢parentHtml.html&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh&quot;&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; æˆ‘æ˜¯çˆ¶é¡µé¢ &lt;button id='btn'&gt;çˆ¶ä¼ ç»™å­&lt;/button&gt; &lt;iframe src=&quot;./childHtml.html&quot; id=&quot;childHtmlId&quot;&gt;&lt;/iframe&gt; &lt;/body&gt; &lt;script&gt; window.onhashchange = function() { console.log(decodeURIComponent(window.location.hash)); }; document.getElementById('btn').addEventListener('click', () =&gt; { const iframeDom = document.getElementById('childHtmlId'); iframeDom.src += '#çˆ¶ä¼ ç»™å­'; }); &lt;/script&gt;&lt;/html&gt; 1234567891011121314151617181920// å­é¡µé¢childHtml.html&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh&quot;&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; æˆ‘æ˜¯å­é¡µé¢ &lt;button id='btn'&gt;å­ä¼ ç»™çˆ¶&lt;/button&gt; &lt;/body&gt; &lt;script&gt; window.onhashchange = function() { console.log(decodeURIComponent(window.location.hash)); }; document.getElementById('btn').addEventListener('click', () =&gt; { parent.location.href += '#å­ä¼ ç»™çˆ¶'; }); &lt;/script&gt;&lt;/html&gt; window.name æµè§ˆå™¨çª—å£æœ‰window.nameå±æ€§ï¼Œè¿™ä¸ªå±æ€§æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œæ— è®ºæ˜¯å¦åŒæºï¼Œåªè¦åœ¨åŒä¸€ä¸ªçª—å£é‡Œé¢ï¼Œå‰ä¸€ä¸ªç½‘é¡µè®¾ç½®çš„å±æ€§åä¸€ä¸ªç½‘é¡µå°±å¯ä»¥è¯»å–å®ƒã€‚å¦‚æœéœ€è¦å®ç°çˆ¶é¡µé¢å’Œè·¨åŸŸçš„å­é¡µé¢ä¹‹é—´çš„é€šä¿¡ï¼Œéœ€è¦ä¸€ä¸ªå’Œçˆ¶é¡µé¢åŒæºçš„å­é¡µé¢ä½œä¸ºä¸­ä»‹ï¼Œå°†è·¨åŸŸçš„å­é¡µé¢ä¸­çš„ä¿¡æ¯ä¼ é€’è¿‡æ¥ã€‚ document.domain document.domainæ˜¯å­˜æ”¾æ–‡æ¡£çš„æœåŠ¡å™¨ä¸»æœºåï¼Œå¯é€šè¿‡æ‰‹åŠ¨è®¾ç½®å°†å…¶è®¾ç½®æˆå½“å‰åŸŸåæˆ–è€…ä¸Šçº§åŸŸåï¼Œå½“å…·æœ‰åŒdocument.domainçš„é¡µé¢å°±ç›¸å½“äºå¤„äºåŒåŸŸåçš„æœåŠ¡å™¨ä¸Šï¼Œå¦‚æœå…¶åŸŸåå’Œç«¯å£å·ç›¸åŒï¼Œå°±å¯ä»¥å®ç°è·¨è¶Šè®¿é—®èµ„æº postMessage postMessageæ˜¯HTML5æ–°å¢çš„è·¨æ–‡æ¡£é€šä¿¡API é€šè¿‡ç›‘å¬messageäº‹ä»¶æ¥æ¥å—æ•°æ® é€šè¿‡contentWindow.postMessage()å‡½æ•°æ¥å‘ç”Ÿæ•°æ® 123456789101112131415161718192021// çˆ¶é¡µé¢&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh&quot;&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; æˆ‘æ˜¯çˆ¶é¡µé¢ &lt;button id='btn'&gt;çˆ¶ä¼ ç»™å­&lt;/button&gt; &lt;iframe src=&quot;http://127.0.0.1:5500/024/childHtml.html&quot; id=&quot;childHtmlId&quot;&gt;&lt;/iframe&gt; &lt;/body&gt; &lt;script&gt; window.addEventListener('message', function(event) { console.log('çˆ¶é¡µé¢æ¥æ”¶åˆ°ä¿¡æ¯', event.data); }); document.getElementById('btn').addEventListener('click', () =&gt; { const iframeDom = document.getElementById('childHtmlId'); iframeDom.contentWindow.postMessage('æˆ‘æ˜¯æ‰§é¸¢è€…1', 'http://127.0.0.1:5500/024/childHtml1.html'); }); &lt;/script&gt;&lt;/html&gt; 1234567891011121314151617181920// å­é¡µé¢&lt;!DOCTYPE html&gt;&lt;html lang=&quot;zh&quot;&gt; &lt;head&gt; &lt;title&gt;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; æˆ‘æ˜¯å­é¡µé¢ &lt;button id='btn'&gt;å­ä¼ ç»™çˆ¶&lt;/button&gt; &lt;/body&gt; &lt;script&gt; window.addEventListener('message', function(event) { console.log('å­é¡µé¢æ¥æ”¶åˆ°ä¿¡æ¯', event.data); }); document.getElementById('btn').addEventListener('click', () =&gt; { parent.postMessage('æˆ‘æ˜¯æ‰§é¸¢è€…2', 'http://127.0.0.1:5500/024/parentHtml1.html'); }); &lt;/script&gt;&lt;/html&gt; 2.ç½‘ç»œå±‚é¢åŒæºç­–ç•¥å¯¹ç½‘ç»œå±‚é¢çš„é™åˆ¶ä¸»è¦åœ¨äºä¸å…è®¸é€šè¿‡XMLHttpRequestç­‰æ–¹å¼è®¿é—®éåŒæºç«™ç‚¹çš„èµ„æºï¼Œç›®å‰ä¸»è¦çš„è§£å†³æ–¹æ³•æœ‰ä¸‰ç§ é€šè¿‡ä»£ç†å®ç° åŒæºç­–ç•¥ä¸»è¦æ˜¯æµè§ˆå™¨ä¸ºäº†å®‰å…¨è€Œåˆ¶å®šçš„ç­–ç•¥ï¼Œè€ŒæœåŠ¡ç«¯ä¹‹é—´ä¸å­˜åœ¨è¿™æ ·çš„é™åˆ¶ï¼Œå› æ­¤å¯ä»¥å…ˆå°†è¯·æ±‚å‘é€åˆ°åŒæºçš„æœåŠ¡å™¨ä¸Šï¼Œç„¶åé€šè¿‡åŒæºæœåŠ¡å™¨ä»£ç†è‡³æœ€ç»ˆæœåŠ¡å™¨ï¼Œä»è€Œå®ç°è·¨åŸŸè®¿é—®èµ„æºï¼Œæ¯”å¦‚Nodeä¸­é—´ä»¶ä»£ç†ï¼ŒNginxæ–¹å‘ä»£ç†ç­‰ NodeJSä»£ç† 123456789101112131415161718192021222324252627282930313233343536// server1.js ä»£ç†æœåŠ¡å™¨(http://localhost:3000)const http = require('http')// ç¬¬ä¸€æ­¥ï¼šæ¥å—å®¢æˆ·ç«¯è¯·æ±‚const server = http.createServer((request, response) =&gt; { // ä»£ç†æœåŠ¡å™¨ï¼Œç›´æ¥å’Œæµè§ˆå™¨ç›´æ¥äº¤äº’ï¼Œéœ€è¦è®¾ç½®CORS çš„é¦–éƒ¨å­—æ®µ response.writeHead(200, { 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Methods': '*', 'Access-Control-Allow-Headers': 'Content-Type' }) // ç¬¬äºŒæ­¥ï¼šå°†è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨ http.request( { host: '127.0.0.1', port: 4000, url: '/', method: request.method, headers: request.headers }, serverResponse =&gt; { // ç¬¬ä¸‰æ­¥ï¼šæ”¶åˆ°æœåŠ¡å™¨çš„å“åº” var body = '' serverResponse.on('data', chunk =&gt; { body += chunk }) serverResponse.on('end', () =&gt; { console.log('The data is ' + body) // ç¬¬å››æ­¥ï¼šå°†å“åº”ç»“æœè½¬å‘ç»™æµè§ˆå™¨ response.end(body) }) } ).end()})server.listen(3000, () =&gt; { console.log('The proxyServer is running at http://localhost:3000')}) JSONP JSONPçš„åŸç†å…¶å®å°±æ˜¯åˆ©ç”¨scriptæ ‡ç­¾ä¸ä¼šè¢«åŒæºç­–ç•¥é™åˆ¶çš„ç‰¹ç‚¹ï¼Œé€šè¿‡ç›‘å¬ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå°†è¿™ä¸ªå›è°ƒå‡½æ•°çš„å‡½æ•°åä½œä¸ºå‚æ•°å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ç›´æ¥è¿è¡Œè¿™ä¸ªå‡½æ•°å¹¶å°†æ•°æ®é€šè¿‡å½¢å‚çš„æ–¹å¼ä¼ å›å³å¯ scriptæ ‡ç­¾ç‰¹ç‚¹ï¼šsrcå±æ€§èƒ½å¤Ÿè®¿é—®ä»»ä½•URLèµ„æºï¼Œä¸ä¼šå—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ã€‚å¦‚æœè®¿é—®çš„èµ„æºåŒ…å«JavaScriptä»£ç ï¼Œå…¶ä¼šåœ¨ä¸‹è½½åè‡ªåŠ¨æ‰§è¡Œ CORS è·¨åŸŸå…±äº«èµ„æºï¼Œä¸»è¦çš„åŸç†æ˜¯æœåŠ¡ç«¯è®¾ç½®Access-Control-Allow-Originç­‰å“åº”å¤´ï¼Œæºå¸¦è¿™ä¸ªå“åº”å¤´çš„httpè¯·æ±‚ï¼Œå¹¶ä¸ä¼šè¢«æµè§ˆå™¨æ‹¦æˆª ç®€å•è¯·æ±‚ è¯·æ±‚æ–¹å¼ä»…é™äºGET POST HEAD Content-Typeä»…é™äºtext/plain mutipart/form-data application/x-www-form-urlencoded éç®€å•è¯·æ±‚ PUT DELETEæ–¹æ³• å‘é€jsonæ ¼å¼ æºå¸¦è‡ªå®šä¹‰è¯·æ±‚å¤´ 3.åŸå‹å’ŒåŸå‹é“¾ åŸå‹ åœ¨JavaScriptä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§(æ³¨æ„æ˜¯å‡½æ•°ï¼Œæ™®é€šå¯¹è±¡æ˜¯æ²¡æœ‰çš„)ï¼ŒæŒ‡å‘ä¸€ä¸ªå®ä¾‹åŸå‹å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ª__proto__å±æ€§å…³è”å®ƒä»¬æ„é€ å‡½æ•°çš„å®ä¾‹åŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªå°±æ˜¯è¯¥å¯¹è±¡çš„åŸå‹ å®ä¾‹åŸå‹æ²¡æœ‰æŒ‡å‘å®ä¾‹çš„å±æ€§ï¼Œä½†æœ‰æŒ‡å‘æ„é€ å‡½æ•°çš„å±æ€§ï¼Œæ¯ä¸ªå®ä¾‹åŸå‹é€šè¿‡constructorå±æ€§æŒ‡å‘å¯¹åº”çš„æ„é€ å‡½æ•° åŸå‹é“¾ å½“æˆ‘ä»¬è¦è¯»å–å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå±æ€§æ—¶ï¼ŒJavaScriptå¼•æ“ä¼šå…ˆåœ¨è¯¥å¯¹è±¡ä¸Šå¯»æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæ²¿ç€__proto__å±æ€§åˆ°å®ƒæ„é€ å‡½æ•°çš„å®ä¾‹åŸå‹ä¸Šå¯»æ‰¾ï¼Œè‹¥å®ä¾‹åŸå‹ä¸Šæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæ²¿ç€å®ä¾‹åŸå‹çš„åŸå‹(å®ä¾‹åŸå‹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡)å»Object()è¿™ä¸ªæ„é€ å‡½æ•°å¯¹åº”çš„å®ä¾‹åŸå‹ä¸Šå¯»æ‰¾ï¼Œè€Œå¯¹è±¡çš„æ„é€ å‡½æ•°çš„å®ä¾‹åŸå‹çš„__proto__å±æ€§æŒ‡å‘nullï¼ŒåŸå‹é“¾å°±æ˜¯__proto__çš„æ£€ç´¢è·¯å¾„ 3.å£°æ˜å˜é‡å…³é”®å­—var ä½¿ç”¨varå…³é”®å­—å£°æ˜çš„å˜é‡ä¼šè¢«ç›´æ¥ç»‘å®šåˆ°windowå¯¹è±¡ä¸Š 12var a = 2;console.log(window.a); // 2 ä½¿ç”¨varå…³é”®å­—å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿åœ¨å£°æ˜ä¹‹å‰è¾“å‡ºè¯¥å˜é‡ä¹Ÿä¸ä¼šæŠ¥é”™ 12console.log(a) // undefinedvar a = 2; å¯ä»¥é‡å¤å£°æ˜å˜é‡ 123var a = 1;var a = 2;console.log(a); // 2 letå’Œconst ä½¿ç”¨let/constå…³é”®å­—å£°æ˜çš„å˜é‡ä¸å­˜åœ¨å˜é‡æå‡ 12console.log(a); // Errorlet a; ä½¿ç”¨let/constå…³é”®å­—å£°æ˜çš„å˜é‡å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº 12345let a = 2;{ console.log(a); // Error let a = 3;} ä½¿ç”¨let/constå…³é”®å­—å£°æ˜çš„å˜é‡æ— æ³•é‡å¤å£°æ˜ 123let a = 1;let a = 2;console.log(a); // Error ä½¿ç”¨let/constå…³é”®å­—å£°æ˜çš„å˜é‡ï¼Œå­˜åœ¨å—çº§ä½œç”¨åŸŸ 123456let a = 1;{ let a = 2; console.log(a); // 2}console.log(a); // 1 ä½¿ç”¨constå…³é”®å­—å£°æ˜å˜é‡æ—¶ï¼Œå¿…é¡»æŒ‡å®šåˆå§‹å€¼ 12const a;console.log(a); // Error 4.ä½œç”¨åŸŸä½œç”¨åŸŸï¼ŒæŒ‡çš„æ˜¯å˜é‡å­˜åœ¨çš„èŒƒå›´ã€‚åœ¨JavaScriptä¸­ï¼Œä¸€å…±æœ‰ä¸‰ç§ä½œç”¨åŸŸï¼Œåˆ†åˆ«æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œå‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ å…¨å±€ä½œç”¨åŸŸåœ¨å…¨å±€å£°æ˜çš„å˜é‡å­˜åœ¨äºå…¨å±€ä½œç”¨åŸŸä¸­ 12345var a = 1;function fn() { console.log(a); // 1} å‡½æ•°ä½œç”¨åŸŸåœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡ï¼Œæ— æ³•åœ¨å‡½æ•°å¤–è·å– 123456function fn() { var a = 1; console.log(a); // 1}fn();console.log(a); // Error å¯¹äºvarå…³é”®å­—æ¥è¯´ï¼Œå±€éƒ¨å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨å£°æ˜ï¼Œåœ¨å…¶å®ƒåŒºå—ä¸­å£°æ˜ï¼Œä¸€å¾‹éƒ½æ˜¯å…¨å±€å˜é‡ 1234if (true) { var x = 5;}console.log(x); // 5 å‡½æ•°å†…éƒ¨çš„å˜é‡æå‡ä¸å…¨å±€ä½œç”¨åŸŸä¸€æ ·ï¼Œå‡½æ•°ä½œç”¨åŸŸå†…éƒ¨ä¹Ÿä¼šäº§ç”Ÿå˜é‡æå‡ç°è±¡ 12345678910111213function fn() { console.log(x); // undefined if (false) { var x; }}fn();// ç­‰åŒäºfunction fn() { var x; console.log(x); // undefined} å‡½æ•°æœ¬èº«çš„ä½œç”¨åŸŸå‡½æ•°æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå€¼ï¼Œä¹Ÿæœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå®ƒçš„ä½œç”¨åŸŸå’Œå…¶å®ƒå˜é‡ä¸€æ ·ï¼Œå°±æ˜¯å£°æ˜æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œä¸å…¶è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸæ— å…³ 123456789101112var a = 1;function x() { console.log(a);}function f() { var a = 2; x();}f() // 1 å³ä½¿ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå…¶ä½œç”¨åŸŸä¹Ÿæ˜¯ç»‘å®šåœ¨å…¶å®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸ 123456789101112var a = 1;function x() { console.log(a);}function f(fn) { var a = 2; fn();}f(x) // 1 åŒæ ·çš„ï¼Œå¦‚æœåœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å‡½æ•°ï¼Œå…¶ä½œç”¨åŸŸå°±æ˜¯ç»‘å®šåœ¨å‡½æ•°å†…éƒ¨ 12345678910111213var a = 1;function fn() { var a = 2; return function () { console.log(a); }}var x = fn();x(); // 2 5.PromisePromiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæä¾›ç»Ÿä¸€çš„APIç”¨æ¥å¤„ç†å„ç§å¼‚æ­¥æ“ä½œã€‚ç®€å•æ¥è¯´ï¼ŒPromiseå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶(é€šå¸¸æ˜¯å¼‚æ­¥æ“ä½œ)çš„ç»“æœï¼›ä»è¯­æ³•ä¸Šæ¥è®²ï¼ŒPromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚ Promiseå¯¹è±¡æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š ä¸€æ˜¯å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œçš„å½±å“ã€‚å®ƒæœ‰ä¸‰ç§çŠ¶æ€ï¼Œpending(è¿›è¡Œä¸­)ï¼Œfulfilled(å·²å®Œæˆ)å’Œrejected(å·²å¤±è´¥)ï¼Œåªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œæ‰èƒ½å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ äºŒæ˜¯ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼ŒPromiseå¯¹è±¡çŠ¶æ€çš„æ”¹å˜åªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»pendingå˜ä¸ºfulfilledå’Œä»pendingå˜ä¸ºrejected Promiseå¯¹è±¡çš„ç¼ºç‚¹ï¼š æ— æ³•å–æ¶ˆï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œã€‚ å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ å½“å¤„äºpendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆ) æ„é€ å‡½æ•°ä¸Šçš„æ–¹æ³• Promise.all()ï¼šæ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªPromiseå®ä¾‹ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ åªæœ‰æˆå‘˜ä¸­æ‰€æœ‰çŠ¶æ€éƒ½å˜æˆresolveï¼Œæ–°å®ä¾‹çš„çŠ¶æ€æ‰ä¼šå˜æˆresolveï¼Œåªè¦æœ‰ä¸€ä¸ªæˆå‘˜çš„çŠ¶æ€å˜æˆrejectï¼Œæ–°å®ä¾‹çš„çŠ¶æ€å°±ä¼šå˜æˆreject å¦‚æœæˆå‘˜æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œé‚£ä¹ˆå½“è¯¥æˆå‘˜çŠ¶æ€å˜æˆrejectæ—¶ï¼Œæ–°å®ä¾‹çš„çŠ¶æ€å¹¶ä¸ä¼šå˜ä¸ºreject Promise.allSettled() åªæœ‰æ‰€æœ‰æˆå‘˜çš„çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸ è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå¯¹è±¡åŒ…è£¹ç€ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡æœ‰statuså’Œvalueå­—æ®µï¼Œå¦‚æœstatusçš„å€¼ä¸ºrejectedï¼Œåˆ™è¿”å›reasonå­—æ®µ å¦‚æœæˆå‘˜æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œåˆ™ä¸ä¼šè§¦å‘allSettled()çš„rejectçŠ¶æ€ Promise.race() raceæ„ä¸ºèµ›è·‘ï¼Œåªè¦æœ‰ä¸€ä¸ªæˆå‘˜çš„çŠ¶æ€ç‡å…ˆæ”¹å˜ï¼Œé‚£ä¹ˆraceçš„çŠ¶æ€å°±ç›´æ¥å‘ç”Ÿæ”¹å˜å¹¶æ¥å—é‚£ä¸ªæˆå‘˜çš„è¿”å›å€¼ å¦‚æœæˆå‘˜æœ‰è‡ªå·±çš„catchæ–¹æ³•ï¼Œåˆ™ä¸ä¼šè§¦å‘raceçŠ¶æ€çš„æ”¹å˜ Promise.any() ä¸raceç±»ä¼¼ï¼Œåªè¦æœ‰ä¸€ä¸ªå‚æ•°å®ä¾‹å˜æˆresolveçŠ¶æ€ï¼ŒåŒ…è£…å™¨å°±ä¼šå˜ä¸ºfulfilledçŠ¶æ€ï¼Œå¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆrejectedçŠ¶æ€ï¼ŒåŒ…è£…å™¨å®ä¾‹å°±ä¼šå˜æˆrejectedçŠ¶æ€ Promise.resolve()ï¼šå°†ä¸€ä¸ªå¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ å‚æ•°åˆ†ä¸ºå››ç§æƒ…å†µï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š å‚æ•°æ˜¯ä¸€ä¸ªPromiseå®ä¾‹ï¼Œåˆ™åŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå®ä¾‹ å‚æ•°æ˜¯ä¸€ä¸ªthenableå¯¹è±¡ï¼Œåˆ™ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼Œå¹¶ç«‹å³æ‰§è¡Œè¯¥å¯¹è±¡çš„thenæ–¹æ³• å‚æ•°ä¸æ˜¯å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–æ ¹æœ¬ä¸æ˜¯å¯¹è±¡ï¼ŒPromise.resolve()ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œå¹¶ä¸”çŠ¶æ€ä¸ºresolve æ²¡æœ‰å‚æ•°æ—¶ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªresolveçŠ¶æ€çš„Promiseå¯¹è±¡ Promise.reject()ï¼šè¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºrejectedçš„Promiseå¯¹è±¡ å®ä¾‹ä¸Šçš„æ–¹æ³• then()ï¼šæ˜¯Promiseå®ä¾‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶çš„å›è°ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯resolveçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯rejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œthenæ–¹æ³•è¿”å›å€¼æ˜¯ä¸€ä¸ªPromiseå®ä¾‹ï¼Œè¿™ä¹Ÿæ˜¯Promiseå¯ä»¥è¿›è¡Œé“¾å¼ä¹¦å†™çš„åŸå›  catch()ï¼šcatchæ–¹æ³•æ˜¯thenæ–¹æ³•ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•° finally()ï¼šç”¨äºæŒ‡å®šä¸ç®¡Promiseå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œ 6.ç»§æ‰¿ åŸå‹é“¾ç»§æ‰¿ ç›´æ¥å°†çˆ¶ç±»çš„å®ä¾‹èµ‹å€¼ç»™å­ç±»çš„åŸå‹å¯¹è±¡ï¼Œç¼ºç‚¹æ˜¯æ‰€æœ‰ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•éƒ½ä¼šåœ¨å­ç±»å®ä¾‹å¯¹è±¡ä¹‹é—´å…±äº«ï¼Œæ— æ³•åšåˆ°å±æ€§ç§æœ‰åŒ– 12345678910111213function Parent() { this.name = 'Parent';}Parent.prototype.getName = function() { return this.name;}function Child() {}Child.prototype = new Parent();const c = new Child();const c2 = new Child2(); ç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿ åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­ä½¿ç”¨call(æˆ–apply)æ–¹æ³•è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç¼ºç‚¹æ˜¯å­ç±»æ— æ³•ä½¿ç”¨çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³• 1234567891011121314function Parent() { this.name = 'Parent';}Parent.prototype.getName = function() { return this.name;}function Child() { Parent.call(this)}const c = new Child();const c2 = new Child2(); ç»„åˆå¼ç»§æ‰¿ ç»“åˆåŸå‹é“¾ç»§æ‰¿å’Œç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿ï¼Œç¼ºç‚¹æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¼šè¢«å®ä¾‹åŒ–ä¸¤æ¬¡ï¼Œé€ æˆæ€§èƒ½æµªè´¹ 12345678910111213141516function Parent() { this.name = 'Parent';}Parent.prototype.getName = function() { return this.name;}function Child() { // ç¬¬äºŒæ¬¡è°ƒç”¨çˆ¶ç±» Parent.call(this)}Child.prototype = new Parent();// ç¬¬ä¸€æ¬¡è°ƒç”¨çˆ¶ç±»Child.prototype.constructor = Child;const c = new Child();const c2 = new Child2(); åŸå‹å¼ç»§æ‰¿ åŸå‹å¼ç»§æ‰¿å¯ä»¥æ— éœ€æ˜ç¡®å®šä¹‰æ„é€ å‡½æ•°è€Œå®ç°ç»§æ‰¿ã€‚ä½¿ç”¨Object.create()æ–¹æ³•ï¼Œå¯¹ç°æœ‰çš„æ™®é€šå¯¹è±¡è¿›è¡Œä¸€ä»½æµ…æ‹·è´ï¼Œä¼˜ç‚¹æ˜¯æ— éœ€è°ƒç”¨æ„é€ å‡½æ•°ï¼Œç¼ºç‚¹æ˜¯å¯¹è±¡ä¸­çš„å¼•ç”¨å€¼å…±äº«åŒä¸€å†…å­˜ï¼Œå¾ˆå¯èƒ½é€ æˆå€¼çš„ç¯¡æ”¹ 12345678910const parent = { name: 'parent', age: 18, getName: function() { return this.name; }}const child1 = Object.create(parent);const child2 = Object.create(parent); å¯„ç”Ÿå¼ç»§æ‰¿ å’ŒåŸå‹å¼ç»§æ‰¿ç±»å‹ï¼Œå¤šäº†ä¸€ä¸ªç”¨äºç»§æ‰¿çš„å‡½æ•°ï¼Œåœ¨å‡½æ•°ä¸­ä¼šå…ˆåŸºäºåŸå¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åå†å¢å¼ºè¿™ä¸ªæ–°å¯¹è±¡ï¼Œæœ€åè¿”å›æ–°å¯¹è±¡ 1234567891011121314151617function _extend(parent) { const object = Object.create(object); object.prototype.getAge = function() { return this.age; } return object;}const parent = { name: 'parent', age: 18, getName: function() { return this.name; }}const child = _extend(parent); å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ åœ¨ç»„åˆç»§æ‰¿çš„åŸºç¡€ä¸ŠåŠ å…¥å¯„ç”Ÿå¼ç»§æ‰¿ï¼Œå‡å°‘ä¸€æ¬¡çˆ¶ç±»çš„è°ƒç”¨ 12345678910111213141516171819function _extend(parent, child) { const object = Object.create(parent.prototype); object.constructor = child; // æ‰‹åŠ¨æŒ‡å®šåŸå‹å¯¹è±¡ä¸Šçš„constructoræŒ‡å‘å­ç±» child.prototype = object;}function Parent() { this.name = 'Parent';}Parent.prototype.getName = function() { return this.name;}function Child() { Parent.call(this);}_extend(Parent, Child);const c = new Child(); 7.æ‰‹å†™new åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ å°†è¯¥å¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ è°ƒç”¨call(æˆ–apply)æ–¹æ³•ï¼Œå°†æ„é€ å‡½æ•°çš„thisæŒ‡å‘è¯¥å¯¹è±¡ åˆ¤æ–­æ„é€ å‡½æ•°çš„è¿”å›å€¼æ˜¯å¦æ˜¯å¯¹è±¡ï¼Œè‹¥æ˜¯åˆ™ç›´æ¥è¿”å›è¯¥å¯¹è±¡ï¼Œå¦åˆ™å°±è¿”å›è¿™ä¸ªåˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡ 123456function _new(tarent, ...rest) { const object = {}; Object.setPrototypeOf(object, target.prototype); const result = tarent.apply(object, rest); return (result instanceOf Object) ? result : object;} 8.é—­åŒ…ä¸€ä¸ªå‡½æ•°å’Œå…¶å‘¨å›´çŠ¶æ€çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­ï¼Œè®¿é—®åˆ°å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸã€‚ åœ¨JavaScriptä¸­ï¼Œä»»ä½•é—­åŒ…çš„ä½¿ç”¨åœºæ™¯åŸºæœ¬ä¸ŠåŒ…å«ä¸¤ç‚¹ï¼šåˆ›å»ºç§æœ‰å˜é‡ï¼Œå»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ æŸ¯é‡ŒåŒ–å‡½æ•°ï¼šæŸ¯é‡ŒåŒ–çš„ç›®çš„åœ¨äºé¿å…é¢‘ç¹è°ƒç”¨å…·æœ‰ç›¸åŒå‚æ•°å‡½æ•°çš„åŒæ—¶ï¼Œåˆèƒ½è½»æ¾çš„å¤ç”¨ã€‚ å‡½æ•°çš„é˜²æŠ–å’ŒèŠ‚æµ 9.å‡½æ•°é˜²æŠ–å’ŒèŠ‚æµ é˜²æŠ–ï¼šä¸€ä¸ªäº‹ä»¶åœ¨nç§’åæ‰§è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨nç§’å†…è¢«é‡å¤è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ 12345678910111213141516171819202122232425262728293031323334353637function debounce(fn: Function,wait: number) { let timer = 0; return function(...args) { if(timer) { window.clearTimeout(timer); } timer = window.setTimeout(() =&gt; { fn.apply(this, args); }, wait) }}// ç«‹å³æ‰§è¡Œç‰ˆæœ¬function debounce(fn: Function, wait: number, immdiately = false) { let timer = 0; return function (...args: unknown[]) { if (timer) { window.clearTimeout(timer); } if (immdiately) { let callNow = !timer; timer = window.setTimeout(() =&gt; { timer = 0; }, wait); if (callNow) { fn.apply(this, args); } } else { timer = window.setTimeout(() =&gt; { fn.apply(this, args); }, wait); } };} èŠ‚æµï¼šä¸€ä¸ªäº‹ä»¶åœ¨nç§’å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨nç§’å†…é‡å¤è§¦å‘ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ 12345678910function throttled(fn: Function, delay: number) { let timer = 0; return function(...args) { if(timer) return; timer = window.setTimeout(() =&gt; { fn.apply(this, args); timer = 0; }, delay) }} 10.async awaitasyncå‡½æ•°æ˜¯generatorå’ŒPromiseçš„è¯­æ³•ç³–ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ä»¥åŒæ­¥çš„å½¢å¼å»å¤„ç†å¼‚æ­¥é—®é¢˜ï¼Œasyncå‡½æ•°è¿”å›çš„ä¸€å®šæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå†…éƒ¨å¯ä»¥ä½¿ç”¨awaitå…³é”®å­—ï¼Œè¿”å›å¼‚æ­¥ä¿¡æ¯çš„ç»“æœï¼Œawaitå…³é”®å­—åé¢é€šå¸¸ä¹Ÿæ˜¯è·Ÿç€ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è·Ÿä¸€ä¸ªåŸºæœ¬å€¼ æ‰‹å†™å®ç°async awiatå‡½æ•°çš„æ•ˆæœ 12345678910111213141516171819202122232425262728function asyncGenerator(generatorFunc) { return function () { const gen = generatorFunc.apply(this, arguments); return new Promise((resolve, reject) =&gt; { function step(key, arg) { let generatorResult; try { generatorResult = gen[key](arg); } catch (error) { reject(error) } const { value, done } = generatorResult; if (done) { return resolve(value) } else { return Promise.resolve(value).then( (val) =&gt; step('next', val), (err) =&gt; step('throw', err) ) } } step('next'); }) }} 11.å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹æ¡ˆ å›è°ƒå‡½æ•°ï¼šæœ€å¸¸è§çš„å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹å¼ï¼Œç¼ºç‚¹æ˜¯å¤šä¸ªå›è°ƒå‡½æ•°åµŒå¥—ä¼šé€ æˆå›è°ƒåœ°ç‹±ï¼Œä¸åˆ©äºç»´æŠ¤ Promiseï¼šä½¿ç”¨Promiseå¯ä»¥å°†åµŒå¥—çš„å›è°ƒå‡½æ•°ä½œä¸ºé“¾å¼è°ƒç”¨ï¼Œä½†å¤šä¸ªthençš„é“¾å¼è°ƒç”¨ï¼Œå¯èƒ½ä¼šé€ æˆä»£ç è¯­ä¹‰ä¸å¤Ÿæ˜ç¡® generatorï¼šgeneratorå‡½æ•°å¯ä»¥åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå°†å‡½æ•°çš„æ‰§è¡Œæƒè½¬ç§»å‡ºå»ï¼Œåœ¨å‡½æ•°å¤–éƒ¨æˆ‘ä»¬è¿˜å¯ä»¥å°†æ‰§è¡Œæƒè½¬ç§»å›æ¥ï¼Œå½“æˆ‘ä»¬é‡åˆ°å¼‚æ­¥å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå°†å‡½æ•°æ‰§è¡Œæƒè½¬ç§»å‡ºå»ï¼Œå½“å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™æˆ‘ä»¬å†å°†æ‰§è¡Œæƒè½¬ç§»å›æ¥ã€‚å› æ­¤æˆ‘ä»¬åœ¨generatorå†…éƒ¨å¯¹äºå¼‚æ­¥æ“ä½œçš„æ–¹å¼ï¼Œå¯ä»¥ä»¥åŒæ­¥çš„é¡ºåºæ¥å†™ã€‚åªéœ€è¦æˆ‘ä»¬è€ƒè™‘ä½•æ—¶å°†å‡½æ•°æ‰§è¡Œæƒè½¬ç§»å›æ¥ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œgeneratorçš„æœºåˆ¶ï¼Œæ¯”å¦‚coæ¨¡å—ç­‰æ–¹å¼æ¥å®ç°generatorçš„è‡ªåŠ¨æ‰§è¡Œ asyncå‡½æ•°ï¼šasyncå‡½æ•°å…¶å®å°±æ˜¯generatorå’Œpromiseå®ç°çš„ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œçš„è¯­æ³•ç³–ï¼Œå®ƒå†…éƒ¨è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œå½“å‡½æ•°å†…éƒ¨æ‰§è¡Œåˆ°ä¸€ä¸ªawaitè¯­å¥æ—¶ï¼Œå¦‚æœè¯­å¥è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•°å°†ä¼šç­‰å¾…promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºresolveåå†ç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å°†å¼‚æ­¥é€»è¾‘è½¬æ¢ä¸ºåŒæ­¥çš„é¡ºåºæ¥ä¹¦å†™ã€‚ 12.coæ¨¡å—çš„åŸç†Generatorå‡½æ•°åœ¨å¤„ç†å¼‚æ­¥æ“ä½œæ—¶ï¼Œéœ€è¦ä¸€ç§è‡ªåŠ¨æ‰§è¡Œçš„æœºåˆ¶ï¼Œå½“å¼‚æ­¥æ“ä½œæœ‰äº†ç»“æœï¼Œèƒ½å¤Ÿè‡ªåŠ¨äº¤å›æ‰§è¡Œæƒï¼Œä¸¤ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š å›è°ƒå‡½æ•°ï¼šå°†å¼‚æ­¥æ“ä½œåŒ…è£…æˆThunkå‡½æ•°ï¼Œåœ¨å›è°ƒå‡½æ•°é‡Œé¢äº¤å›æ‰§è¡Œæƒ Promiseå¯¹è±¡ï¼Œå°†å¼‚æ­¥æ“ä½œåŒ…è£…æˆPromiseå¯¹è±¡ï¼Œç”¨thenæ–¹æ³•äº¤å›æ‰§è¡Œæƒ coæ¨¡å—å…¶å®å°±æ˜¯å°†è¿™ä¸¤ç§è‡ªåŠ¨æ‰§è¡Œæƒå™¨åŒ…è½¬æˆçš„ä¸€ä¸ªæ¨¡å—ï¼Œæ‰€ä»¥ä½¿ç”¨coçš„å‰ææ¡ä»¶æ˜¯ï¼ŒGeneratorå‡½æ•°çš„yieldå‘½ä»¤åé¢ï¼Œåªèƒ½æ˜¯Thunkå‡½æ•°æˆ–Promiseå¯¹è±¡ 13.è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ï¼šä¸€ä¸ªå¯¹è±¡(è§‚å¯Ÿè€…)è®¢é˜…å¦ä¸€ä¸ªå¯¹è±¡(ä¸»é¢˜)ï¼Œå½“ä¸»é¢˜è¢«æ¿€æ´»çš„æ—¶å€™ï¼Œè§¦å‘è§‚å¯Ÿè€…é‡Œé¢çš„äº‹ä»¶ å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼šè®¢é˜…è€…æŠŠè‡ªå·±æƒ³è¦çš„äº‹ä»¶æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒï¼Œå½“å‘å¸ƒè€…è§¦å‘äº‹ä»¶æ—¶ï¼Œç”±è°ƒåº¦ä¸­å¿ƒç»Ÿä¸€è°ƒåº¦è®¢é˜…è€…æ³¨å†Œåˆ°è°ƒåº¦ä¸­å¿ƒçš„ä»£ç  14.åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³• typeofï¼šå¯ä»¥åˆ¤æ–­é™¤nullä¹‹å¤–çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå‡½æ•°ï¼Œå…¶ä½™çš„å¼•ç”¨æ•°æ®ç±»å‹å…¨éƒ¨è¿”å›object instanceofï¼šåˆ¤æ–­æŸä¸ªå¼•ç”¨æ•°æ®ç±»å‹æ˜¯å¦æ˜¯å¯¹åº”æ„é€ å‡½æ•°çš„å®ä¾‹ 1234567891011121314151617181920212223// æ‰‹å†™instanceoffunction _instanceof(left, right) { // å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ç›´æ¥è¿”å›false if (typeof left !== 'object' || left === null) { return false; } // å–å³ä¾§çš„å®ä¾‹åŸå‹ let rightProto = right.prototype; // å–å·¦ä¾§çš„åŸå‹ let leftProto = Object.getPrototypeOf(left); while (true) { if (leftProto === null) { return false; } if (leftProto === rightProto) { return true; } leftProto = Object.getPrototypeOf(leftProto) }} Object.prototype.toString.call()ï¼šå› ä¸ºtoString()æ˜¯Objectå®ä¾‹åŸå‹ä¸Šçš„æ–¹æ³•ï¼Œè€ŒArrayï¼ŒFunctionç­‰ç±»å‹ä½œä¸ºObjectçš„å®ä¾‹ï¼Œéƒ½é‡å†™äº†toStringæ–¹æ³•ï¼Œä¸åŒçš„å¯¹è±¡ç±»å‹è°ƒç”¨toStringæ–¹æ³•ï¼Œè¿”å›çš„å€¼æ˜¯ä¸ç›¸åŒçš„ï¼ŒArrayè¿”å›å…ƒç´ ç»„æˆçš„å­—ç¬¦ä¸²ï¼ŒFunctionè¿”å›å‡½æ•°ä½“ç­‰ï¼Œå› æ­¤æƒ³è¦è¿”å›å…·ä½“çš„ç±»å‹ï¼Œå¿…é¡»ç›´æ¥è°ƒç”¨Objectå®ä¾‹åŸå‹ä¸Šçš„æ–¹æ³• constructorï¼šæ¯ä¸ªå¯¹è±¡çš„åŸå‹éƒ½æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„å®ä¾‹åŸå‹ï¼Œè€Œå®ä¾‹åŸå‹ä¸Šçš„constructorå±æ€§åˆç›´æ¥æŒ‡å‘å¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œå› æ­¤ç›´æ¥è°ƒç”¨constructorå¯ä»¥åˆ¤æ–­è¯¥å¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹","link":"/JavaScript/JS%E9%9A%8F%E8%AE%B0/"},{"title":"æµè§ˆå™¨äº‹ä»¶å¾ªç¯æœºåˆ¶","text":"å‰è¨€äº‹ä»¶å¾ªç¯æ˜¯JSçš„é‡è¦æ‰§è¡Œæœºåˆ¶ï¼ŒæŒæ¡äº‹ä»¶å¾ªç¯ï¼Œæœ‰åŠ©äºæˆ‘ä»¬åœ¨å‰ç«¯ç¼–ç¨‹ä¸­æ›´ä¸Šä¸€å±‚æ¥¼ æµè§ˆå™¨å¤šè¿›ç¨‹æ¨¡å‹ æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹æ¨¡å‹ï¼Œå…¶ä¸­æœ€ä¸»è¦çš„è¿›ç¨‹åŒ…æ‹¬ï¼š æµè§ˆå™¨ä¸»è¿›ç¨‹ï¼šä¸»è¦è´Ÿè´£ç•Œé¢æ˜¾ç¤ºï¼Œç”¨æˆ·äº¤äº’ï¼Œå­è¿›ç¨‹çš„ç®¡ç†ç­‰ã€‚æµè§ˆå™¨è¿›ç¨‹å†…éƒ¨ä¼šå¯åŠ¨å¤šä¸ªçº¿ç¨‹å¤„ç†ä¸åŒçš„ä»»åŠ¡ã€‚ ç½‘ç»œè¿›ç¨‹ï¼šè´Ÿè´£åŠ è½½ç½‘ç»œèµ„æºã€‚ç½‘ç»œè¿›ç¨‹å†…éƒ¨ä¼šå¯åŠ¨å¤šä¸ªå­çº¿ç¨‹æ¥å¤„ç†ä¸åŒçš„ç½‘ç»œä»»åŠ¡ã€‚ æ¸²æŸ“è¿›ç¨‹ï¼š æ¸²æŸ“è¿›ç¨‹å¯åŠ¨åï¼Œä¼šå¼€å¯ä¸€ä¸ªæ¸²æŸ“ä¸»çº¿ç¨‹ï¼Œä¸»è¦è´Ÿè´£æ‰§è¡Œ HTMLã€CSSã€JSä»£ç ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šä¸ºæ¯ä¸€ä¸ªæ ‡ç­¾é¡µå¼€å¯ä¸€ä¸ªæ–°çš„æ¸²æŸ“è¿›ç¨‹ï¼Œä»¥ä¿è¯ä¸åŒçš„æ ‡ç­¾é¡µä¹‹é—´ä¸ç›¸äº’å½±å“ã€‚ æ¸²æŸ“ä¸»çº¿ç¨‹éœ€è¦å¤„ç†çš„ä»»åŠ¡æ¸²æŸ“ä¸»çº¿ç¨‹æ˜¯å’Œæˆ‘ä»¬æ‰“äº¤é“æœ€å¤šçš„çº¿ç¨‹ï¼Œéœ€è¦å®ƒå¤„ç†çš„ä»»åŠ¡åŒ…æ‹¬ä½†ä¸é™äºï¼š è§£æHTML è§£æCSS è®¡ç®—æ ·å¼ã€å¸ƒå±€ å¤„ç†å›¾å±‚ã€æ¸²æŸ“é¡µé¢ æ‰§è¡ŒJSä»£ç  æ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•° æ‰§è¡Œè®¡æ—¶å™¨å›è°ƒå‡½æ•°ç­‰ æ¸²æŸ“ä¸»çº¿ç¨‹çš„å·¥ä½œæ–¹å¼ æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæ¸²æŸ“ä¸»çº¿ç¨‹ä¼šè¿›å…¥ä¸€ä¸ªæ— é™å¾ªç¯ æ¯ä¸€æ¬¡å¾ªç¯ä¼šæ£€æŸ¥äº‹ä»¶é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡å­˜åœ¨ã€‚å¦‚æœæœ‰ï¼Œå°±å–å‡ºç¬¬ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®Œä¸€ä¸ªåè¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚ å…¶ä»–æ‰€æœ‰çº¿ç¨‹ï¼Œå¯ä»¥éšæ—¶å‘äº‹ä»¶é˜Ÿåˆ—æ·»åŠ ä»»åŠ¡ã€‚æ–°ä»»åŠ¡ä¼šåŠ åˆ°é˜Ÿåˆ—çš„æœ«å°¾ã€‚åœ¨æ·»åŠ æ–°ä»»åŠ¡æ—¶ï¼Œå¦‚æœä¸»çº¿ç¨‹æ˜¯ä¼‘çœ çŠ¶æ€ï¼Œåˆ™ä¼šå”¤é†’ä»¥ç»§ç»­å¾ªç¯æ‹¿å–ä»»åŠ¡ã€‚ è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥è®©æ¯ä¸ªä»»åŠ¡æœ‰æ¡ä¸ç´Šçš„ï¼ŒæŒç»­è¿›è¡Œä¸‹å»äº†ã€‚ æ•´ä¸ªè¿‡ç¨‹ï¼Œè¢«ç§°ä¹‹ä¸ºäº‹ä»¶å¾ªç¯ ä»€ä¹ˆæ˜¯å¼‚æ­¥ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°ä¸€äº›æ— æ³•ç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚ï¼š è®¡æ—¶å®Œæˆåéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ â€“ setTimeoutã€setInterval ç½‘ç»œé€šä¿¡å®Œæˆåéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ â€“ XMLHttpRequestã€Fetch ç”¨æˆ·æ“ä½œåéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ â€“ addEventListener å¦‚æœè®©æ¸²æŸ“ä¸»çº¿ç¨‹ç­‰å¾…è¿™äº›ä»»åŠ¡çš„æ—¶æœºåˆ°è¾¾ï¼Œå°±ä¼šå¯¼è‡´ä¸»çº¿ç¨‹é•¿æœŸå¤„äºã€Œé˜»å¡ã€çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´æµè§ˆå™¨ã€Œå¡æ­»ã€ã€‚æ‰€ä»¥æµè§ˆå™¨é€‰æ‹©äº†å¼‚æ­¥ï¼Œä¸é˜»å¡æ¸²æŸ“ä¸»çº¿ç¨‹çš„æ–¹å¼æ¥æ‰§è¡Œè¿™äº›æ— æ³•ç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ å¦‚ä½•ç†è§£JSçš„å¼‚æ­¥ JSæ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œå› ä¸ºæµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ä¸­æ‰§è¡ŒJSä»£ç çš„çº¿ç¨‹åªæœ‰ä¸€ä¸ª å¦‚æœä½¿ç”¨åŒæ­¥çš„æ–¹å¼ï¼Œå°±ææœ‰å¯èƒ½å¯¼è‡´ä¸»çº¿ç¨‹äº§ç”Ÿé˜»å¡ï¼Œä»è€Œå¯¼è‡´æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„å¾ˆå¤šå…¶ä»–ä»»åŠ¡æ— æ³•å¾—åˆ°æ‰§è¡Œã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸€æ–¹é¢ä¼šå¯¼è‡´ç¹å¿™çš„ä¸»çº¿ç¨‹ç™½ç™½åœ°æ¶ˆè€—æ—¶é—´ï¼Œå¦ä¸€æ–¹é¢ä¼šå¯¼è‡´é¡µé¢æ— æ³•åŠæ—¶æ›´æ–°ï¼Œç»™ç”¨æˆ·é€ æˆå¡æ­»çš„ç°è±¡ã€‚ æ‰€ä»¥æµè§ˆå™¨é‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼æ¥é¿å…ã€‚å…·ä½“åšæ³•æ˜¯å½“æŸäº›ä»»åŠ¡å‘ç”Ÿæ—¶ï¼Œæ¯”å¦‚è®¡æ—¶å™¨ã€ç½‘ç»œã€äº‹ä»¶ç›‘å¬ï¼ŒJSçº¿ç¨‹å°†ä»»åŠ¡äº¤ç»™å…¶å®ƒçº¿ç¨‹å»å¤„ç†ï¼Œè‡ªèº«ç«‹å³ç»“æŸä»»åŠ¡çš„æ‰§è¡Œï¼Œè½¬è€Œæ‰§è¡Œåç»­çš„ä»£ç ã€‚å½“å…¶å®ƒçº¿ç¨‹å®Œæˆæ—¶ï¼Œå°†äº‹å…ˆä¼ é€’çš„å›è°ƒå‡½æ•°åŒ…è½¬æˆä»»åŠ¡ï¼ŒåŠ å…¥åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„æœ«å°¾æ’é˜Ÿï¼Œç­‰å¾…ä¸»çº¿ç¨‹è°ƒåº¦æ‰§è¡Œã€‚ åœ¨è¿™ç§å¼‚æ­¥æ¨¡å¼ä¸‹ï¼Œæœ€å¤§é™åº¦åœ°ä¿è¯äº†å•çº¿ç¨‹çš„æµç•…è¿è¡Œã€‚ ä»»åŠ¡çš„ä¼˜å…ˆçº§ä»»åŠ¡æ²¡æœ‰ä¼˜å…ˆçº§ï¼Œå…ˆè¿›å…ˆå‡ºï¼Œä½†äº‹ä»¶é˜Ÿåˆ—æ˜¯æœ‰ä¼˜å…ˆçº§çš„ æ ¹æ®W3Cçš„æœ€æ–°è§£é‡Šï¼š æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä»»åŠ¡ç±»å‹ï¼ŒåŒä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸åŒç±»å‹çš„ä»»åŠ¡å¯ä»¥åˆ†å±äºä¸åŒçš„é˜Ÿåˆ—ã€‚åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œæµè§ˆå™¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µä»ä¸åŒçš„é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡æ‰§è¡Œ æµè§ˆå™¨å¿…é¡»å‡†å¤‡å¥½ä¸€ä¸ªå¾®é˜Ÿåˆ—ï¼Œå¾®é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¼˜å…ˆäºæ‰€æœ‰å…¶å®ƒä»»åŠ¡é˜Ÿåˆ— éšç€æµè§ˆå™¨çš„å¤æ‚åº¦æ€¥å‰§æå‡ï¼ŒW3Cä¸å†ä½¿ç”¨å®é˜Ÿåˆ—çš„è¯´æ³• åœ¨ç›®å‰chromeçš„å®ç°ä¸­ï¼Œè‡³å°‘åŒ…å«äº†ä¸‹é¢çš„é˜Ÿåˆ—ï¼š å»¶æ—¶é˜Ÿåˆ—ï¼šç”¨äºå­˜æ”¾è®¡æ—¶å™¨åˆ°è¾¾åçš„å›è°ƒä»»åŠ¡ï¼Œä¼˜å…ˆçº§ã€Œä¸­ã€ äº¤äº’é˜Ÿåˆ—ï¼šç”¨äºå­˜æ”¾ç”¨æˆ·æ“ä½œåäº§ç”Ÿçš„äº‹ä»¶å¤„ç†ä»»åŠ¡ï¼Œä¼˜å…ˆçº§ã€Œé«˜ã€ å¾®é˜Ÿåˆ—ï¼šç”¨äºå­˜æ”¾éœ€è¦æœ€å¿«æ‰§è¡Œçš„ä»»åŠ¡ï¼Œä¼˜å…ˆçº§ã€Œæœ€é«˜ã€ æ·»åŠ ä»»åŠ¡åˆ°å¾®é˜Ÿåˆ—çš„ä¸»è¦æ–¹å¼æ˜¯ä½¿ç”¨ Promiseã€MutationObserverç­‰ ç»“å°¾é˜è¿°ä¸€ä¸‹JSçš„äº‹ä»¶å¾ªç¯äº‹ä»¶å¾ªç¯åˆå«æ¶ˆæ¯å¾ªç¯ï¼Œæ˜¯æµè§ˆå™¨æ¸²æŸ“ä¸»çº¿ç¨‹çš„å·¥ä½œæ–¹å¼ã€‚ åœ¨Chromeçš„æºç ä¸­ï¼Œå®ƒå¼€å¯ä¸€ä¸ªä¸ä¼šç»“æŸçš„forå¾ªç¯ï¼Œæ¯æ¬¡å¾ªç¯ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œå…¶å®ƒçº¿ç¨‹åªéœ€è¦åœ¨åˆé€‚çš„æ—¶å€™å°†ä»»åŠ¡åŠ å…¥åˆ°é˜Ÿåˆ—æœ«å°¾å³å¯ã€‚ è¿‡å»æŠŠæ¶ˆæ¯é˜Ÿåˆ—ç®€å•åˆ†ä¸ºå®é˜Ÿåˆ—å’Œå¾®é˜Ÿåˆ—ï¼Œè¿™ç§è¯´æ³•ç›®å‰å·²ç»æ— æ³•æ»¡è¶³å¤æ‚çš„æµè§ˆå™¨ç¯å¢ƒï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç§æ›´åŠ çµæ´»å¤šå˜çš„å¤„ç†æ–¹å¼ã€‚ æ ¹æ®W3Cå®˜æ–¹çš„è§£é‡Šï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ä¸åŒçš„ç±»å‹ï¼ŒåŒç±»å‹çš„ä»»åŠ¡å¿…é¡»åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ï¼Œä¸åŒçš„ä»»åŠ¡å¯ä»¥å±äºä¸åŒçš„é˜Ÿåˆ—ã€‚ä¸åŒä»»åŠ¡é˜Ÿåˆ—æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œåœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œç”±æµè§ˆå™¨è‡ªè¡Œå†³å®šå–å“ªä¸€ä¸ªé˜Ÿåˆ—çš„ä»»åŠ¡ã€‚ä½†æµè§ˆå™¨å¿…é¡»æœ‰ä¸€ä¸ªå¾®é˜Ÿåˆ—ï¼Œå¾®é˜Ÿåˆ—çš„ä»»åŠ¡ä¸€å®šå…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œå¿…é¡»ä¼˜å…ˆè°ƒåº¦æ‰§è¡Œ JSä¸­çš„è®¡æ—¶å™¨èƒ½åšåˆ°ç²¾ç¡®è®¡æ—¶å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿä¸è¡Œï¼Œå› ä¸ºï¼š æ“ä½œç³»ç»Ÿçš„è®¡æ—¶å‡½æ•°æœ¬èº«å°±æœ‰åå·®ï¼Œç”±äºJSçš„è®¡æ—¶å™¨æœ€ç»ˆè°ƒç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿçš„å‡½æ•°ï¼Œä¹Ÿå°±æºå¸¦äº†è¿™äº›åå·® æŒ‰ç…§W3Cçš„æ ‡å‡†ï¼Œæµè§ˆå™¨å®ç°è®¡æ—¶å™¨æ—¶ï¼Œå¦‚æœåµŒå¥—å±‚çº§è¶…è¿‡5å±‚ï¼Œåˆ™ä¼šå¸¦æœ‰4msçš„æœ€å°æ—¶é—´ï¼Œè¿™æ ·åœ¨è®¡æ—¶å™¨å°‘äº4msæ—¶åˆå¸¦æ¥äº†åå·®ã€‚ å—äº‹ä»¶å¾ªç¯çš„å½±å“ï¼Œè®¡æ—¶å™¨çš„å›è°ƒå‡½æ•°åªèƒ½åœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶è¿è¡Œï¼Œå› æ­¤åˆå¸¦æ¥äº†åå·®ã€‚","link":"/JavaScript/JavaScript%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/"},{"title":"JavaScriptä¸­çš„æ•°æ®ç±»å‹","text":"å‰è¨€åœ¨JavaScriptä¸­ï¼Œæ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š åŸºæœ¬ç±»å‹ å¤æ‚ç±»å‹ ä¸¤ç§ç±»å‹çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨ä½ç½®ä¸åŒ ä¸€ã€åŸºæœ¬ç±»å‹åŸºæœ¬ç±»å‹ä¸»è¦ä¸ºä»¥ä¸‹6ç§ï¼š Number String Boolean Symbol BigInt Null Undefined Numberæ•°å€¼æœ€å¸¸è§çš„æ•´æ•°ç±»å‹æ ¼å¼ä¸ºåè¿›åˆ¶,ä¹Ÿå¯ä»¥è®¾ç½®å…«è¿›åˆ¶(é›¶å¼€å¤´)å’Œåå…­è¿›åˆ¶(0xå¼€å¤´) 123let intNum = 55;let num1 = 070;let hexNum1 = 0xA; æµ®ç‚¹ç±»å‹åˆ™åœ¨æ•°å€¼æ±‡æ€»å¿…é¡»åŒ…å«å°æ•°ç‚¹ï¼Œè¿˜å¯é€šè¿‡ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º 1234let floatNum1 = 1.1;let floatNum2 = 0.1;let floatNum3 = .1; // æœ‰æ•ˆï¼Œä½†ä¸æ¨èlet floatNum = 3.125e7; // ç­‰äº31250000 åœ¨æ•°å€¼ç±»å‹ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªç‰¹æ®Šå€¼NaNï¼Œæ„ä¸ºâ€œä¸æ˜¯æ•°å€¼â€ï¼Œç”¨äºè¡¨ç¤ºæœ¬æ¥è¦è¿”å›æ•°å€¼çš„æ“ä½œå¤±è´¥äº†ï¼ˆè€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯ï¼‰ 12console.log(0/0) // NaNconsole.log(-0/+0) // NaN Undefinedundefinedç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ç‰¹æ®Šå€¼undefinedã€‚å½“ä½¿ç”¨codeæˆ–letå£°æ˜äº†å˜é‡ä½†æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œå°±ç›¸å½“äºç»™å˜é‡èµ‹äºˆäº†undefinedå€¼ 12let message;console.log(message === undefined); åŒ…å«undefinedå€¼çš„å˜é‡è·Ÿæœªå®šä¹‰å˜é‡æ˜¯æœ‰åŒºåˆ«çš„ 1234let message; // è¿™ä¸ªå˜é‡è¢«å£°æ˜äº†ï¼Œåªæ˜¯å€¼ä¸ºundefinedconsole.log(message);console.log(age) // æ²¡æœ‰å£°æ˜è¿™ä¸ªå˜é‡ï¼ŒæŠ¥é”™ Stringå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨åŒå¼•å·(â€œ)ã€å•å¼•å·(â€˜)æˆ–åå¼•å·(`)æ ‡ç¤º 123let firstName = &quot;John&quot;;let lastName = &quot;Jacob&quot;;let lastName = `Jingleheimerschmidt`; å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ„æ€æ˜¯ä¸€æ—¦åˆ›å»ºï¼Œå®ƒä»¬çš„å€¼å°±ä¸èƒ½å˜äº† 12let lang = &quot;Java&quot;;lang = lang + &quot;Script&quot; // å…ˆåˆ›å»ºå†é”€æ¯ NullNullç±»å‹åŒæ ·åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ç‰¹æ®Šå€¼null é€»è¾‘ä¸Šè®²ï¼Œnullå€¼è¡¨ç¤ºä¸€ä¸ªç©ºæŒ‡é’ˆå¯¹è±¡ï¼Œè¿™ä¹Ÿæ˜¯ç»™typeofä¼ ä¸€ä¸ªnullä¼šè¿”å›objectçš„åŸå›  12let car = null;console.log(typeof car) // object undefinedå€¼æ˜¯ç”±nullå€¼æ´¾ç”Ÿè€Œæ¥ 1console.log(null == undefined); åªè¦å˜é‡ä¿å­˜å¯¹è±¡ï¼Œè€Œå½“æ—¶åˆæ²¡æœ‰é‚£ä¸ªå¯¹è±¡å¯ä¿å­˜ï¼Œå°±å¯ä»¥ç”¨ null å¡«å……è¯¥å˜é‡ Booleanå¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå­—é¢å€¼ï¼štrueå’Œ falseï¼Œé€šè¿‡ Boolean å¯ä»¥å°†å…¶å®ƒç±»å‹çš„æ•°æ®è½¬åŒ–ä¸ºå¸ƒå°”å€¼ è§„åˆ™å¦‚ä¸‹ï¼š æ•°æ®ç±»å‹ è½¬ä¸ºtrue è½¬ä¸ºfalse String éç©ºå­—ç¬¦ä¸² â€œâ€ Number éé›¶æ•°å€¼ 0ã€NaN Object ä»»æ„å¯¹è±¡ N/A null N/A null Undefined N/A undeinfed SymbolSymbol(ç¬¦å·)æ˜¯åŸå§‹å€¼ï¼Œä¸”ç¬¦å·å®ä¾‹æ˜¯å”¯ä¸€ã€ä¸å¯å˜çš„ã€‚ç¬¦å·çš„ç”¨é€”æ˜¯ç¡®ä¿å¯¹è±¡å±æ€§ä½¿ç”¨å”¯ä¸€æ ‡è¯†ï¼Œä¸ä¼šå‘ç”Ÿå±æ€§å†²çªçš„å±é™© 1234567let genericSymbol = Symbol();let otherGenericSymbol = Symbol();console.log(genericSymbol == otherGenericSymbol); // falselet fooSymbol = Symbol('foo');let otherFooSymbol = Symbol('foo');console.log(fooSymbol == otherFooSymbol); // false äºŒã€å¼•ç”¨ç±»å‹å¤æ‚ç±»å‹ç»Ÿç§°ä¸º Objectï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦è®²è¿°ä¸‹é¢ä¸‰ç§ï¼š Object Array Function Objectåˆ›å»ºobjectå¸¸ç”¨æ–¹å¼ä¸ºå¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•ï¼Œå±æ€§åå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å€¼ 12345let person = { name: &quot;Nicholas&quot;, age: 29, 5: true} ArrayJavaScriptæ•°ç»„æ˜¯ä¸€ç»„æœ‰åºçš„æ•°æ®ï¼Œä½†è·Ÿå…¶ä»–è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œæ•°ç»„ä¸­æ¯ä¸ªæ§½ä½å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œå¹¶ä¸”ï¼Œæ•°ç»„ä¹Ÿæ˜¯åŠ¨æ€å¤§å°çš„ï¼Œä¼šéšç€æ•°æ®æ·»åŠ è€Œè‡ªåŠ¨å¢é•¿ 12let colors = ['red', 2, {age: 20}]colors.push(2) Functionå‡½æ•°å®é™…æ˜¯å¯¹è±¡ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æ˜¯ Function ç±»å‹çš„å®ä¾‹ï¼Œè€Œ Function ä¹Ÿæœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè·Ÿå…¶ä»–å¼•ç”¨ç±»å‹ä¸€æ · å‡½æ•°å­˜åœ¨ä¸‰ç§å¸¸è§çš„è¡¨è¾¾æ–¹å¼ï¼š å‡½æ•°å£°æ˜ 123function sum(num1, num2) { return num1 + num2;} å‡½æ•°è¡¨è¾¾å¼ 123const sum = function(num1, num2) { return num1 + num2;} ç®­å¤´å‡½æ•° 123const sum = (num1, num2) =&gt; { return num1 + num2;} å…¶ä»–å¼•ç”¨ç±»å‹é™¤äº†ä¸Šè¿°è¯´çš„ä¸‰ç§ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬ Dateã€RegExpã€Mapã€Setç­‰â€¦â€¦ ä¸‰ã€å­˜å‚¨åŒºåˆ«åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸åŒï¼š åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­ å¼•ç”¨ç±»å‹çš„å¯¹è±¡å­˜å‚¨äºå †ä¸­ å½“æˆ‘ä»¬æŠŠå˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œè§£æå™¨é¦–å…ˆè¦ç¡®è®¤çš„å°±æ˜¯è¿™ä¸ªå€¼æ˜¯åŸºæœ¬ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ ä¸¾ä¸ªä¾‹å­ åŸºæœ¬ç±»å‹1234let a = 10;let b = a;b = 20;console.log(a); // 10å€¼ açš„å€¼ä¸ºä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œæ˜¯å­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°† açš„å€¼èµ‹ç»™ bï¼Œè™½ç„¶ä¸¤ä¸ªå˜é‡çš„å€¼ç›¸ç­‰ï¼Œä½†æ˜¯ä¸¤ä¸ªå˜é‡ä¿å­˜äº†ä¸¤ä¸ªä¸åŒçš„å†…å­˜åœ°å€ å¼•ç”¨ç±»å‹123456let obj1 = {};let obj2 = obj1;obj2.name = 'xxx';console.log(obj1.name); // xxx å¼•ç”¨ç±»å‹æ•°æ®å­˜æ”¾åœ¨å †ä¸­ï¼Œæ¯ä¸ªå †å†…å­˜å¯¹è±¡éƒ½æœ‰å¯¹åº”çš„å¼•ç”¨åœ°å€æŒ‡å‘å®ƒï¼Œå¼•ç”¨åœ°å€å­˜æ”¾åœ¨æ ˆä¸­ã€‚ obj1æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œåœ¨èµ‹å€¼æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå®é™…æ˜¯å°†å †å†…å­˜å¯¹è±¡åœ¨æ ˆå†…å­˜çš„å¼•ç”¨åœ°å€å¤åˆ¶äº†ä¸€ä»½ç»™äº† obj2ï¼Œå®é™…ä¸Šå®ƒä»¬å…±åŒæŒ‡å‘åŒä¸€ä¸ªå †å†…å­˜å¯¹è±¡ï¼Œæ‰€ä»¥æ›´æ”¹ obj2ä¼šå¯¹ obj1 äº§ç”Ÿå½±å“ å°ç»“ å£°æ˜å˜é‡æ—¶ä¸åŒçš„å†…å­˜åœ°å€åˆ†é…ï¼š ç®€å•ç±»å‹çš„å€¼å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ å¼•ç”¨ç±»å‹çš„å€¼å­˜æ”¾åœ¨å †å†…å­˜ä¸­ï¼Œæ ˆå†…å­˜ä¸­å­˜æ”¾çš„æ˜¯æŒ‡å‘å †å†…å­˜çš„åœ°å€ ä¸åŒçš„ç±»å‹æ•°æ®å¯¼è‡´èµ‹å€¼å˜é‡æ–¹å¼ä¸åŒï¼š ç®€å•ç±»å‹èµ‹å€¼ï¼Œæ˜¯ç”Ÿæˆç›¸åŒçš„å€¼ï¼Œä¸¤ä¸ªå¯¹è±¡å¯¹åº”ä¸åŒçš„åœ°å€ å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œæ˜¯å°†ä¿å­˜å¯¹è±¡çš„å†…å­˜åœ°å€èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ã€‚ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå˜é‡æŒ‡å‘å †å†…å­˜ä¸­åŒä¸€ä¸ªå¯¹è±¡","link":"/JavaScript/JavaScript%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%AD%98%E5%82%A8%E4%B8%8A%E7%9A%84%E5%B7%AE%E5%BC%82/"},{"title":"Generator","text":"1.ç‰¹æ€§Â·functionå…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå· å†…éƒ¨é€šè¿‡yieldè¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€ è¿”å›çš„éå†å™¨å¯¹è±¡ï¼Œä½¿ç”¨next()æ–¹æ³•ä¾æ¬¡éå†å‡½æ•°å†…éƒ¨çš„çŠ¶æ€ 2.yieldè¡¨è¾¾å¼Generatorå‡½æ•°å†…éƒ¨é€šè¿‡yieldè¡¨è¾¾å¼æ¥æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œåªæœ‰é€šè¿‡next()æ–¹æ³•æ‰èƒ½ç»§ç»­å¾€ä¸‹æ‰§è¡Œ nextæ–¹æ³•çš„è¿è¡Œé€»è¾‘ï¼š é‡åˆ°yieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨yieldåé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„valueå±æ€§å€¼ å†æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå°±ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œå¹¶å°†åé¢çš„å€¼èµ‹ç»™valueè¿”å› å¦‚æœæ²¡æœ‰é‡åˆ°æ–°çš„yieldè¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œå°†returnè¯­å¥åé¢çš„è¡¨è¾¾å¼ä½œä¸ºå¯¹è±¡çš„valueå€¼è¿”å›ï¼Œå¦‚æœæ²¡æœ‰returnè¯­å¥ï¼Œåˆ™è¿”å›undefined 3.ä¸Iteratorçš„å…³ç³»Generatorå‡½æ•°å°±æ˜¯éå†å™¨çš„ç”Ÿæˆå‡½æ•°ï¼Œå¯ä»¥æŠŠGeneratorèµ‹å€¼ç»™å¯¹è±¡çš„Symbol.Iteratorå±æ€§ï¼Œä»è€Œä½¿å¾—è¯¥å¯¹è±¡å¯ä»¥è¢«Iteratoræ¥å£ç›¸å…³çš„è¯­å¥éå† 123456789101112const obj = {}obj[Symbol.iterator] = function * () { yield 1; yield 2; yield 3;}[...obj]for(const i of obj) { console.log(i)} 4. nextæ–¹æ³•å‚æ•°yieldè¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›å€¼ï¼Œæˆ–è€…è¯´è¿”å›å€¼æ˜¯undefinedã€‚nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼ 123456789101112131415function* foo(x) { var y = 2 * (yield (x + 1)); var z = yield (y / 3); return (x + y + z);}var a = foo(5);a.next() // Object{value:6, done:false}a.next() // Object{value:NaN, done:false}a.next() // Object{value:NaN, done:true}var b = foo(5);b.next() // { value:6, done:false }b.next(12) // { value:8, done:false }b.next(13) // { value:42, done:true } ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒæ¬¡è¿è¡Œnextæ–¹æ³•çš„æ—¶å€™ä¸å¸¦å‚æ•°ï¼Œå¯¼è‡´ y çš„å€¼ç­‰äº2 * undefinedï¼ˆå³NaNï¼‰ï¼Œé™¤ä»¥ 3 ä»¥åè¿˜æ˜¯NaNï¼Œå› æ­¤è¿”å›å¯¹è±¡çš„valueå±æ€§ä¹Ÿç­‰äºNaNã€‚ç¬¬ä¸‰æ¬¡è¿è¡Œnextæ–¹æ³•çš„æ—¶å€™ä¸å¸¦å‚æ•°ï¼Œæ‰€ä»¥zç­‰äºundefinedï¼Œè¿”å›å¯¹è±¡çš„valueå±æ€§ç­‰äº5 + NaN + undefinedï¼Œå³NaNã€‚ å¦‚æœå‘nextæ–¹æ³•æä¾›å‚æ•°ï¼Œè¿”å›ç»“æœå°±å®Œå…¨ä¸ä¸€æ ·äº†ã€‚ä¸Šé¢ä»£ç ç¬¬ä¸€æ¬¡è°ƒç”¨bçš„nextæ–¹æ³•æ—¶ï¼Œè¿”å›x+1çš„å€¼6ï¼›ç¬¬äºŒæ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå°†ä¸Šä¸€æ¬¡yieldè¡¨è¾¾å¼çš„å€¼è®¾ä¸º12ï¼Œå› æ­¤yç­‰äº24ï¼Œè¿”å›y / 3çš„å€¼8ï¼›ç¬¬ä¸‰æ¬¡è°ƒç”¨nextæ–¹æ³•ï¼Œå°†ä¸Šä¸€æ¬¡yieldè¡¨è¾¾å¼çš„å€¼è®¾ä¸º13ï¼Œå› æ­¤zç­‰äº13ï¼Œè¿™æ—¶xç­‰äº5ï¼Œyç­‰äº24ï¼Œæ‰€ä»¥returnè¯­å¥çš„å€¼ç­‰äº42ã€‚ 5.next() throw() return() éƒ½æ˜¯è®©Generatorå‡½æ•°æ¢å¤æ‰§è¡Œï¼Œå¹¶ä¸”ä½¿ç”¨ä¸åŒçš„è¯­å¥æ›¿æ¢yieldè¡¨è¾¾å¼ next()æ˜¯å°†ä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªå€¼ 1234567891011const g = function* (x, y) { let result = yield x + y; return result;};const gen = g(1, 2);gen.next(); // Object {value: 3, done: false}gen.next(1); // Object {value: 1, done: true}// ç›¸å½“äºå°† let result = yield x + y// æ›¿æ¢æˆ let result = 1; throw()æ˜¯å°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªthrowè¯­å¥ 123gen.throw(new Error('å‡ºé”™äº†')); // Uncaught Error: å‡ºé”™äº†// ç›¸å½“äºå°† let result = yield x + y// æ›¿æ¢æˆ let result = throw(new Error('å‡ºé”™äº†')); return()ç›¸å½“äºå°†yieldè¡¨è¾¾å¼æ›¿æ¢æˆä¸€ä¸ªreturnè¯­å¥ 123gen.return(2); // Object {value: 2, done: true}// ç›¸å½“äºå°† let result = yield x + y// æ›¿æ¢æˆ let result = return 2; 6.yield*yield*è¡¨è¾¾å¼ç”¨æ¥åœ¨ä¸€ä¸ªGeneratorå‡½æ•°é‡Œé¢æ‰§è¡Œå¦ä¸€ä¸ªGeneratorå‡½æ•° 1234567891011121314function * foo() { yield 'a'; yield 'b'}function * bar() { yield 'x'; yield foo(); yield 'y'}for(let item of bar()) { console.log(item) // x a b y} ä»»ä½•æ•°æ®ç»“æ„åªè¦æœ‰iteratoræ¥å£ï¼Œå°±èƒ½è¢«yield*éå† 12345function * gen() { yield * [1,2,3]}gen().next() 7.å¤„ç†å¼‚æ­¥ä¼ ç»Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œæ—©æœ‰å¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆï¼ˆå…¶å®æ˜¯å¤šä»»åŠ¡çš„è§£å†³æ–¹æ¡ˆï¼‰ã€‚å…¶ä¸­æœ‰ä¸€ç§å«åšâ€åç¨‹â€ï¼ˆcoroutineï¼‰ï¼Œæ„æ€æ˜¯å¤šä¸ªçº¿ç¨‹äº’ç›¸åä½œï¼Œå®Œæˆå¼‚æ­¥ä»»åŠ¡ã€‚ åç¨‹çš„æ‰§è¡Œæµç¨‹ åç¨‹Aå¼€å§‹æ‰§è¡Œ åç¨‹Aæ‰§è¡Œåˆ°ä¸€åŠï¼Œè¿›å…¥æš‚åœï¼Œæ‰§è¡Œæƒè½¬ç§»åˆ°åç¨‹B ä¸€æ®µæ—¶é—´åï¼Œåç¨‹Bäº¤è¿˜æ‰§è¡Œæƒå¹¶æ¢å¤åç¨‹Açš„æ‰§è¡Œ åç¨‹çš„Generatorå‡½æ•°å®ç°Generatorå‡½æ•°æ˜¯åç¨‹åœ¨ES6çš„å®ç°ï¼Œæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥äº¤å‡ºå‡½æ•°çš„æ‰§è¡Œæƒ(æš‚åœæ‰§è¡Œ)ã€‚ æ•´ä¸ªGeneratorå‡½æ•°å°±æ˜¯ä¸€ä¸ªå°è£…çš„å¼‚æ­¥ä»»åŠ¡ï¼Œæˆ–è€…è¯´æ˜¯å¼‚æ­¥ä»»åŠ¡çš„å®¹å™¨ï¼Œå¼‚æ­¥æ“ä½œéœ€è¦æš‚åœçš„åœ°æ–¹ï¼Œéƒ½ä½¿ç”¨yieldè¯­å¥æ³¨æ˜ 1234function * gen(x) { var y = yield x + 2; return y} Generatorå‡½æ•°æ•°æ®çš„äº¤æ¢å’Œé”™è¯¯å¤„ç†Generatorå‡½æ•°æ‰€å…·æœ‰çš„ç‰¹æ€§ï¼Œä½¿å®ƒæˆä¸ºå¼‚æ­¥ç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆ å¯ä»¥æš‚åœæ‰§è¡Œå’Œæ¢å¤æ‰§è¡Œï¼Œè¿™æ˜¯å®ƒèƒ½å°è£…å¼‚æ­¥ä»»åŠ¡çš„æ ¹æœ¬åŸå›  å‡½æ•°ä½“å†…å¤–çš„æ•°æ®äº¤æ¢å’Œé”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä½¿å®ƒå¯ä»¥ä½œä¸ºå¼‚æ­¥ç¼–ç¨‹çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ è°ƒç”¨next()æ–¹æ³•è¿”å›å€¼çš„valueå±æ€§ï¼Œæ˜¯Generatorå‡½æ•°å‘å¤–è¾“å‡ºæ•°æ®ï¼Œè€Œåœ¨è°ƒç”¨next()æ–¹æ³•è¿˜å¯ä»¥æ¥å—å‚æ•°ï¼Œå‘Generatorå‡½æ•°ä½“å†…è¾“å…¥æ•°æ® 12345678function* gen(x){ var y = yield x + 2; return y;}var g = gen(1);g.next() // { value: 3, done: false }g.next(2) // { value: 2, done: true } Generatorå‡½æ•°å†…éƒ¨è¿˜å¯ä»¥éƒ¨ç½²é”™è¯¯å¤„ç†ä»£ç ï¼Œæ•è·å‡½æ•°ä½“å¤–æŠ›å‡ºçš„é”™è¯¯ 12345678910111213function* gen(x){ try { var y = yield x + 2; } catch (e){ console.log(e); } return y;}var g = gen(1);g.next();g.throw('å‡ºé”™äº†');// å‡ºé”™äº† ä¸Šé¢ä»£ç çš„æœ€åä¸€è¡Œï¼ŒGenerator å‡½æ•°ä½“å¤–ï¼Œä½¿ç”¨æŒ‡é’ˆå¯¹è±¡çš„throwæ–¹æ³•æŠ›å‡ºçš„é”™è¯¯ï¼Œå¯ä»¥è¢«å‡½æ•°ä½“å†…çš„try...catchä»£ç å—æ•è·ã€‚è¿™æ„å‘³ç€ï¼Œå‡ºé”™çš„ä»£ç ä¸å¤„ç†é”™è¯¯çš„ä»£ç ï¼Œå®ç°äº†æ—¶é—´å’Œç©ºé—´ä¸Šçš„åˆ†ç¦»ï¼Œè¿™å¯¹äºå¼‚æ­¥ç¼–ç¨‹æ— ç–‘æ˜¯å¾ˆé‡è¦çš„ã€‚ å¼‚æ­¥ä»»åŠ¡çš„å°è£…ä¸‹é¢çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ Generator å‡½æ•°ï¼Œæ‰§è¡Œä¸€ä¸ªçœŸå®çš„å¼‚æ­¥ä»»åŠ¡ã€‚ 1234567var fetch = require('node-fetch');function* gen(){ var url = 'https://api.github.com/users/github'; var result = yield fetch(url); console.log(result);} ä¸Šé¢ä»£ç ä¸­ï¼ŒGenerator å‡½æ•°å°è£…äº†ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œè¯¥æ“ä½œå…ˆè¯»å–ä¸€ä¸ªè¿œç¨‹æ¥å£ï¼Œç„¶åä» JSON æ ¼å¼çš„æ•°æ®è§£æä¿¡æ¯ã€‚å°±åƒå‰é¢è¯´è¿‡çš„ï¼Œè¿™æ®µä»£ç éå¸¸åƒåŒæ­¥æ“ä½œï¼Œé™¤äº†åŠ ä¸Šäº†yieldå‘½ä»¤ã€‚ æ‰§è¡Œè¿™æ®µä»£ç çš„æ–¹æ³•å¦‚ä¸‹ã€‚ 12345678var g = gen();var result = g.next();result.value.then(function(data){ return data.json();}).then(function(data){ g.next(data);}); ä¸Šé¢ä»£ç ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œ Generator å‡½æ•°ï¼Œè·å–éå†å™¨å¯¹è±¡ï¼Œç„¶åä½¿ç”¨nextæ–¹æ³•ï¼ˆç¬¬äºŒè¡Œï¼‰ï¼Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„ç¬¬ä¸€é˜¶æ®µã€‚ç”±äºFetchæ¨¡å—è¿”å›çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå› æ­¤è¦ç”¨thenæ–¹æ³•è°ƒç”¨ä¸‹ä¸€ä¸ªnextæ–¹æ³•ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶ Generator å‡½æ•°å°†å¼‚æ­¥æ“ä½œè¡¨ç¤ºå¾—å¾ˆç®€æ´ï¼Œä½†æ˜¯æµç¨‹ç®¡ç†å´ä¸æ–¹ä¾¿ï¼ˆå³ä½•æ—¶æ‰§è¡Œç¬¬ä¸€é˜¶æ®µã€ä½•æ—¶æ‰§è¡Œç¬¬äºŒé˜¶æ®µï¼‰ã€‚ è‡ªåŠ¨æ‰§è¡ŒGenerator å°è£…ä¸€ä¸ªåŸºäºPromiseçš„è‡ªåŠ¨æ‰§è¡Œæœºåˆ¶ 1234567891011121314151617var fs = require('fs');var readFile = function (fileName){ return new Promise(function (resolve, reject){ fs.readFile(fileName, function(error, data){ if (error) return reject(error); resolve(data); }); });};var gen = function* (){ var f1 = yield readFile('/etc/fstab'); var f2 = yield readFile('/etc/shells'); console.log(f1.toString()); console.log(f2.toString());}; æ‰‹åŠ¨æ‰§è¡Œä¸Šé¢çš„Generatorå‡½æ•° 1234567var g = gen();g.next().value.then(function(data){ g.next(data).value.then(function(data){ g.next(data); });}); æ‰‹åŠ¨æ‰§è¡Œå…¶å®å°±æ˜¯ç”¨thenæ–¹æ³•ï¼Œå±‚å±‚æ·»åŠ å›è°ƒå‡½æ•°ã€‚ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥å†™å‡ºä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œå™¨ã€‚ 123456789101112131415function run(gen){ var g = gen(); function next(data){ var result = g.next(data); if (result.done) return result.value; result.value.then(function(data){ next(data); }); } next();}run(gen);","link":"/JavaScript/25.Generator/"},{"title":"import.metaå±æ€§","text":"import.metaimport.metaæ˜¯ä¸€ä¸ªç»™JavaScriptæ¨¡å—æš´éœ²ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚æœ‰ECMAScriptå®ç°ï¼ŒåŸå‹æ˜¯nullï¼Œå¹¶ä¸”é»˜è®¤å¸¦æœ‰ä¸€ä¸ªurlå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯æ‰©å±•ï¼Œå®ƒçš„å±æ€§éƒ½æ˜¯å¯å†™ï¼Œå¯é…ç½®ï¼Œå¯æšä¸¾çš„ 1&lt;script type=&quot;module&quot; src=&quot;./index.js&quot;&gt;&lt;/script&gt; // å¿…é¡»æ˜¯module 1console.log(import.meta); // {url: 'http://127.0.0.1:5500/index.js'}","link":"/JavaScript/26.import.meta/"},{"title":"WebSocket","text":"1.Websocket Websocketæ˜¯ä¸€ç§åŸºäºTCPçš„å…¨åŒå·¥é€šè®¯åè®®ï¼Œç°åœ¨çš„ä¸šåŠ¡åœºæ™¯ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸€äº›éœ€è¦å®æ—¶è¯·æ±‚æ•°æ®å»åˆ·æ–°é¡µé¢çš„éœ€æ±‚ï¼Œåœ¨wsåè®®å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ–¹å¼æœ‰ä¸‰ç§ï¼Œè½®è¯¢ï¼Œé•¿è½®è¯¢å’Œæ•°æ®æµï¼Œä½†è¿™ä¸‰ç§æ–¹å¼éƒ½ååˆ†çš„å ç”¨æœåŠ¡å™¨èµ„æºã€‚WebSocketåè®®åŸºäºTCPï¼Œåªè¦ä¸€æ¬¡æ¡æ‰‹åï¼Œå°±å¯ä»¥ä¿æŒè¿æ¥ä¸æ–­å¼€ï¼Œå¹¶ä¸”æœåŠ¡ç«¯å¯ä»¥ä¸»åŠ¨å‘é€æ•°æ®ç»™å®¢æˆ·ç«¯ï¼Œå‡è½»äº†æœåŠ¡å™¨çš„å‹åŠ› 2.ç‰¹ç‚¹ å»ºç«‹åœ¨TCPåè®®çš„åŸºç¡€ä¸Šï¼ŒåŒå‘é€šä¿¡ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯ä»¥ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ® å…¼å®¹HTTPåè®®ï¼Œåœ¨æ¡æ‰‹æ—¶ä½¿ç”¨çš„å°±æ˜¯HTTPåè®® æ•°æ®æ ¼å¼è½»é‡ï¼Œå¯ä»¥å‘é€æ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥å‘é€äºŒè¿›åˆ¶æ•°æ® æ²¡æœ‰åŒæºé™åˆ¶ 3.é€šä¿¡åŸç†WebSocketåœ¨è¯·æ±‚é˜¶æ®µä½¿ç”¨çš„æ˜¯HTTPåè®®ï¼Œåœ¨åè®®çš„è¯·æ±‚å¤´ä¸­ï¼Œä¼šæœ‰ä¸¤ä¸ªæ ‡è¯†ï¼Œä¸€æ˜¯å®¢æˆ·ç«¯æ ‡è¯†keyï¼ŒäºŒæ˜¯Upgradeå­—æ®µï¼Œè¡¨ç¤ºå‘Šè¯‰æœåŠ¡å™¨è¦è¿›è¡Œåè®®çš„å‡çº§ã€‚æœåŠ¡å™¨åœ¨æ‹¿åˆ°è¯·æ±‚å¤´åä¼šè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæ”¯æŒï¼Œåˆ™ä¼šåœ¨å“åº”å¤´ä¸­ï¼Œå¸¦ä¸Šéœ€è¦å‡çº§çš„Upgradeå’Œå®¢æˆ·ç«¯æ ‡è¯†key","link":"/JavaScript/27.websocket/"},{"title":"äº‹ä»¶å¾ªç¯æœºåˆ¶","text":"1.JavaScriptæ‰§è¡Œæœºåˆ¶ åŒæ­¥ï¼šåœ¨æ‰§è¡Œåˆ°åŒæ­¥ä»£ç æ—¶ï¼Œä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œç›´æ¥è¾“å‡º å¼‚æ­¥ï¼šåœ¨æ‰§è¡Œåˆ°å¼‚æ­¥ä»£ç æ—¶ï¼Œä¼šå°†å¼‚æ­¥ä»£ç çš„å›è°ƒå‡½æ•°å­˜å…¥äº‹ä»¶é˜Ÿåˆ—ä¸­ï¼Œç­‰æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆåå†æ‰§è¡Œå¼‚æ­¥ä»£ç  1234567891011console.log(1) // åŒæ­¥setTimeout(() =&gt; { console.log(2) // å¼‚æ­¥}, 2000); // æ³¨æ„å»¶è¿Ÿçš„æ—¶é—´console.log(3) // åŒæ­¥setTimeout(() =&gt; { console.log(4) // å¼‚æ­¥}, 0);console.log(5) // åŒæ­¥// è¾“å‡º ï¼š 1 3 5 4 2 2.å®ä»»åŠ¡&amp;&amp;å¾®ä»»åŠ¡å¼‚æ­¥ä»»åŠ¡åˆ†ä¸ºå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡æ‰§è¡Œæ—¶æœºå…ˆäºå®ä»»åŠ¡ å®ä»»åŠ¡ # æµè§ˆå™¨ Node I/O âœ… âœ… setTimeout âœ… âœ… setInterval âœ… âœ… setImmediate âŒ âœ… requestAnimationFrame âœ… âŒ å¾®ä»»åŠ¡ # æµè§ˆå™¨ Node Promise.prototype.then catch finally âœ… âœ… process.nextTick âŒ âœ… MutationObserver âœ… âŒ æ‰§è¡Œæµç¨‹ 3.ä¾‹å­12345678910console.log(1) // åŒæ­¥setTimeout(() =&gt; { console.log(2) // å¼‚æ­¥ï¼šå®ä»»åŠ¡});console.log(3) // åŒæ­¥Promise.resolve().then(()=&gt;{ // å¼‚æ­¥ï¼šå¾®ä»»åŠ¡ console.log(4)})console.log(5) // åŒæ­¥// 1 3 5 4 2 ä¾‹11234567891011121314151617181920console.log(1)setTimeout(() =&gt; { console.log(2) Promise.resolve().then(() =&gt; { console.log(3) })});console.log(4)new Promise((resolve,reject) =&gt; { console.log(5) resolve()}).then(() =&gt; { console.log(6) setTimeout(() =&gt; { console.log(7) })})console.log(8)// 1 4 5 8 6 2 3 7 ä¾‹2123456789101112131415setTimeout(() =&gt; { console.log(1)}, 0)console.log(2)const p = new Promise((resolve) =&gt; { console.log(3) resolve()}).then(() =&gt; { console.log(4)}).then(() =&gt; { console.log(5)})console.log(6)// 2 3 6 4 5 1 é‡åˆ°Promise.then.thenè¿™ç§æ—¶ï¼Œå¦‚æœæœ‰ç‚¹æ‡µé€¼çš„åŒå­¦ï¼Œå¯ä»¥è½¬æ¢ä¸€ä¸‹ 12345678910111213141516setTimeout(() =&gt; { // å¼‚æ­¥ï¼šå®ä»»åŠ¡ setTimeout console.log(1)}, 0)console.log(2) // åŒæ­¥const p = new Promise((resolve) =&gt; { // p æ˜¯ then1 æ‰§è¡Œè¿”å›çš„æ–° Promise console.log(3) // åŒæ­¥ resolve()}).then(() =&gt; { // å¼‚æ­¥ï¼šå¾®ä»»åŠ¡ then1 console.log(4) // æ‹¿ç€ p é‡æ–° then p.then(() =&gt; { // å¼‚æ­¥ï¼šå¾®ä»»åŠ¡ then2 console.log(5) })})console.log(6) // åŒæ­¥ 6// 2 3 6 4 5 1 ä¾‹312345678910111213141516171819202122232425262728293031323334353637new Promise((resolve,reject)=&gt;{ console.log(1) resolve()}).then(()=&gt;{ console.log(2) new Promise((resolve,reject)=&gt;{ console.log(3) resolve() }).then(()=&gt;{ console.log(4) }).then(()=&gt;{ console.log(5) })}).then(()=&gt;{ console.log(6)})// è½¬æ¢åçš„ä»£ç const p1 = new Promise((resolve,reject)=&gt;{ console.log(1) resolve()}).then(()=&gt;{ console.log(2) const p2 = new Promise((resolve,reject)=&gt;{ console.log(3) resolve() }).then(()=&gt;{ console.log(4) p2.then(()=&gt;{ console.log(5) }) }) p1.then(()=&gt;{ console.log(6) })})// 1 2 3 4 6 5 ä¾‹412345678910111213141516171819new Promise((resolve, reject) =&gt; { console.log(1) resolve()}).then(() =&gt; { console.log(2) // å¤šäº†ä¸ªreturn return new Promise((resolve, reject) =&gt; { console.log(3) resolve() }).then(() =&gt; { console.log(4) }).then(() =&gt; { // ç›¸å½“äºreturnäº†è¿™ä¸ªthençš„æ‰§è¡Œè¿”å›Promise console.log(5) })}).then(() =&gt; { console.log(6)})// 1 2 3 4 5 6 ä¾‹512345678910111213141516171819202122232425new Promise((resolve, reject) =&gt; { console.log(1) resolve()}).then(() =&gt; { console.log(2) new Promise((resolve, reject) =&gt; { console.log(3) resolve() }).then(() =&gt; { console.log(4) }).then(() =&gt; { console.log(5) })}).then(() =&gt; { console.log(6)})new Promise((resolve, reject) =&gt; { console.log(7) resolve()}).then(() =&gt; { console.log(8)})// 1 7 2 3 8 4 6 5 ä¾‹61234567891011121314151617181920async function async1() { console.log(1); await async2(); console.log(2);}async function async2() { console.log(3);}console.log(4);setTimeout(function () { console.log(5);});async1()new Promise(function (resolve, reject) { console.log(6); resolve();}).then(function () { console.log(7);});console.log(8); è½¬æ¢åçš„ä»£ç  12345678910111213141516171819202122console.log(4);setTimeout(function () { console.log(5);});console.log(1);new Promise((resolve, reject) =&gt; { console.log(3);}).then(() =&gt; { console.log(2);})new Promise(function (resolve, reject) { console.log(6); resolve();}).then(function () { console.log(7);});console.log(8);// 4 1 3 6 8 2 7 5 ä¾‹7123456789101112131415161718192021222324252627282930313233343536373839async function async1() { console.log(1); await async2(); console.log(2);}async function async2() { console.log(3);}new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve() console.log(4) }, 1000);}).then(() =&gt; { console.log(5) new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { async1() resolve() console.log(6) }, 1000) }).then(() =&gt; { console.log(7) }).then(() =&gt; { console.log(8) })}).then(() =&gt; { console.log(9)})new Promise((resolve, reject) =&gt; { console.log(10) setTimeout(() =&gt; { resolve() console.log(11) }, 3000);}).then(() =&gt; { console.log(12)}) è½¬æ¢å 123456789101112131415161718192021222324252627282930313233343536373839new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { resolve() console.log(4) }, 1000);}).then(() =&gt; { console.log(5) new Promise((resolve, reject) =&gt; { setTimeout(() =&gt; { console.log(1); new Promise((resolve, reject) =&gt; { console.log(3); resolve(); }).then(() =&gt; { console.log(2); }) resolve() console.log(6) }, 1000) }).then(() =&gt; { console.log(7) }).then(() =&gt; { console.log(8) })}).then(() =&gt; { console.log(9)})new Promise((resolve, reject) =&gt; { console.log(10) setTimeout(() =&gt; { resolve() console.log(11) }, 3000);}).then(() =&gt; { console.log(12)})// 10 4 5 9 1 3 6 2 7 8 11 12 ä¾‹8123456789101112131415161718192021222324252627282930async function async1() { console.log('async1 start') await async2() console.log('async1 end')}async function async2() { console.log('async start') return new Promise((resolve, reject) =&gt; { resolve() console.log('async2 promise') })}console.log('script start')setTimeout(() =&gt; { console.log('setTimeout')}, 0);async1()new Promise((resolve) =&gt; { console.log('promise1') resolve()}).then(() =&gt; { console.log('promise2')}).then(() =&gt; { console.log('promise3')})console.log('script end') è½¬æ¢å 1234567891011121314151617181920212223242526272829303132333435363738console.log('script start')setTimeout(() =&gt; { console.log('setTimeout')}, 0);console.log('async1 start')new Promise((resolve,reject) =&gt; { console.log('async start') return new Promise((resolve, reject) =&gt; { resolve() console.log('async2 promise') })}).then(() =&gt; { console.log('async1 end')})new Promise((resolve) =&gt; { console.log('promise1') resolve()}).then(() =&gt; { console.log('promise2')}).then(() =&gt; { console.log('promise3')})console.log('script end')// script start// async1 start// async start// async2 promise// promise1// script end// promise2// promise3// async1 end// setTimeout 123456789101112131415161718Promise.resolve().then(() =&gt; { console.log(0); return Promise.resolve(4);}).then((res) =&gt; { console.log(res)})Promise.resolve().then(() =&gt; { console.log(1);}).then(() =&gt; { console.log(2);}).then(() =&gt; { console.log(3);}).then(() =&gt; { console.log(5);}).then(() =&gt;{ console.log(6);})","link":"/JavaScript/3.%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/"},{"title":"ESM","text":"ESMæ˜¯ES6å¼•å…¥çš„JSæ ‡å‡†æ¨¡å—åŒ–è§„èŒƒï¼Œå®ƒçš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»å’Œè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚ åŠŸèƒ½ï¼šæ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼šexportå’Œimportã€‚exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ ç‰¹æ€§ ç¼–è¯‘æ—¶ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»å’Œè¾“å…¥è¾“å‡ºå˜é‡ è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ¨¡å—å†…éƒ¨çš„æ‰€æœ‰å˜é‡ï¼Œå¤–éƒ¨æ— æ³•è·å– å¥½å¤„ ä½¿å¾—é™æ€åˆ†ææˆäº†å¯èƒ½ï¼Œæ¯”å¦‚ç±»å‹æ£€éªŒ ä¸å†éœ€è¦UMDæ¨¡å—æ ¼å¼ å°†æ¥æµè§ˆå™¨çš„æ–° API å°±èƒ½ç”¨æ¨¡å—æ ¼å¼æä¾›ï¼Œä¸å†å¿…é¡»åšæˆå…¨å±€å˜é‡æˆ–è€…navigatorå¯¹è±¡çš„å±æ€§ã€‚ ä¸å†éœ€è¦å¯¹è±¡ä½œä¸ºå‘½åç©ºé—´ï¼ˆæ¯”å¦‚Mathå¯¹è±¡ï¼‰ï¼Œæœªæ¥è¿™äº›åŠŸèƒ½å¯ä»¥é€šè¿‡æ¨¡å—æä¾›ã€‚ exportå¦‚æœä½ å¸Œæœ›å¤–éƒ¨èƒ½å¤Ÿè¯»å–æ¨¡å—å†…éƒ¨çš„æŸä¸ªå˜é‡ï¼Œå¿…é¡»é€šè¿‡exportå…³é”®å­—è¾“å‡ºè¯¥å˜é‡ è¾“å‡ºå˜é‡ 1234567891011// profile.jsexport const a = 1;export const b = 'aaa';export const c = 2021;// å¦ä¸€ç§å†™æ³•const a = 1;const b = 'aaa';const c = 2021;export {a, b, c} ä¸Šé¢çš„è¿™ä¸¤ç§å†™æ³•çš„ç­‰ä»·çš„ï¼Œä½†æ¨èä½¿ç”¨ç¬¬äºŒç§å†™æ³•ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥åœ¨æ¨¡å—çš„æœ«å°¾ä¸€çœ¼çœ‹å‡ºè¯¥æ¨¡å—è¾“å‡ºäº†å“ªäº›å˜é‡ è¾“å‡ºå‡½æ•° 1234567891011export function fn() { console.log()}// å¦ä¸€ç§å†™æ³•function fn1(){}function fn2() {}export {fn1, fn2}// ç»™å‡½æ•°é‡å‘½åexport {fn1 as st1, fn2 as st2, fn2 as st3} ä¸Šé¢ä»£ç ä½¿ç”¨aså…³é”®å­—ï¼Œé‡å‘½åäº†å‡½æ•°v1å’Œv2çš„å¯¹å¤–æ¥å£ã€‚é‡å‘½ååï¼Œv2å¯ä»¥ç”¨ä¸åŒçš„åå­—è¾“å‡ºä¸¤æ¬¡ã€‚ æ³¨æ„ï¼šexportå‘½ä»¤è§„å®šçš„æ˜¯æ¨¡å—å¯¹å¤–çš„æ¥å£ï¼Œå¿…é¡»ä¸æ¨¡å—å†…éƒ¨çš„å˜é‡å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³» ä¾‹å¦‚ä»¥ä¸‹çš„å†™æ³•ä¼šæŠ¥é”™ 123export 1; // æŠ¥é”™const a = 1;export a; // æŠ¥é”™ ä¸Šé¢ä¸¤ç§å†™æ³•éƒ½ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ²¡æœ‰æä¾›å¯¹å¤–çš„æ¥å£ã€‚ç¬¬ä¸€ç§å†™æ³•ç›´æ¥è¾“å‡º 1ï¼Œç¬¬äºŒç§å†™æ³•é€šè¿‡å˜é‡mï¼Œè¿˜æ˜¯ç›´æ¥è¾“å‡º 1ã€‚1åªæ˜¯ä¸€ä¸ªå€¼ï¼Œä¸æ˜¯æ¥å£ã€‚ æ­£ç¡®çš„å†™æ³• 12345678910// å†™æ³•1export const a = 1;// å†™æ³•2const a = 1;export { a }// å†™æ³•3const a = 1;export {a as m} ä¸Šé¢ä¸‰ç§å†™æ³•éƒ½æ˜¯æ­£ç¡®çš„ï¼Œè§„å®šäº†å¯¹å¤–çš„æ¥å£aã€‚å…¶ä»–è„šæœ¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å£ï¼Œå–åˆ°å€¼1ã€‚å®ƒä»¬çš„å®è´¨æ˜¯ï¼Œåœ¨æ¥å£åä¸æ¨¡å—å†…éƒ¨å˜é‡ä¹‹é—´ï¼Œå»ºç«‹äº†ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚ å‡½æ•°å’Œç±»åŒæ ·å¿…é¡»éµå®ˆä¸Šé¢çš„è§„åˆ™ 1234567function fn() {}export fn; // æŠ¥é”™export function fn() {} // æ­£ç¡®function fn() {}export {fn} // æ­£ç¡® exportè¯­å¥è¾“å‡ºçš„æ¥å£ï¼Œä¸å…¶å¯¹åº”çš„å€¼æ˜¯åŠ¨æ€ç»‘å®šå…³ç³»ï¼Œå³é€šè¿‡è¯¥æ¥å£ï¼Œè·å–æ¨¡å—å†…éƒ¨å®æ—¶çš„å€¼ 12export let foo = 'bar';setTimeout(() =&gt; foo = 'baz', 500); ä¸Šé¢çš„ä»£ç è¾“å‡ºæ—¶æ˜¯barï¼Œ500msåä¼šå˜ä¸ºbaz exportåªèƒ½å‡ºç°åœ¨æ¨¡å—çš„é¡¶å±‚ï¼Œä¸èƒ½åœ¨å—çº§ä½œç”¨åŸŸä¸­ export defaultï¼šç”¨äºæ¨¡å—çš„é»˜è®¤å¯¼å‡ºï¼Œä¸€ä¸ªæ¨¡å—ä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ªexport default 123456// index.jsexport default function() { ...}// åŠ è½½ï¼Œå¯ä»¥ä¸ºè¯¥åŒ¿åå‡½æ•°æŒ‡å®šä»»æ„åå­—import aaa from './index.js' importimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ 123456import { a, b, c } from './index.js';// ç›´æ¥ä½¿ç”¨console.log(a);console.log(b);console.log(c); importå‘½ä»¤ä¹Ÿå¯ä»¥ç»™åŠ è½½çš„æ¨¡å—é‡å‘½å 1import { a as st1, b as st2, c as st3 } from './index.js'; importå‘½ä»¤è¾“å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„ï¼Œå› ä¸ºå®ƒæœ¬è´¨æ˜¯è¾“å…¥æ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å…è®¸åœ¨åŠ è½½æ¨¡å—çš„è„šæœ¬é‡Œé¢ï¼Œæ”¹å†™æ¥å£ 123import {a} from './xxx.js'a = {}; // Syntax Error : 'a' is read-only; ä¸Šé¢ä»£ç ä¸­ï¼Œè„šæœ¬åŠ è½½äº†å˜é‡aï¼Œå¯¹å…¶é‡æ–°èµ‹å€¼å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºaæ˜¯ä¸€ä¸ªåªè¯»çš„æ¥å£ã€‚ä½†æ˜¯ï¼Œå¦‚æœaæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ”¹å†™açš„å±æ€§æ˜¯å…è®¸çš„ã€‚ 123import { a } from './xxx.js'a.foo = 'hello'; // åˆæ³•æ“ä½œ importåé¢çš„fromæŒ‡å®šæ¨¡å—æ–‡ä»¶çš„ä½ç½®ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚å¦‚æœä¸å¸¦æœ‰è·¯å¾„ï¼Œåªæ˜¯ä¸€ä¸ªæ¨¡å—åï¼Œé‚£ä¹ˆå¿…é¡»æœ‰é…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰ JavaScript å¼•æ“è¯¥æ¨¡å—çš„ä½ç½®ã€‚ importå‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œã€‚ ç”±äºimportæ˜¯é™æ€æ‰§è¡Œï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼å’Œå˜é‡ï¼Œè¿™äº›åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ç»“æœçš„è¯­æ³•ç»“æ„ã€‚ 12345678910111213// æŠ¥é”™import { 'f' + 'oo' } from 'my_module';// æŠ¥é”™let module = 'my_module';import { foo } from module;// æŠ¥é”™if (x === 1) { import { foo } from 'module1';} else { import { foo } from 'module2';} importè¯­å¥åœ¨æ²¡æœ‰fromçš„æƒ…å†µä¸‹ä¼šæ‰§è¡Œæ‰€åŠ è½½çš„æ¨¡å—ï¼Œå¦‚æœå¤šæ¬¡æ‰§è¡ŒåŒä¸€ä¸ªæ¨¡å—çš„importï¼Œé‚£ä¹ˆåªä¼šæ‰§è¡Œä¸€æ¬¡ 12import 'lodash';import 'lodash'; å¦‚æœæ‰§è¡Œçš„importè¯­å¥å¯¹åº”çš„æ˜¯åŒä¸€ä¸ªæ¨¡å—ï¼Œç­‰åŒäºåªåŠ è½½ä¸€æ¬¡ 12345import { foo } from 'my_module';import { bar } from 'my_module'; // ä¸å»ºè®®è¿™ä¹ˆå†™// ç­‰åŒäºimport { foo, bar } from 'my_module'; å¤åˆå†™æ³•å¦‚æœåœ¨ä¸€ä¸ªæ¨¡å—ä¹‹ä¸­ï¼Œå…ˆè¾“å…¥åè¾“å‡ºåŒä¸€ä¸ªæ¨¡å—ï¼Œimportè¯­å¥å¯ä»¥ä¸exportè¯­å¥å†™åœ¨ä¸€èµ·ã€‚ 12345export { foo, bar } from 'my_module';// å¯ä»¥ç®€å•ç†è§£ä¸ºimport { foo, bar } from 'my_module';export { foo, bar }; import()ES2020ææ¡ˆ å¼•å…¥import()å‡½æ•°ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½æ¨¡å—ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚ 1import(module) å’ŒCommonJsçš„å·®å¼‚ CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒESM æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚ CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒESM æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚ CommonJS æ¨¡å—çš„require()æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼ŒES6 æ¨¡å—çš„importå‘½ä»¤æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¾èµ–çš„è§£æé˜¶æ®µã€‚ CommonJSæ¨¡å—ï¼Œéƒ½æ˜¯åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚ 12345678// CommonJSæ¨¡å—let { stat, exists, readfile } = require('fs');// ç­‰åŒäºlet _fs = require('fs');let stat = _fs.stat;let exists = _fs.exists;let readfile = _fs.readfile; ä¸Šé¢çš„ä»£ç å®è´¨æ˜¯æ•´ä½“åŠ è½½fsæ¨¡å—ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åä»è¿™ä¸‰ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºè¿è¡Œæ—¶åŠ è½½ï¼Œå› ä¸ºåªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡ï¼Œå¯¼è‡´å®Œå…¨æ— æ³•åœ¨ç¼–è¯‘æ—¶åšâ€é™æ€ä¼˜åŒ–â€ NodeJsä»13.2ç‰ˆæœ¬å¼€å§‹æ”¯æŒESMæ¨¡å— CommonJS æ¨¡å—åŠ è½½ ESM æ¨¡å—CommonJsä¸èƒ½é€šè¿‡require()å‘½ä»¤åŠ è½½ESMæ¨¡å—ï¼Œåªèƒ½é€šè¿‡import()å‘½ä»¤åŠ è½½ 12345( async () =&gt; { await import(modlue) })() require()ä¸æ”¯æŒ ESMæ¨¡å—çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œå®ƒæ˜¯åŒæ­¥åŠ è½½ï¼Œè€Œ ES6 æ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨é¡¶å±‚awaitå‘½ä»¤ï¼Œå¯¼è‡´æ— æ³•è¢«åŒæ­¥åŠ è½½ã€‚ ESMæ¨¡å—åŠ è½½CommonjsESMæ¨¡å—çš„importå‘½ä»¤å¯ä»¥åŠ è½½CommonJsæ¨¡å—ï¼Œä½†åªèƒ½æ•´ä½“åŠ è½½ï¼Œä¸èƒ½å•ç‹¬åŠ è½½å•ä¸€çš„è¾“å‡ºé¡¹","link":"/JavaScript/4.ESM/"},{"title":"é˜²æŠ–å’ŒèŠ‚æµ","text":"é˜²æŠ–æ‰€è°“é˜²æŠ–ï¼Œå°±æ˜¯æŒ‡è§¦å‘äº‹ä»¶å n ç§’åæ‰æ‰§è¡Œå‡½æ•°ï¼Œå¦‚æœåœ¨ n ç§’å†…åˆè§¦å‘äº†äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚ 12345678910const debounce = (fn, wait) =&gt; { let timer = 0; return (args) =&gt; { if(timer) window.clearTimeout(timer); timer = window.setTimeout(() =&gt; { fn(args); }, wait) }} èŠ‚æµæ‰€è°“èŠ‚æµï¼Œå°±æ˜¯æŒ‡è¿ç»­è§¦å‘äº‹ä»¶ä½†æ˜¯åœ¨ n ç§’ä¸­åªæ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚ èŠ‚æµä¼šç¨€é‡Šå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡ã€‚ 123456789101112const throttle = (fn, wait) =&gt; { let timer = 0; return (args) =&gt; { if(timer) return; timer = window.setTimeout(() =&gt; { fn(args); timer = 0; }, wait) }}","link":"/JavaScript/5.%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/"},{"title":"JavaScriptç±»æœºåˆ¶","text":"1.ES5 ç»§æ‰¿ES5ä¸­æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œé€šå¸¸é€šè¿‡å£°æ˜ä¸€ä¸ªæ„é€ å‡½æ•°æ¥æ¨¡æ‹Ÿç±» 1234567891011121314151617181920function Person(name) { this.name = name; this.sayName1 = function () { console.log(this.name + 'åœ¨å·¥ä½œ'); }}// åŸå‹é“¾ä¸Šçš„æ–¹æ³•å’Œå±æ€§ä¼šè¢«å¤šä¸ªå®ä¾‹å…±äº«ï¼Œæ„é€ å‡½æ•°ä¸­çš„åˆ™ä¸ä¼šPerson.prototype.sayName2 = function () { console.log(this.name + 'åœ¨å­¦ä¹ ');}// é™æ€æ–¹æ³•Person.sayName3 = () =&gt; { console.log(this.name + 'åœ¨è¿åŠ¨')}var person = new Person('Tom');person.sayName1(); // Tomåœ¨å·¥ä½œperson.sayName2(); // Tomåœ¨å­¦ä¹  åŸå‹æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•çš„åŒºåˆ«ï¼š å†™åœ¨åŸå‹ä¸­çš„æ–¹æ³•å¯ä»¥è¢«æ‰€æœ‰çš„å®ä¾‹å…±äº«ï¼Œ å®ä¾‹åŒ–çš„æ—¶å€™ä¸ä¼šåœ¨å®ä¾‹å†…å­˜ä¸­å†å¤åˆ¶ä¸€ä»½ï¼Œå æœ‰çš„å†…å­˜æ¶ˆè€—å°‘ã€‚ jsä¸­æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ˆæ‰€æœ‰å±æ€§çš„é›†åˆï¼šé»˜è®¤constructorå±æ€§ï¼Œå€¼æŒ‡å‘è¿™ä¸ªå‡½æ•°æœ¬èº«ã€‚ï¼‰ æ¯ä¸ªåŸå‹å¯¹è±¡éƒ½å±äºå¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä¹Ÿæœ‰è‡ªå·±çš„åŸå‹ï¼Œè€Œå®ƒè‡ªå·±çš„åŸå‹å¯¹è±¡åˆæœ‰è‡ªå·±çš„åŸå‹ï¼Œæ‰€ä»¥å°±å½¢æˆäº†åŸå‹é“¾ã€‚ ä¸€ä¸ªå¯¹è±¡çš„éšå¼åŸå‹æŒ‡å‘æ„é€ è¿™ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°çš„æ˜¾å¼åŸå‹ï¼Œæ‰€ä»¥è¿™ä¸ªå¯¹è±¡å¯ä»¥è®¿é—®æ„é€ å‡½æ•°çš„å±æ€§å’Œæ–¹æ³•ã€‚ï¼ˆnewä¸€ä¸ªå®ä¾‹ï¼‰ jsçš„ç»§æ‰¿ä¹Ÿå°±æ˜¯é€šè¿‡åŸå‹é“¾æ¥å®ç°çš„ï¼Œå½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡æœ¬èº«ä¸å­˜åœ¨ï¼Œåˆ™æ²¿ç€__proto__ä¾æ¬¡å¾€ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœæœ‰åˆ™è¿”å›å€¼ï¼Œæ²¡æœ‰åˆ™ä¸€ç›´åˆ°æŸ¥åˆ°Object.prototypeçš„__proto__çš„å€¼ä¸ºnull. ç»§æ‰¿ES5å®ç°ç»§æ‰¿çš„æ–¹å¼æœ‰åŸå‹é“¾ç»§æ‰¿ï¼Œæ„é€ ç»§æ‰¿ï¼Œå®ä¾‹ç»§æ‰¿ï¼Œæ‹·è´ç»§æ‰¿ï¼Œç»„åˆç»§æ‰¿ï¼Œå¯„ç”Ÿç»„åˆç»§æ‰¿è¿™å…­ç§ åŸå‹é“¾ç»§æ‰¿ ä¼˜ç‚¹ å®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨çˆ¶ç±»åŸå‹é“¾ä¸Šçš„å±æ€§å’Œæ–¹æ³• ç¼ºç‚¹ å­ç±»æ— æ³•åœ¨æ„é€ å™¨ä¸­æ–°å¢å±æ€§æˆ–è€…æ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨new Person()ä¹‹å åœ¨å­ç±»å®ä¾‹åŒ–æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»ä¼ å‚ çˆ¶ç±»åŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« 1234567// åŸå‹é“¾ç»§æ‰¿function Cat() { }Cat.prototype = new Person('Pt'); // åªèƒ½åœ¨è¿™é‡Œå‘çˆ¶ç±»ä¼ å‚ï¼Œæˆ–è€…ä¸‹é¢ä»£ç é‚£æ ·var cat = new Cat();cat.sayName1(); æ„é€ ç»§æ‰¿ ä¼˜ç‚¹ è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸­ï¼Œå­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜ åœ¨åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ å‚ ç¼ºç‚¹ å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹ åªèƒ½ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹é“¾ä¸­çš„å±æ€§å’Œæ–¹æ³• æ— æ³•å®ç°å‡½æ•°çš„å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ 1234567function Cat(name) { Person.call(this, name);}var cat = new Cat('Tom');cat.sayName1(); å®ä¾‹ç»§æ‰¿ ç¼ºç‚¹ æ— æ³•å®ç°å¤šç»§æ‰¿ å­ç±»å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡æ˜¯çˆ¶ç±»ç±»å‹ï¼Œä¸æ˜¯å­ç±»ç±»å‹ 123456789// å®ä¾‹ç»§æ‰¿function Cat(name) { var instance = new Person(name); return instance;}var cat = new Cat('Tom');cat.sayName1() ç»„åˆç»§æ‰¿ ä¼˜ç‚¹ å¼¥è¡¥äº†æ„é€ ç»§æ‰¿çš„ç¼ºé™·ï¼Œå¯ä»¥ç»§æ‰¿å®ä¾‹çš„å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§/æ–¹æ³• æ—¢æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ å¯ä»¥å‘çˆ¶ç±»ä¼ å‚ å‡½æ•°å¯ä»¥å¤ç”¨ ç¼ºç‚¹ è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ 1234567891011121314151617function Cat(name, age) { Person.call(this, name); this.age = age;}Cat.prototype = new Person();var cat = new Cat('Tom', 18);console.log(cat.name);cat.sayName1();cat.sayName2();console.log(cat.age); å¯„ç”Ÿç»„åˆç»§æ‰¿1234567891011function Cat(name) { Person.call(this, name);}var Temp = Object.create(Person.prototype); // åˆ›å»ºå¯¹è±¡ï¼Œåˆ›å»ºçˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬Temp.constructor = Cat; // å¢å¼ºå¯¹è±¡ï¼Œå¼¥è¡¥å› é‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤çš„constructor å±æ€§Cat.prototype = Temp; // æŒ‡å®šå¯¹è±¡ï¼Œå°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»çš„åŸå‹var cat = new Cat('Tom');cat.sayName1() 2.newçš„æ—¶å€™éƒ½åšäº†ä»€ä¹ˆï¼Ÿ åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ æŠŠè¿™ä¸ªæ–°å¯¹è±¡çš„__proto__å±æ€§æŒ‡å‘ä½ è¦new çš„é‚£ä¸ªå¯¹è±¡çš„prototype è®©æ„é€ å‡½æ•°é‡Œé¢çš„thisæŒ‡å‘æ–°çš„å¯¹è±¡ï¼Œç„¶åæ‰§è¡Œæ„é€ å‡½æ•° è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ 123456function _new(constructor, ...args) { const obj = Object.create(constructor.prototype); const result = constructor.call(obj, ...args); return result instanceof Object ? result : obj;} 3.ES6 ClassES6æä¾›äº†æ›´æ¥è¿‘ä¼ ç»Ÿçš„å†™æ³•ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥çœ‹ä½œåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå®ƒçš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼ŒES5éƒ½å¯ä»¥åšåˆ° 12345678910class Person { constructor(name) { this.name = name; } sayName() { console.log(this.name + 'åœ¨å­¦ä¹ ') }}const p = new Person('jiacheng') æ„é€ å‡½æ•°ä¸Šçš„prototypeå±æ€§ï¼Œåœ¨ES6ç±»ä¸Šé¢ç»§ç»­å­˜åœ¨ï¼Œäº‹å®ä¸Šï¼Œç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢çš„ 1234567891011121314151617181920class Point { constructor() { // ... } toString() { // ... } toValue() { // ... }}// ç­‰åŒäºPoint.prototype = { constructor() {}, toString() {}, toValue() {},}; å› æ­¤ï¼Œåœ¨ç±»çš„å®ä¾‹ä¸Šé¢è°ƒç”¨æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³• 12345class B{}const b = new B();b.constructor === B.prototype.constructor // true æ‰€ä»¥ï¼Œä½¿ç”¨Object.assin()æ–¹æ³•å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸€æ¬¡å‘ç±»æ·»åŠ å¤šä¸ªæ–¹æ³• 12345678910class Point { constructor(){ // ... }}Object.assign(Point.prototype, { toString(){}, toValue(){}}); prototypeå¯¹è±¡çš„constructorå±æ€§ï¼Œç›´æ¥æŒ‡å‘ç±»æœ¬èº«ï¼Œè¿™ä¸ES5çš„è¡Œä¸ºæ˜¯ä¸€è‡´çš„ 1Point.prototype.constructor === Point // true å¦å¤–ï¼Œç±»å†…éƒ¨æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ 1234567891011121314class Point { constructor(x, y) { // ... } toString() { // ... }}Object.keys(Point.prototype)// []Object.getOwnPropertyNames(Point.prototype)// [&quot;constructor&quot;,&quot;toString&quot;] constructorconstructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¸€ä¸ªç±»å³ä½¿æ²¡æœ‰æ˜¾ç¤ºå®šä¹‰constructorï¼Œä¹Ÿä¼šè¢«é»˜è®¤æ·»åŠ ä¸€ä¸ªç©ºçš„constructor 123456class Person{}// ç›¸å½“äºclass Person { constructor(){}} constructoré»˜è®¤è¿”å›å®ä¾‹å¯¹è±¡ï¼Œå®Œå…¨å¯ä»¥æŒ‡å®šè¿”å›å¦ä¸€ä¸ªå¯¹è±¡ 1234567class Person { constructor() { return Object.create(null) }}new Person instanceof Person // false ç±»å¿…é¡»ä½¿ç”¨newè°ƒç”¨ï¼Œå¦åˆ™ä¼šç›´æ¥æŠ¥é”™ 12345class Person {}Person()// TypeError: Class constructor Foo cannot be invoked without 'new' ç±»çš„å®ä¾‹ç›´æ¥é€šè¿‡newå‘½ä»¤ç”Ÿæˆä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œä¸ES5ä¸åŒçš„æ˜¯ï¼Œç›´æ¥è°ƒç”¨ç±»ä¼šæŠ¥é”™ 123456789class Point { // ...}// æŠ¥é”™var point = Point(2, 3);// æ­£ç¡®var point = new Point(2, 3); ä¸ ES5 ä¸€æ ·ï¼Œå®ä¾‹çš„å±æ€§é™¤éæ˜¾å¼å®šä¹‰åœ¨å…¶æœ¬èº«ï¼ˆå³å®šä¹‰åœ¨thiså¯¹è±¡ä¸Šï¼‰ï¼Œå¦åˆ™éƒ½æ˜¯å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆå³å®šä¹‰åœ¨classä¸Šï¼‰ 12345678910111213141516171819202122//å®šä¹‰ç±»class Point { constructor(x, y) { this.x = x; this.y = y; } toString() { return '(' + this.x + ', ' + this.y + ')'; }}var point = new Point(2, 3);point.toString() // (2, 3)point.hasOwnProperty('x') // truepoint.hasOwnProperty('y') // truepoint.hasOwnProperty('toString') // falsepoint.__proto__.hasOwnProperty('toString') // true ç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«ä¸€ä¸ªåŸå‹å¯¹è±¡ 12345var p1 = new Point(2,3);var p2 = new Point(3,2);//truep1.__proto__ === p2.__proto__ è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹çš„__proto__å±æ€§ä¸ºâ€œç±»â€æ·»åŠ æ–¹æ³•ã€‚ __proto__ å¹¶ä¸æ˜¯è¯­è¨€æœ¬èº«çš„ç‰¹æ€§ï¼Œè¿™æ˜¯å„å¤§å‚å•†å…·ä½“å®ç°æ—¶æ·»åŠ çš„ç§æœ‰å±æ€§ï¼Œè™½ç„¶ç›®å‰å¾ˆå¤šç°ä»£æµè§ˆå™¨çš„ JS å¼•æ“ä¸­éƒ½æä¾›äº†è¿™ä¸ªç§æœ‰å±æ€§ï¼Œä½†ä¾æ—§ä¸å»ºè®®åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨è¯¥å±æ€§ï¼Œé¿å…å¯¹ç¯å¢ƒäº§ç”Ÿä¾èµ–ã€‚ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Object.getPrototypeOf æ–¹æ³•æ¥è·å–å®ä¾‹å¯¹è±¡çš„åŸå‹ï¼Œç„¶åå†æ¥ä¸ºåŸå‹æ·»åŠ æ–¹æ³•/å±æ€§ã€‚ 12345678910var p1 = new Point(2,3);var p2 = new Point(3,2);p1.__proto__.printName = function () { return 'Oops' };p1.printName() // &quot;Oops&quot;p2.printName() // &quot;Oops&quot;var p3 = new Point(4,2);p3.printName() // &quot;Oops&quot; ä¸Šé¢ä»£ç åœ¨p1çš„åŸå‹ä¸Šæ·»åŠ äº†ä¸€ä¸ªprintName()æ–¹æ³•ï¼Œç”±äºp1çš„åŸå‹å°±æ˜¯p2çš„åŸå‹ï¼Œå› æ­¤p2ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è€Œä¸”ï¼Œæ­¤åæ–°å»ºçš„å®ä¾‹p3ä¹Ÿå¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œä½¿ç”¨å®ä¾‹çš„__proto__å±æ€§æ”¹å†™åŸå‹ï¼Œå¿…é¡»ç›¸å½“è°¨æ…ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¼šæ”¹å˜â€œç±»â€çš„åŸå§‹å®šä¹‰ï¼Œå½±å“åˆ°æ‰€æœ‰å®ä¾‹ã€‚ getterå’Œsetterä¸ ES5 ä¸€æ ·ï¼Œåœ¨â€œç±»â€çš„å†…éƒ¨å¯ä»¥ä½¿ç”¨getå’Œsetå…³é”®å­—ï¼Œå¯¹æŸä¸ªå±æ€§è®¾ç½®å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°ï¼Œæ‹¦æˆªè¯¥å±æ€§çš„å­˜å–è¡Œä¸ºã€‚ 12345678910111213141516171819class MyClass { constructor() { // ... } get prop() { return 'getter'; } set prop(value) { console.log('setter: '+value); }}let inst = new MyClass();inst.prop = 123;// setter: 123inst.prop// 'getter' å­˜å€¼å‡½æ•°å’Œå–å€¼å‡½æ•°æ˜¯è®¾ç½®åœ¨å±æ€§çš„ Descriptor å¯¹è±¡ä¸Šçš„ã€‚ 1234567891011121314151617181920class CustomHTMLElement { constructor(element) { this.element = element; } get html() { return this.element.innerHTML; } set html(value) { this.element.innerHTML = value; }}var descriptor = Object.getOwnPropertyDescriptor( CustomHTMLElement.prototype, &quot;html&quot;);&quot;get&quot; in descriptor // true&quot;set&quot; in descriptor // true æ³¨æ„ç‚¹ ä¸¥æ ¼æ¨¡å¼ ç±»å’Œæ¨¡å—çš„å†…éƒ¨ï¼Œé»˜è®¤å°±æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œä¸éœ€è¦ä½¿ç”¨â€™use strictâ€™æŒ‡å®šè¿è¡Œæ¨¡å¼ ä¸å­˜åœ¨æå‡ ç±»ä¸å­˜åœ¨å˜é‡æå‡ Generatoræ–¹æ³• å¦‚æœæŸä¸ªæ–¹æ³•å‰åŠ ä¸Š*ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªGeneratorå‡½æ•° 12345678910111213141516class Foo { constructor(...args) { this.args = args; } * [Symbol.iterator]() { for (let arg of this.args) { yield arg; } }}for (let x of new Foo('hello', 'world')) { console.log(x);}// hello// world ä¸Šé¢ä»£ç ä¸­ï¼ŒFooç±»çš„Symbol.iteratoræ–¹æ³•å‰æœ‰ä¸€ä¸ªæ˜Ÿå·ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•æ˜¯ä¸€ä¸ª Generator å‡½æ•°ã€‚Symbol.iteratoræ–¹æ³•è¿”å›ä¸€ä¸ªFooç±»çš„é»˜è®¤éå†å™¨ï¼Œfor...ofå¾ªç¯ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªéå†å™¨ã€‚ thisçš„æŒ‡å‘ ç±»æ–¹æ³•å†…éƒ¨å¦‚æœå«æœ‰thisï¼Œå®ƒé»˜è®¤æŒ‡å‘ç±»çš„å®ä¾‹ï¼Œä½†è¯¥æ–¹æ³•æ— æ³•å•ç‹¬ä½¿ç”¨ 12345678910111213class Logger { printName(name = 'there') { this.print(`Hello ${name}`); } print(text) { console.log(text); }}const logger = new Logger();const { printName } = logger;printName(); // TypeError: Cannot read property 'print' of undefined ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸ºprintNameæ–¹æ³•ä¸­çš„thisï¼Œé»˜è®¤æŒ‡å‘Loggerç±»çš„å®ä¾‹ï¼Œä½†å¦‚æœå°†è¿™ä¸ªæ–¹æ³•å•ç‹¬æå–å‡ºæ¥ä½¿ç”¨ï¼Œthisä¼šæŒ‡å‘è¯¥æ–¹æ³•è¿è¡Œæ—¶æ‰€åœ¨çš„ç¯å¢ƒï¼Œè€Œç”±äºclasså†…éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥è¿™æ—¶å€™thisç›´æ¥æŒ‡å‘undefinedï¼Œå¯¼è‡´æŠ¥é”™ è§£å†³æ–¹æ³•ï¼š åœ¨æ„é€ æ–¹æ³•ä¸­ç»‘å®šthisï¼Œè¿™æ ·å°±ä¸ä¼šæ‰¾ä¸åˆ°printæ–¹æ³•äº†ã€‚ 12345678910111213class Logger { constructor() { this.printName = this.printName.bind(this); } printName(name = 'there') { this.print(`Hello ${name}`); } print(text) { console.log(text); }} ä½¿ç”¨ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ€»æ˜¯æŒ‡å‘å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ä¸Šé¢ä»£ç ä¸­ï¼Œç®­å¤´å‡½æ•°ä½äºæ„é€ å‡½æ•°å†…éƒ¨ï¼Œå®ƒçš„å®šä¹‰ç”Ÿæ•ˆçš„æ—¶å€™ï¼Œæ˜¯åœ¨æ„é€ å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ã€‚è¿™æ—¶ï¼Œç®­å¤´å‡½æ•°æ‰€åœ¨çš„è¿è¡Œç¯å¢ƒï¼Œè‚¯å®šæ˜¯å®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥thisä¼šæ€»æ˜¯æŒ‡å‘å®ä¾‹å¯¹è±¡ 123456789101112131415class Person { printName = () =&gt; { this.print() } print() { console.log('111'); }}var p = new Person();var { printName } = p;printName() é™æ€æ–¹æ³•ç±»ç›¸å½“äºå®ä¾‹çš„åŸå‹ï¼Œæ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½ä¼šè¢«å®ä¾‹ç»§æ‰¿ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ–¹æ³•å‰é¢åŠ ä¸Šstaticå…³é”®å­—ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šè¢«å®ä¾‹ç»§æ‰¿ï¼Œè€Œæ˜¯é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œè¿™è¢«ç§°ä¸ºé™æ€æ–¹æ³• 1234567891011class Foo { static classMethod() { return 'hello'; }}Foo.classMethod() // 'hello'var foo = new Foo();foo.classMethod()// TypeError: foo.classMethod is not a function å¦‚æœé™æ€æ–¹æ³•ä¸­åŒ…å«thiså…³é”®å­—ï¼Œè¿™ä¸ªthisæŒ‡å‘çš„æ˜¯ç±»ï¼Œè€Œä¸æ˜¯å®ä¾‹ 12345678910111213class Foo { static bar() { this.baz(); } static baz() { console.log('hello'); } baz() { console.log('world'); }}Foo.bar() // hello çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œå¯ä»¥è¢«å­ç±»ç»§æ‰¿ é™æ€æ–¹æ³•ä¹Ÿå¯ä»¥ä»superå¯¹è±¡ä¸Šè°ƒç”¨ 12345678910111213class Foo { static classMethod() { return 'hello'; }}class Bar extends Foo { static classMethod() { return super.classMethod() + ', too'; }}Bar.classMethod() // &quot;hello, too&quot; é™æ€å±æ€§é™æ€å±æ€§æ˜¯æŒ‡classæœ¬èº«çš„å±æ€§ï¼Œè€Œä¸æ˜¯å®šä¹‰åœ¨å®ä¾‹å¯¹è±¡ä¸Šçš„å±æ€§ 123456789101112class Foo {}Foo.prop = 1;// æˆ–è€…class Foo{ static name = 'jiacheng'}Foo.name; // jiacheng 4.ç»§æ‰¿classé€šè¿‡extendså…³é”®å­—æ¥å®ç°ç»§æ‰¿ 123class Person{}class ColorPoint extends Person {} super superå…³é”®å­—è¡¨ç¤ºçˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨æ¥æ–°å»ºçˆ¶ç±»çš„thiså¯¹è±¡ å­ç±»å¿…é¡»åœ¨constructorä¸­è°ƒç”¨superæ–¹æ³•ï¼Œå¦åˆ™ä¼šæŠ¥é”™ 12345678910class ColorPoint extends Point { constructor(x, y, color) { super(x, y); // è°ƒç”¨çˆ¶ç±»çš„constructor(x, y) this.color = color; } toString() { return this.color + ' ' + super.toString(); // è°ƒç”¨çˆ¶ç±»çš„toString() }} 5.å’ŒES5ç»§æ‰¿çš„åŒºåˆ« ES5é‡Œçš„æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨newè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸”å­˜åœ¨å˜é‡æå‡ã€‚ES6çš„classå¿…é¡»ä½¿ç”¨newæ“ä½œç¬¦è°ƒç”¨ï¼Œä¸”ä¸å­˜åœ¨å˜é‡æå‡ ES5å­ç±»çš„åŸå‹æ˜¯æŒ‡å‘Function.prototypeï¼Œè€ŒES6å­ç±»çš„åŸå‹æ˜¯æŒ‡å‘çˆ¶ç±»çš„ ES5çš„åŸå‹æ–¹æ³•å’Œé™æ€æ–¹æ³•æ˜¯å¯æšä¸¾çš„ï¼Œè€Œclassçš„é»˜è®¤ä¸å¯æšä¸¾ï¼Œä½†å¯ä»¥ä½¿ç”¨Object.getOwnPropertyNamesæ–¹æ³•è·å– ES5çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ ä¸€ä¸ªå­ç±»å®ä¾‹å¯¹è±¡çš„thisï¼Œç„¶åå†æ‰§è¡Œçˆ¶ç±»æ„é€ å‡½æ•°ç»™å®ƒæ·»åŠ å®ä¾‹æ–¹æ³•å’Œå±æ€§(ä¸æ‰§è¡Œä¹Ÿæ— æ‰€è°“)ï¼›ES6çš„ç»§æ‰¿æœºåˆ¶åˆ™ç›¸åï¼Œå…ˆå°†çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŠ åˆ°ä¸€ä¸ªç©ºå¯¹è±¡ä¸Šï¼Œç„¶åå†å°†è¯¥å¯¹è±¡ä½œä¸ºå­ç±»çš„å®ä¾‹ï¼Œå³â€ç»§æ‰¿åœ¨å‰ï¼Œå®ä¾‹åœ¨åâ€","link":"/JavaScript/6.%E7%B1%BB/"},{"title":"ES6è¿ç®—ç¬¦çš„æ‰©å±•","text":"1.æŒ‡æ•°è¿ç®—ç¬¦ES2016æ–°å¢çš„æŒ‡æ•°è¿ç®—ç¬¦** 1234562** 2 // 42 ** 3 // 8// ç›¸å½“äºMath.pow(2,2)Math.pow(2,3) æŒ‡æ•°è¿ç®—ç¬¦çš„ç‰¹ç‚¹æ˜¯å³ç»“åˆ 1232 ** 3 ** 2 // 512//ç›¸å½“äº 2 ** (3 ** 2) æŒ‡æ•°è¿ç®—ç¬¦å¯ä»¥å’Œç­‰å·ç»“åˆ 123let a = 3;a **= 3; // ç›¸å½“äº a = a ** 3; 2.é“¾å¼åˆ¤æ–­è¿ç®—ç¬¦å½“æˆ‘ä»¬æƒ³è¦è¯»å–å˜é‡ä¸­çš„æŸä¸ªå±æ€§å¹¶è¿›è¡Œä¸€å®šæ“ä½œæ—¶ï¼Œå¾€å¾€éœ€è¦åˆ¤æ–­ä¸€ä¸‹å¯¹è±¡ä¸­çš„å±æ€§æ˜¯å¦å­˜åœ¨ 12345678// é”™è¯¯çš„å†™æ³•const firstName = message.body.user.firstName || 'default';// æ­£ç¡®çš„å†™æ³•(éœ€è¦åˆ¤æ–­å››æ¬¡)const firstName = (message &amp;&amp; message.body &amp;&amp; message.body.user &amp;&amp; message.body.user.firstName) || 'default'; æˆ–è€…ä½¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦ 12const fooInput = myForm.querySelector('input[name=foo]')const fooValue = fooInput ? fooInput.value : undefined ES2020å¼•å…¥äº†é“¾åˆ¤æ–­è¿ç®—ç¬¦ï¼Œæ¥ç®€åŒ–è¿™äº›åˆ¤æ–­?. 12const firstName = message?.body?.user?.firstName || 'default';const fooValue = myForm.querySelector('input[name=foo]')?.value ä½¿ç”¨é“¾åˆ¤æ–­è¿ç®—ç¬¦çš„è¯­å¥ï¼Œç›´æ¥åœ¨è°ƒç”¨æ—¶ä¼šåˆ¤æ–­å·¦ä¾§çš„å¯¹è±¡æ˜¯å¦ä¸ºnullæˆ–undefinedï¼Œå¦‚æœæ˜¯ï¼Œåˆ™åœæ­¢å¾€ä¸‹æ‰§è¡Œå¹¶è¿”å›undefined å¸¸è§å†™æ³•123456789101112131415a?.b// ç­‰åŒäºa == null ? undefined : a.ba?.[x]// ç­‰åŒäºa == null ? undefined : a[x]a?.b()// ç­‰åŒäºa == null ? undefined : a.b()a?.()// ç­‰åŒäºa == null ? undefined : a() æœ¬è´¨ä¸Šï¼Œ?.è¿ç®—ç¬¦ç›¸å½“äºä¸€ç§çŸ­è·¯æœºåˆ¶ï¼Œåªè¦ä¸æ»¡è¶³æ¡ä»¶ï¼Œå°±ä¸å†å¾€ä¸‹æ‰§è¡Œ å¦‚æœå±æ€§é“¾ä¸­å¸¦æœ‰æ‹¬å·ï¼Œé‚£ä¹ˆé“¾åˆ¤æ–­è¿ç®—ç¬¦å¯¹æ‹¬å·å¤–éƒ¨æ²¡æœ‰å½±å“ 123(a?.b).c; // ç­‰ä»·äº (a == null ? undefined : a.b).c ç¦æ­¢ä½¿ç”¨çš„åœºæ™¯123456789101112// æ„é€ å‡½æ•°new a?.()new a?.b()// å³ä¾§æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²a?.`${b}`;// å·¦ä¾§æ˜¯supersuper?.foo()// åœ¨èµ‹å€¼çš„å·¦ä¾§a?.b = c; 3.ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦è¯»å–å¯¹è±¡å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå±æ€§æ˜¯nullæˆ–è€…undefinedï¼Œæœ‰æ—¶å€™éœ€è¦ä¸ºå®ƒä»¬æŒ‡å®šé»˜è®¤å€¼ï¼Œå¸¸è§çš„åšæ³•æ˜¯é€šè¿‡|| 1const a?.b || 'a'; ä½†||ä½¿ç”¨è¿ç®—ç¬¦ä¼šå¯¼è‡´åªè¦å·¦ä¾§è½¬æ¢åçš„å¸ƒå°”å€¼æ˜¯falseï¼Œå°±ä¼šæ‰§è¡Œå³ä¾§ è€Œåœ¨jsä¸­ï¼Œfalse &quot;&quot; NaN 0 null undefinedç­‰éƒ½ä¼šè¢«åˆ¤æ–­ä¸ºfalse ä¸ºäº†äº†é¿å…è¿™ç§æƒ…å†µï¼ŒES2020å¼•å…¥äº†ä¸€ä¸ªæ–°çš„nullåˆ¤æ–­è¿ç®—ç¬¦??ï¼Œåªæœ‰åœ¨å·¦ä¾§æ˜¯nullæˆ–è€…undefinedæ—¶æ‰ä¼šè¿”å›å³ä¾§çš„å€¼ 1const a?.b ?? 'a'; ä¼˜å…ˆçº§??æœ¬è´¨ä¸Šæ˜¯é€»è¾‘è¿ç®—ç¬¦ï¼Œä¸||å’Œ&amp;&amp;ä¸€èµ·ä½¿ç”¨æ—¶å­˜åœ¨ä¼˜å…ˆçº§é—®é¢˜ï¼Œå¿…é¡»ä½¿ç”¨æ‹¬å·æ¥è¡¨ç¤ºå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ 1234567891011(lhs &amp;&amp; middle) ?? rhs;lhs &amp;&amp; (middle ?? rhs);(lhs ?? middle) &amp;&amp; rhs;lhs ?? (middle &amp;&amp; rhs);(lhs || middle) ?? rhs;lhs || (middle ?? rhs);(lhs ?? middle) || rhs;lhs ?? (middle || rhs); 4.é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ES2021å¼•å…¥äº†ä¸‰ä¸ªé€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ 12345x ||= y // ç›¸å½“äº x || (x = y)x ??= y // ç›¸å½“äº x ?? (x = y)x &amp;&amp;= y // ç›¸å½“äº x &amp;&amp; (x = y) å®ƒä»¬çš„ä¸€ä¸ªç”¨é€”æ˜¯ï¼Œä¸ºå˜é‡æˆ–å±æ€§è®¾ç½®é»˜è®¤å€¼ã€‚ 12345// è€çš„å†™æ³•user.id = user.id || 1;// æ–°çš„å†™æ³•user.id ||= 1; ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œuser.idå±æ€§å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è®¾ä¸º1ï¼Œæ–°çš„å†™æ³•æ¯”è€çš„å†™æ³•æ›´ç´§å‡‘ä¸€äº›ã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚ 1234function example(opts) { opts.foo = opts.foo ?? 'bar'; opts.baz ?? (opts.baz = 'qux');} ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‚æ•°å¯¹è±¡optså¦‚æœä¸å­˜åœ¨å±æ€§fooå’Œå±æ€§bazï¼Œåˆ™ä¸ºè¿™ä¸¤ä¸ªå±æ€§è®¾ç½®é»˜è®¤å€¼ã€‚æœ‰äº†â€œNull èµ‹å€¼è¿ç®—ç¬¦â€ä»¥åï¼Œå°±å¯ä»¥ç»Ÿä¸€å†™æˆä¸‹é¢è¿™æ ·ã€‚ 1234function example(opts) { opts.foo ??= 'bar'; opts.baz ??= 'qux';}","link":"/JavaScript/2.%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"Symbolå…³é”®å­—","text":"1.æ¦‚è¿°ES5 çš„å¯¹è±¡å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚æ¯”å¦‚ï¼Œä½ ä½¿ç”¨äº†ä¸€ä¸ªä»–äººæä¾›çš„å¯¹è±¡ï¼Œä½†åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•ï¼ˆmixin æ¨¡å¼ï¼‰ï¼Œæ–°æ–¹æ³•çš„åå­—å°±æœ‰å¯èƒ½ä¸ç°æœ‰æ–¹æ³•äº§ç”Ÿå†²çªã€‚å¦‚æœæœ‰ä¸€ç§æœºåˆ¶ï¼Œä¿è¯æ¯ä¸ªå±æ€§çš„åå­—éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„å°±å¥½äº†ï¼Œè¿™æ ·å°±ä»æ ¹æœ¬ä¸Šé˜²æ­¢å±æ€§åçš„å†²çªã€‚è¿™å°±æ˜¯ ES6 å¼•å…¥Symbolçš„åŸå› ã€‚ ES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹Symbolï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ã€‚å®ƒæ˜¯ JavaScript è¯­è¨€çš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼Œå‰å…­ç§æ˜¯ï¼šundefinedã€nullã€å¸ƒå°”å€¼ï¼ˆBooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å€¼ï¼ˆNumberï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€‚ Symbol å€¼é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„å±æ€§åç°åœ¨å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯åŸæ¥å°±æœ‰çš„å­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§å°±æ˜¯æ–°å¢çš„ Symbol ç±»å‹ã€‚å‡¡æ˜¯å±æ€§åå±äº Symbol ç±»å‹ï¼Œå°±éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä¿è¯ä¸ä¼šä¸å…¶ä»–å±æ€§åäº§ç”Ÿå†²çªã€‚ 123let s = Symbol();console.log(s); // 'symbol' æ³¨æ„ï¼ŒSymbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆçš„ Symbol æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äº Symbol å€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±æ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºå­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹ã€‚ Symbolå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹ Symbol å®ä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚ 12345678let s1 = Symbol('foo');let s2 = Symbol('bar');s1 // Symbol(foo)s2 // Symbol(bar)s1.toString() // &quot;Symbol(foo)&quot;s2.toString() // &quot;Symbol(bar)&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡så°±æ˜¯ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ã€‚typeofè¿ç®—ç¬¦çš„ç»“æœï¼Œè¡¨æ˜å˜é‡sæ˜¯ Symbol æ•°æ®ç±»å‹ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ä¹‹ç±»çš„å…¶ä»–ç±»å‹ã€‚ ä¸èƒ½ä½¿ç”¨newå‘½ä»¤æ³¨æ„ï¼ŒSymbolå‡½æ•°å‰ä¸èƒ½ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºç”Ÿæˆçš„ Symbol æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äº Symbol å€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±æ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ä¸€ç§ç±»ä¼¼äºå­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹ã€‚ 1var sym = new Symbol(); // TypeError è¿™ä¼šé˜»æ­¢åˆ›å»ºä¸€ä¸ªæ˜¾å¼çš„ Symbol åŒ…è£…å™¨å¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ª Symbol å€¼ã€‚å›´ç»•åŸå§‹æ•°æ®ç±»å‹åˆ›å»ºä¸€ä¸ªæ˜¾å¼åŒ…è£…å™¨å¯¹è±¡ä» ECMAScript 6 å¼€å§‹ä¸å†è¢«æ”¯æŒã€‚ ç„¶è€Œï¼Œç°æœ‰çš„åŸå§‹åŒ…è£…å™¨å¯¹è±¡ï¼Œå¦‚ new Booleanã€new Stringä»¥åŠnew Numberï¼Œå› ä¸ºé—ç•™åŸå› ä»å¯è¢«åˆ›å»ºã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒSymbolæ— æ³•è¢«newå‘½ä»¤åˆ›å»ºæ˜¯è¯­æ³•æ•…æ„è¿™ä¹ˆåšçš„ï¼Œä»ES6å¼€å§‹ä¸å†æ”¯æŒå›´ç»•åŸå§‹æ•°æ®ç±»å‹åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºåŒ…è£…å™¨å¯¹è±¡ å¦‚æœä½ çœŸçš„æƒ³åˆ›å»ºä¸€ä¸ª Symbol åŒ…è£…å™¨å¯¹è±¡ (Symbol wrapper object)ï¼Œä½ å¯ä»¥ä½¿ç”¨ Object() å‡½æ•° 1234var sym = Symbol(&quot;foo&quot;);typeof sym; // &quot;symbol&quot;var symObj = Object(sym);typeof symObj; // &quot;object&quot; Symbolå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºå¯¹ Symbol å®ä¾‹çš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°æ˜¾ç¤ºï¼Œæˆ–è€…è½¬ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œæ¯”è¾ƒå®¹æ˜“åŒºåˆ†ã€‚ 12345678let s1 = Symbol('foo');let s2 = Symbol('bar');s1 // Symbol(foo)s2 // Symbol(bar)s1.toString() // &quot;Symbol(foo)&quot;s2.toString() // &quot;Symbol(bar)&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œs1å’Œs2æ˜¯ä¸¤ä¸ª Symbol å€¼ã€‚å¦‚æœä¸åŠ å‚æ•°ï¼Œå®ƒä»¬åœ¨æ§åˆ¶å°çš„è¾“å‡ºéƒ½æ˜¯Symbol()ï¼Œä¸åˆ©äºåŒºåˆ†ã€‚æœ‰äº†å‚æ•°ä»¥åï¼Œå°±ç­‰äºä¸ºå®ƒä»¬åŠ ä¸Šäº†æè¿°ï¼Œè¾“å‡ºçš„æ—¶å€™å°±èƒ½å¤Ÿåˆ†æ¸…ï¼Œåˆ°åº•æ˜¯å“ªä¸€ä¸ªå€¼ã€‚ å¦‚æœ Symbol çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„toStringæ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åæ‰ç”Ÿæˆä¸€ä¸ª Symbol å€¼ã€‚ 1234567const obj = { toString() { return 'abc'; }};const sym = Symbol(obj);sym // Symbol(abc) æ³¨æ„ï¼ŒSymbolå‡½æ•°çš„å‚æ•°åªæ˜¯è¡¨ç¤ºå¯¹å½“å‰ Symbol å€¼çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„Symbolå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 1234567891011// æ²¡æœ‰å‚æ•°çš„æƒ…å†µlet s1 = Symbol();let s2 = Symbol();s1 === s2 // false// æœ‰å‚æ•°çš„æƒ…å†µlet s1 = Symbol('foo');let s2 = Symbol('foo');s1 === s2 // false ä¸Šé¢ä»£ç ä¸­ï¼Œs1å’Œs2éƒ½æ˜¯Symbolå‡½æ•°çš„è¿”å›å€¼ï¼Œè€Œä¸”å‚æ•°ç›¸åŒï¼Œä½†æ˜¯å®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„ã€‚ Symbol å€¼ä¸èƒ½ä¸å…¶ä»–ç±»å‹çš„å€¼è¿›è¡Œè¿ç®—ï¼Œä¼šæŠ¥é”™ã€‚ 123456let sym = Symbol('My symbol');&quot;your symbol is &quot; + sym// TypeError: can't convert symbol to string`your symbol is ${sym}`// TypeError: can't convert symbol to string ä½†æ˜¯ï¼ŒSymbol å€¼å¯ä»¥æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²ã€‚ 1234let sym = Symbol('My symbol');String(sym) // 'Symbol(My symbol)'sym.toString() // 'Symbol(My symbol)' å¦å¤–ï¼ŒSymbol å€¼ä¹Ÿå¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ï¼Œä½†æ˜¯ä¸èƒ½è½¬ä¸ºæ•°å€¼ã€‚ 12345678910let sym = Symbol();Boolean(sym) // true!sym // falseif (sym) { // ...}Number(sym) // TypeErrorsym + 2 // TypeError 2.Symbol.prototype.descriptionåˆ›å»º Symbol çš„æ—¶å€™ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªæè¿°ã€‚ 1const sym = Symbol('foo'); ä¸Šé¢ä»£ç ä¸­ï¼Œsymçš„æè¿°å°±æ˜¯å­—ç¬¦ä¸²fooã€‚ ä½†æ˜¯ï¼Œè¯»å–è¿™ä¸ªæè¿°éœ€è¦å°† Symbol æ˜¾å¼è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå³ä¸‹é¢çš„å†™æ³•ã€‚ 1234const sym = Symbol('foo');String(sym) // &quot;Symbol(foo)&quot;sym.toString() // &quot;Symbol(foo)&quot; ä¸Šé¢çš„ç”¨æ³•ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚ES2019æä¾›äº†ä¸€ä¸ªå®ä¾‹å±æ€§descriptionï¼Œç›´æ¥è¿”å› Symbol çš„æè¿°ã€‚ 123const sym = Symbol('foo');sym.description // &quot;foo&quot; 3.ä½œä¸ºå±æ€§åç”±äºæ¯ä¸€ä¸ªSymbolå€¼éƒ½ä¸ç›¸ç­‰ï¼Œè¿™æ„å‘³ç€Symbolå€¼å¯ä»¥ä½œä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºå¯¹è±¡çš„å±æ€§åï¼Œå°±èƒ½ä¿è¯ä¸ä¼šå‡ºç°åŒåçš„å±æ€§ï¼Œè¿™å¯¹äºä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªæ¨¡å—æ„æˆçš„æƒ…å†µéå¸¸æœ‰ç”¨ï¼Œèƒ½é˜²æ­¢æŸä¸€ä¸ªé”®ä¸å°å¿ƒæ”¹å†™æˆ–è¦†ç›– 1234567891011121314151617let mySymbol = Symbol();// ç¬¬ä¸€ç§å†™æ³•let a = {};a[mySymbol] = 'Hello!';// ç¬¬äºŒç§å†™æ³•let a = { [mySymbol]: 'Hello!'};// ç¬¬ä¸‰ç§å†™æ³•let a = {};Object.defineProperty(a, mySymbol, { value: 'Hello!' });// ä»¥ä¸Šå†™æ³•éƒ½å¾—åˆ°åŒæ ·ç»“æœa[mySymbol] // &quot;Hello!&quot; æ³¨æ„ï¼šSymbolå€¼ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ï¼Œä¸èƒ½ä½¿ç”¨.è¿ç®—ç¬¦ 123456const mySymbol = Symbol();const a = {};a.mySymbol = 'Hello!';a[mySymbol] // undefineda['mySymbol'] // &quot;Hello!&quot; Symbol ç±»å‹è¿˜å¯ä»¥ç”¨äºå®šä¹‰ä¸€ç»„å¸¸é‡ï¼Œä¿è¯è¿™ç»„å¸¸é‡çš„å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 123456789const log = {};log.levels = { DEBUG: Symbol('debug'), INFO: Symbol('info'), WARN: Symbol('warn')};console.log(log.levels.DEBUG, 'debug message');console.log(log.levels.INFO, 'info message'); ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚ 12345678910111213const COLOR_RED = Symbol();const COLOR_GREEN = Symbol();function getComplement(color) { switch (color) { case COLOR_RED: return COLOR_GREEN; case COLOR_GREEN: return COLOR_RED; default: throw new Error('Undefined color'); }} å¸¸é‡ä½¿ç”¨ Symbol å€¼æœ€å¤§çš„å¥½å¤„ï¼Œå°±æ˜¯å…¶ä»–ä»»ä½•å€¼éƒ½ä¸å¯èƒ½æœ‰ç›¸åŒçš„å€¼äº†ï¼Œå› æ­¤å¯ä»¥ä¿è¯ä¸Šé¢çš„switchè¯­å¥ä¼šæŒ‰è®¾è®¡çš„æ–¹å¼å·¥ä½œã€‚ è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼ŒSymbol å€¼ä½œä¸ºå±æ€§åæ—¶ï¼Œè¯¥å±æ€§è¿˜æ˜¯å…¬å¼€å±æ€§ï¼Œä¸æ˜¯ç§æœ‰å±æ€§ã€‚ 4.å±æ€§åçš„éå†Symbol ä½œä¸ºå±æ€§åï¼Œéå†å¯¹è±¡çš„æ—¶å€™ï¼Œè¯¥å±æ€§ä¸ä¼šå‡ºç°åœ¨for...inã€for...ofå¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«Object.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify()è¿”å›ã€‚ ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¸æ˜¯ç§æœ‰å±æ€§ï¼Œæœ‰ä¸€ä¸ªObject.getOwnPropertySymbols()æ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰ Symbol å±æ€§åã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å½“å‰å¯¹è±¡çš„æ‰€æœ‰ç”¨ä½œå±æ€§åçš„ Symbol å€¼ã€‚ 1234567891011const obj = {};let a = Symbol('a');let b = Symbol('b');obj[a] = 'Hello';obj[b] = 'World';const objectSymbols = Object.getOwnPropertySymbols(obj);objectSymbols// [Symbol(a), Symbol(b)] ä¸Šé¢ä»£ç æ˜¯Object.getOwnPropertySymbols()æ–¹æ³•çš„ç¤ºä¾‹ï¼Œå¯ä»¥è·å–æ‰€æœ‰ Symbol å±æ€§åã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ï¼ŒObject.getOwnPropertySymbols()æ–¹æ³•ä¸for...inå¾ªç¯ã€Object.getOwnPropertyNamesæ–¹æ³•è¿›è¡Œå¯¹æ¯”çš„ä¾‹å­ã€‚ 1234567891011const obj = {};const foo = Symbol('foo');obj[foo] = 'bar';for (let i in obj) { console.log(i); // æ— è¾“å‡º}Object.getOwnPropertyNames(obj) // []Object.getOwnPropertySymbols(obj) // [Symbol(foo)] ä¸Šé¢ä»£ç ä¸­ï¼Œä½¿ç”¨for...inå¾ªç¯å’ŒObject.getOwnPropertyNames()æ–¹æ³•éƒ½å¾—ä¸åˆ° Symbol é”®åï¼Œéœ€è¦ä½¿ç”¨Object.getOwnPropertySymbols()æ–¹æ³•ã€‚ å¦ä¸€ä¸ªæ–°çš„ APIï¼ŒReflect.ownKeys()æ–¹æ³•å¯ä»¥è¿”å›æ‰€æœ‰ç±»å‹çš„é”®åï¼ŒåŒ…æ‹¬å¸¸è§„é”®åå’Œ Symbol é”®åã€‚ 12345678let obj = { [Symbol('my_key')]: 1, enum: 2, nonEnum: 3};Reflect.ownKeys(obj)// [&quot;enum&quot;, &quot;nonEnum&quot;, Symbol(my_key)] 5.Symbol.for()å’ŒSymbol.keyFor()Symbol.for()æ–¹æ³•æ¥å—åŒä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ï¼Œç„¶åæœç´¢æœ‰æ²¡æœ‰ä»¥è¯¥å‚æ•°ä½œä¸ºåç§°çš„Symbolå€¼ï¼Œå¦‚æœæœ‰ï¼Œå°±è¿”å›è¿™ä¸ªSymbolå€¼ï¼Œå¦åˆ™å°±æ–°å»ºä¸€ä¸ªä»¥è¯¥å­—ç¬¦ä¸²ä¸ºåç§°çš„Symbolå€¼ï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°å…¨å±€ 1234let s1 = Symbol.for('foo');let s2 = Symbol.for('foo');s1 === s2 // true Symbol.keyFor()æ–¹æ³•è¿”å›ä¸€ä¸ªå·²ç™»è®°çš„ Symbol ç±»å‹å€¼çš„keyã€‚ 12345let s1 = Symbol.for(&quot;foo&quot;);Symbol.keyFor(s1) // &quot;foo&quot;let s2 = Symbol(&quot;foo&quot;);Symbol.keyFor(s2) // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡s2å±äºæœªç™»è®°çš„ Symbol å€¼ï¼Œæ‰€ä»¥è¿”å›undefinedã€‚ æ³¨æ„ï¼ŒSymbol.for()ä¸º Symbol å€¼ç™»è®°çš„åå­—ï¼Œæ˜¯å…¨å±€ç¯å¢ƒçš„ï¼Œä¸ç®¡æœ‰æ²¡æœ‰åœ¨å…¨å±€ç¯å¢ƒè¿è¡Œã€‚ 6.ç†è§£Symbolè¿™ä¸ªæ•°æ®ç±»å‹å¼•å…¥çš„åŸæœ¬ç›®çš„æ˜¯é˜²æ­¢å¯¹è±¡çš„å±æ€§åå‘½åå†²çªã€‚å› ä¸ºå¯¹è±¡çš„å±æ€§ååªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æœ‰å¯èƒ½å‘½åå†²çª Symbolçš„å€¼ç”±Symbolå‡½æ•°è¿›è¡Œç”Ÿæˆï¼Œå¯¹è±¡çš„å±æ€§åŸæœ¬åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œç°åœ¨å¯ä»¥æ˜¯Symbolç±»å‹ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒ 123456789let name = Symbol();console.log(name);let obj = { [name]: 'jiacheng'} åˆ›å»ºSymbolå˜é‡æ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªæè¿°ï¼Œå¦‚æœè¦è¯»å–è¿™ä¸ªæè¿°ï¼Œå¯ä»¥ä½¿ç”¨ES2019æ–°å¢çš„å®ä¾‹æ–¹æ³•Symbol.prototype.description 12345let foo = Symbol('foo');console.log(foo.description);console.log(foo.toString()); å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­æœ‰Symbolç±»å‹çš„å±æ€§åï¼Œé‚£ä¹ˆå®ƒåœ¨éå†æ—¶ä¸ä¼šå‡ºç°åœ¨for...in Object.key Object.getOwnPropertyName()JSON.stringify()ä¸­ å¯ä»¥é€šè¿‡Object.getOwnPropertySymbols()è·å–å¯¹è±¡ä¸­æ‰€æœ‰çš„Symbolå¯¹è±¡æˆ–è€…ä½¿ç”¨Reflect.ownKeys()","link":"/JavaScript/20.Symbol/"},{"title":"Setå’ŒMapæ•°æ®ç»“æ„","text":"1.SetES6æä¾›äº†æ–°çš„æ•°æ®ç»“æ„Setã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ æ³¨æ„ï¼šSetç»“æ„æ²¡æœ‰é”®åï¼Œæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ Setæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”ŸæˆSetæ•°æ®ç»“æ„ 12345678const s = new Set();[2, 3, 5, 4, 5, 2, 2].forEach(x =&gt; s.add(x));for (let i of s) { console.log(i);}// 2 3 5 4 ä¸Šé¢çš„ä»£ç é€šè¿‡add()æ–¹æ³•å‘Setç»“æ„åŠ å…¥æˆå‘˜ï¼Œç»“æœè¡¨æ˜Setç»“æ„ä¸ä¼šæ·»åŠ é‡å¤çš„å€¼ Setå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„(æˆ–è€…å…·æœ‰iteratoræ¥å£çš„å…¶ä»–æ•°æ®ç»“æ„)ï¼Œä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ– 12345678910111213141516171819// ä¾‹ä¸€const set = new Set([1, 2, 3, 4, 4]);[...set]// [1, 2, 3, 4]// ä¾‹äºŒconst items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);items.size // 5// ä¾‹ä¸‰const set = new Set(document.querySelectorAll('div'));set.size // 56// ç±»ä¼¼äºconst set = new Set();document .querySelectorAll('div') .forEach(div =&gt; set.add(div));set.size // 56 ä¸Šé¢ä»£ç ä¸­ï¼Œä¾‹ä¸€å’Œä¾‹äºŒéƒ½æ˜¯Setå‡½æ•°æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œä¾‹ä¸‰æ˜¯æ¥å—ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚ 12// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜[...new Set(array)] å‘ Set åŠ å…¥å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå‘ç”Ÿç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥5å’Œ&quot;5&quot;æ˜¯ä¸¤ä¸ªä¸åŒçš„å€¼ã€‚Set å†…éƒ¨åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒï¼Œä½¿ç”¨çš„ç®—æ³•å«åšâ€œSame-value-zero equalityâ€ï¼Œå®ƒç±»ä¼¼äºç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯å‘ Set åŠ å…¥å€¼æ—¶è®¤ä¸ºNaNç­‰äºè‡ªèº«ï¼Œè€Œç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦è®¤ä¸ºNaNä¸ç­‰äºè‡ªèº«ã€‚ 123456let set = new Set();let a = NaN;let b = NaN;set.add(a);set.add(b);set // Set {NaN} ä¸Šé¢ä»£ç å‘ Set å®ä¾‹æ·»åŠ äº†ä¸¤æ¬¡NaNï¼Œä½†æ˜¯åªä¼šåŠ å…¥ä¸€ä¸ªã€‚è¿™è¡¨æ˜ï¼Œåœ¨ Set å†…éƒ¨ï¼Œä¸¤ä¸ªNaNæ˜¯ç›¸ç­‰çš„ã€‚ å¦å¤–ï¼Œä¸¤ä¸ªå¯¹è±¡æ€»æ˜¯ä¸ç›¸ç­‰çš„ã€‚ 1234567let set = new Set();set.add({});set.size // 1set.add({});set.size // 2 ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œç”±äºä¸¤ä¸ªç©ºå¯¹è±¡ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥å®ƒä»¬è¢«è§†ä¸ºä¸¤ä¸ªå€¼ã€‚ 2.Setå®ä¾‹çš„å±æ€§å’Œæ–¹æ³•Setç»“æ„çš„å®ä¾‹æœ‰ä»¥ä¸‹å±æ€§ Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯Setå‡½æ•° Set.prototype.sizeï¼šè¿”å›Setå®ä¾‹çš„æˆå‘˜ä¸ªæ•° Set å®ä¾‹çš„æ–¹æ³•åˆ†ä¸ºä¸¤å¤§ç±»ï¼šæ“ä½œæ–¹æ³•ï¼ˆç”¨äºæ“ä½œæ•°æ®ï¼‰å’Œéå†æ–¹æ³•ï¼ˆç”¨äºéå†æˆå‘˜ï¼‰ã€‚ä¸‹é¢å…ˆä»‹ç»å››ä¸ªæ“ä½œæ–¹æ³•ã€‚ Set.prototype.add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚ Set.prototype.delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚ Set.prototype.has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚ Set.prototype.clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹æ¯”ï¼Œçœ‹çœ‹åœ¨åˆ¤æ–­æ˜¯å¦åŒ…æ‹¬ä¸€ä¸ªé”®ä¸Šé¢ï¼ŒObjectç»“æ„å’ŒSetç»“æ„çš„å†™æ³•ä¸åŒã€‚ 12345678910111213141516171819// å¯¹è±¡çš„å†™æ³•const properties = { 'width': 1, 'height': 1};if (properties[someName]) { // do something}// Setçš„å†™æ³•const properties = new Set();properties.add('width');properties.add('height');if (properties.has(someName)) { // do something} Array.fromæ–¹æ³•å¯ä»¥å°† Set ç»“æ„è½¬ä¸ºæ•°ç»„ã€‚ 12const items = new Set([1, 2, 3, 4, 5]);const array = Array.from(items); è¿™å°±æä¾›äº†å»é™¤æ•°ç»„é‡å¤æˆå‘˜çš„å¦ä¸€ç§æ–¹æ³•ã€‚ 12345function dedupe(array) { return Array.from(new Set(array));}dedupe([1, 1, 2, 3]) // [1, 2, 3] éå†æ“ä½œSet ç»“æ„çš„å®ä¾‹æœ‰å››ä¸ªéå†æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºéå†æˆå‘˜ã€‚ Set.prototype.keys()ï¼šè¿”å›é”®åçš„éå†å™¨ Set.prototype.values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ Set.prototype.entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ Set.prototype.forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ key() value() forEach()keysæ–¹æ³•ã€valuesæ–¹æ³•ã€entriesæ–¹æ³•è¿”å›çš„éƒ½æ˜¯éå†å™¨å¯¹è±¡ï¼ˆè¯¦è§ã€ŠIterator å¯¹è±¡ã€‹ä¸€ç« ï¼‰ã€‚ç”±äº Set ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥keysæ–¹æ³•å’Œvaluesæ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚ 12345678910111213141516171819202122let set = new Set(['red', 'green', 'blue']);for (let item of set.keys()) { console.log(item);}// red// green// bluefor (let item of set.values()) { console.log(item);}// red// green// bluefor (let item of set.entries()) { console.log(item);}// [&quot;red&quot;, &quot;red&quot;]// [&quot;green&quot;, &quot;green&quot;]// [&quot;blue&quot;, &quot;blue&quot;] ä¸Šé¢ä»£ç ä¸­ï¼Œentriesæ–¹æ³•è¿”å›çš„éå†å™¨ï¼ŒåŒæ—¶åŒ…æ‹¬é”®åå’Œé”®å€¼ï¼Œæ‰€ä»¥æ¯æ¬¡è¾“å‡ºä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ä¸¤ä¸ªæˆå‘˜å®Œå…¨ç›¸ç­‰ã€‚ Set ç»“æ„çš„å®ä¾‹é»˜è®¤å¯éå†ï¼Œå®ƒçš„é»˜è®¤éå†å™¨ç”Ÿæˆå‡½æ•°å°±æ˜¯å®ƒçš„valuesæ–¹æ³•ã€‚ 12Set.prototype[Symbol.iterator] === Set.prototype.values// true è¿™æ„å‘³ç€ï¼Œå¯ä»¥çœç•¥valuesæ–¹æ³•ï¼Œç›´æ¥ç”¨for...ofå¾ªç¯éå† Setã€‚ 12345678let set = new Set(['red', 'green', 'blue']);for (let x of set) { console.log(x);}// red// green// blue forEach()Set ç»“æ„çš„å®ä¾‹ä¸æ•°ç»„ä¸€æ ·ï¼Œä¹Ÿæ‹¥æœ‰forEachæ–¹æ³•ï¼Œç”¨äºå¯¹æ¯ä¸ªæˆå‘˜æ‰§è¡ŒæŸç§æ“ä½œï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ 12345let set = new Set([1, 4, 9]);set.forEach((value, key) =&gt; console.log(key + ' : ' + value))// 1 : 1// 4 : 4// 9 : 9 ä¸Šé¢ä»£ç è¯´æ˜ï¼ŒforEachæ–¹æ³•çš„å‚æ•°å°±æ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚è¯¥å‡½æ•°çš„å‚æ•°ä¸æ•°ç»„çš„forEachä¸€è‡´ï¼Œä¾æ¬¡ä¸ºé”®å€¼ã€é”®åã€é›†åˆæœ¬èº«ï¼ˆä¸Šä¾‹çœç•¥äº†è¯¥å‚æ•°ï¼‰ã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒSet ç»“æ„çš„é”®åå°±æ˜¯é”®å€¼ï¼ˆä¸¤è€…æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå‚æ•°ä¸ç¬¬äºŒä¸ªå‚æ•°çš„å€¼æ°¸è¿œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ å¦å¤–ï¼ŒforEachæ–¹æ³•è¿˜å¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºç»‘å®šå¤„ç†å‡½æ•°å†…éƒ¨çš„thiså¯¹è±¡ã€‚ éå†çš„åº”ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰å†…éƒ¨ä½¿ç”¨for...ofå¾ªç¯ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨äº Set ç»“æ„ã€‚ 123let set = new Set(['red', 'green', 'blue']);let arr = [...set];// ['red', 'green', 'blue'] æ‰©å±•è¿ç®—ç¬¦å’Œ Set ç»“æ„ç›¸ç»“åˆï¼Œå°±å¯ä»¥å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜ã€‚ 123let arr = [3, 5, 2, 2, 5, 5];let unique = [...new Set(arr)];// [3, 5, 2] è€Œä¸”ï¼Œæ•°ç»„çš„mapå’Œfilteræ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº Set äº†ã€‚ 1234567let set = new Set([1, 2, 3]);set = new Set([...set].map(x =&gt; x * 2));// è¿”å›Setç»“æ„ï¼š{2, 4, 6}let set = new Set([1, 2, 3, 4, 5]);set = new Set([...set].filter(x =&gt; (x % 2) == 0));// è¿”å›Setç»“æ„ï¼š{2, 4} å› æ­¤ä½¿ç”¨ Set å¯ä»¥å¾ˆå®¹æ˜“åœ°å®ç°å¹¶é›†ï¼ˆUnionï¼‰ã€äº¤é›†ï¼ˆIntersectï¼‰å’Œå·®é›†ï¼ˆDifferenceï¼‰ã€‚ 1234567891011121314let a = new Set([1, 2, 3]);let b = new Set([4, 3, 2]);// å¹¶é›†let union = new Set([...a, ...b]);// Set {1, 2, 3, 4}// äº¤é›†let intersect = new Set([...a].filter(x =&gt; b.has(x)));// set {2, 3}// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†let difference = new Set([...a].filter(x =&gt; !b.has(x)));// Set {1} å¦‚æœæƒ³åœ¨éå†æ“ä½œä¸­ï¼ŒåŒæ­¥æ”¹å˜åŸæ¥çš„ Set ç»“æ„ï¼Œç›®å‰æ²¡æœ‰ç›´æ¥çš„æ–¹æ³•ï¼Œä½†æœ‰ä¸¤ç§å˜é€šæ–¹æ³•ã€‚ä¸€ç§æ˜¯åˆ©ç”¨åŸ Set ç»“æ„æ˜ å°„å‡ºä¸€ä¸ªæ–°çš„ç»“æ„ï¼Œç„¶åèµ‹å€¼ç»™åŸæ¥çš„ Set ç»“æ„ï¼›å¦ä¸€ç§æ˜¯åˆ©ç”¨Array.fromæ–¹æ³•ã€‚ 123456789// æ–¹æ³•ä¸€let set = new Set([1, 2, 3]);set = new Set([...set].map(val =&gt; val * 2));// setçš„å€¼æ˜¯2, 4, 6// æ–¹æ³•äºŒlet set = new Set([1, 2, 3]);set = new Set(Array.from(set, val =&gt; val * 2));// setçš„å€¼æ˜¯2, 4, 6 ä¸Šé¢ä»£ç æä¾›äº†ä¸¤ç§æ–¹æ³•ï¼Œç›´æ¥åœ¨éå†æ“ä½œä¸­æ”¹å˜åŸæ¥çš„ Set ç»“æ„ã€‚ 3.WeakSetWeakSet ç»“æ„ä¸ Set ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚ä½†æ˜¯ï¼Œå®ƒä¸ Set æœ‰ä¸¤ä¸ªåŒºåˆ«ï¼š WeakSet çš„æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ï¼Œè€Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚ WeakSet ä¸­çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸è€ƒè™‘ WeakSet å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ï¼Œä¸è€ƒè™‘è¯¥å¯¹è±¡è¿˜å­˜åœ¨äº WeakSet ä¹‹ä¸­ã€‚ 12345const ws = new WeakSet();ws.add(1)// TypeError: Invalid value used in weak setws.add(Symbol())// TypeError: invalid value used in weak set WeakSet ç»“æ„æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ã€‚ **WeakSet.prototype.add(value)**ï¼šå‘ WeakSet å®ä¾‹æ·»åŠ ä¸€ä¸ªæ–°æˆå‘˜ã€‚ **WeakSet.prototype.delete(value)**ï¼šæ¸…é™¤ WeakSet å®ä¾‹çš„æŒ‡å®šæˆå‘˜ã€‚ **WeakSet.prototype.has(value)**ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªå€¼æ˜¯å¦åœ¨ WeakSet å®ä¾‹ä¹‹ä¸­ã€‚ WeakSet æ²¡æœ‰sizeå±æ€§ï¼Œæ²¡æœ‰åŠæ³•éå†å®ƒçš„æˆå‘˜ã€‚ 12345ws.size // undefinedws.forEach // undefinedws.forEach(function(item){ console.log('WeakSet has ' + item)})// TypeError: undefined is not a function ä¸Šé¢ä»£ç è¯•å›¾è·å–sizeå’ŒforEachå±æ€§ï¼Œç»“æœéƒ½ä¸èƒ½æˆåŠŸã€‚ WeakSet ä¸èƒ½éå†ï¼Œæ˜¯å› ä¸ºæˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œéšæ—¶å¯èƒ½æ¶ˆå¤±ï¼Œéå†æœºåˆ¶æ— æ³•ä¿è¯æˆå‘˜çš„å­˜åœ¨ï¼Œå¾ˆå¯èƒ½åˆšåˆšéå†ç»“æŸï¼Œæˆå‘˜å°±å–ä¸åˆ°äº†ã€‚WeakSet çš„ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯å‚¨å­˜ DOM èŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒè¿™äº›èŠ‚ç‚¹ä»æ–‡æ¡£ç§»é™¤æ—¶ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼ã€‚ 4.MapJavaScript çš„å¯¹è±¡ï¼ˆObjectï¼‰ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼ˆHash ç»“æ„ï¼‰ï¼Œä½†æ˜¯ä¼ ç»Ÿä¸Šåªèƒ½ç”¨å­—ç¬¦ä¸²å½“ä½œé”®ã€‚è¿™ç»™å®ƒçš„ä½¿ç”¨å¸¦æ¥äº†å¾ˆå¤§çš„é™åˆ¶ã€‚ 12345const data = {};const element = document.getElementById('myDiv');data[element] = 'metadata';data['[object HTMLDivElement]'] // &quot;metadata&quot; ä¸Šé¢ä»£ç åŸæ„æ˜¯å°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºå¯¹è±¡dataçš„é”®ï¼Œä½†æ˜¯ç”±äºå¯¹è±¡åªæ¥å—å­—ç¬¦ä¸²ä½œä¸ºé”®åï¼Œæ‰€ä»¥elementè¢«è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²[object HTMLDivElement]ã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æä¾›äº† Map æ•°æ®ç»“æ„ã€‚å®ƒç±»ä¼¼äºå¯¹è±¡ï¼Œä¹Ÿæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œä½†æ˜¯â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼Œå„ç§ç±»å‹çš„å€¼ï¼ˆåŒ…æ‹¬å¯¹è±¡ï¼‰éƒ½å¯ä»¥å½“ä½œé”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒObject ç»“æ„æä¾›äº†â€œå­—ç¬¦ä¸²â€”å€¼â€çš„å¯¹åº”ï¼ŒMap ç»“æ„æä¾›äº†â€œå€¼â€”å€¼â€çš„å¯¹åº”ï¼Œæ˜¯ä¸€ç§æ›´å®Œå–„çš„ Hash ç»“æ„å®ç°ã€‚å¦‚æœä½ éœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼ŒMap æ¯” Object æ›´åˆé€‚ã€‚ 123456789const m = new Map();const o = {p: 'Hello World'};m.set(o, 'content')m.get(o) // &quot;content&quot;m.has(o) // truem.delete(o) // truem.has(o) // false ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å‘ Map æ·»åŠ æˆå‘˜ã€‚ä½œä¸ºæ„é€ å‡½æ•°ï¼ŒMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ã€‚è¯¥æ•°ç»„çš„æˆå‘˜æ˜¯ä¸€ä¸ªä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„æ•°ç»„ã€‚ 12345678910const map = new Map([ ['name', 'å¼ ä¸‰'], ['title', 'Author']]);map.size // 2map.has('name') // truemap.get('name') // &quot;å¼ ä¸‰&quot;map.has('title') // truemap.get('title') // &quot;Author&quot; ä¸Šé¢ä»£ç åœ¨æ–°å»º Map å®ä¾‹æ—¶ï¼Œå°±æŒ‡å®šäº†ä¸¤ä¸ªé”®nameå’Œtitleã€‚ Mapæ„é€ å‡½æ•°æ¥å—æ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯ä¸‹é¢çš„ç®—æ³•ã€‚ 12345678910const items = [ ['name', 'å¼ ä¸‰'], ['title', 'Author']];const map = new Map();items.forEach( ([key, value]) =&gt; map.set(key, value)); äº‹å®ä¸Šï¼Œä¸ä»…ä»…æ˜¯æ•°ç»„ï¼Œä»»ä½•å…·æœ‰ Iterator æ¥å£ã€ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ çš„æ•°ç»„çš„æ•°æ®ç»“æ„ï¼ˆè¯¦è§ã€ŠIteratorã€‹ä¸€ç« ï¼‰éƒ½å¯ä»¥å½“ä½œMapæ„é€ å‡½æ•°çš„å‚æ•°ã€‚è¿™å°±æ˜¯è¯´ï¼ŒSetå’ŒMapéƒ½å¯ä»¥ç”¨æ¥ç”Ÿæˆæ–°çš„ Mapã€‚ 12345678910const set = new Set([ ['foo', 1], ['bar', 2]]);const m1 = new Map(set);m1.get('foo') // 1const m2 = new Map([['baz', 3]]);const m3 = new Map(m2);m3.get('baz') // 3 ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨ Set å¯¹è±¡å’Œ Map å¯¹è±¡ï¼Œå½“ä½œMapæ„é€ å‡½æ•°çš„å‚æ•°ï¼Œç»“æœéƒ½ç”Ÿæˆäº†æ–°çš„ Map å¯¹è±¡ã€‚ å¦‚æœå¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåé¢çš„å€¼å°†è¦†ç›–å‰é¢çš„å€¼ã€‚ 1234567const map = new Map();map.set(1, 'aaa').set(1, 'bbb');map.get(1) // &quot;bbb&quot; ä¸Šé¢ä»£ç å¯¹é”®1è¿ç»­èµ‹å€¼ä¸¤æ¬¡ï¼Œåä¸€æ¬¡çš„å€¼è¦†ç›–å‰ä¸€æ¬¡çš„å€¼ã€‚ å¦‚æœè¯»å–ä¸€ä¸ªæœªçŸ¥çš„é”®ï¼Œåˆ™è¿”å›undefinedã€‚ 12new Map().get('asfddfsasadf')// undefined ä¸Šé¢ä»£ç çš„setå’Œgetæ–¹æ³•ï¼Œè¡¨é¢æ˜¯é’ˆå¯¹åŒä¸€ä¸ªé”®ï¼Œä½†å®é™…ä¸Šè¿™æ˜¯ä¸¤ä¸ªä¸åŒçš„æ•°ç»„å®ä¾‹ï¼Œå†…å­˜åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤getæ–¹æ³•æ— æ³•è¯»å–è¯¥é”®ï¼Œè¿”å›undefinedã€‚ åŒç†ï¼ŒåŒæ ·çš„å€¼çš„ä¸¤ä¸ªå®ä¾‹ï¼Œåœ¨ Map ç»“æ„ä¸­è¢«è§†ä¸ºä¸¤ä¸ªé”®ã€‚ 1234567891011const map = new Map();const k1 = ['a'];const k2 = ['a'];map.set(k1, 111).set(k2, 222);map.get(k1) // 111map.get(k2) // 222 ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡k1å’Œk2çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å®ƒä»¬åœ¨ Map ç»“æ„ä¸­è¢«è§†ä¸ºä¸¤ä¸ªé”®ã€‚ ç”±ä¸Šå¯çŸ¥ï¼ŒMap çš„é”®å®é™…ä¸Šæ˜¯è·Ÿå†…å­˜åœ°å€ç»‘å®šçš„ï¼Œåªè¦å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œå°±è§†ä¸ºä¸¤ä¸ªé”®ã€‚è¿™å°±è§£å†³äº†åŒåå±æ€§ç¢°æ’ï¼ˆclashï¼‰çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ‰©å±•åˆ«äººçš„åº“çš„æ—¶å€™ï¼Œå¦‚æœä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®åï¼Œå°±ä¸ç”¨æ‹…å¿ƒè‡ªå·±çš„å±æ€§ä¸åŸä½œè€…çš„å±æ€§åŒåã€‚ å¦‚æœ Map çš„é”®æ˜¯ä¸€ä¸ªç®€å•ç±»å‹çš„å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œåˆ™åªè¦ä¸¤ä¸ªå€¼ä¸¥æ ¼ç›¸ç­‰ï¼ŒMap å°†å…¶è§†ä¸ºä¸€ä¸ªé”®ï¼Œæ¯”å¦‚0å’Œ-0å°±æ˜¯ä¸€ä¸ªé”®ï¼Œå¸ƒå°”å€¼trueå’Œå­—ç¬¦ä¸²trueåˆ™æ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚å¦å¤–ï¼Œundefinedå’Œnullä¹Ÿæ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ã€‚è™½ç„¶NaNä¸ä¸¥æ ¼ç›¸ç­‰äºè‡ªèº«ï¼Œä½† Map å°†å…¶è§†ä¸ºåŒä¸€ä¸ªé”®ã€‚ 123456789101112131415let map = new Map();map.set(-0, 123);map.get(+0) // 123map.set(true, 1);map.set('true', 2);map.get(true) // 1map.set(undefined, 3);map.set(null, 4);map.get(undefined) // 3map.set(NaN, 123);map.get(NaN) // 123 å®ä¾‹å±æ€§å’Œæ“ä½œæ–¹æ³•Map ç»“æ„çš„å®ä¾‹æœ‰ä»¥ä¸‹å±æ€§å’Œæ“ä½œæ–¹æ³•ã€‚ ï¼ˆ1ï¼‰size å±æ€§ sizeå±æ€§è¿”å› Map ç»“æ„çš„æˆå‘˜æ€»æ•°ã€‚ 12345const map = new Map();map.set('foo', true);map.set('bar', false);map.size // 2 ï¼ˆ2ï¼‰Map.prototype.set(key, value) setæ–¹æ³•è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalueï¼Œç„¶åè¿”å›æ•´ä¸ª Map ç»“æ„ã€‚å¦‚æœkeyå·²ç»æœ‰å€¼ï¼Œåˆ™é”®å€¼ä¼šè¢«æ›´æ–°ï¼Œå¦åˆ™å°±æ–°ç”Ÿæˆè¯¥é”®ã€‚ 12345const m = new Map();m.set('edition', 6) // é”®æ˜¯å­—ç¬¦ä¸²m.set(262, 'standard') // é”®æ˜¯æ•°å€¼m.set(undefined, 'nah') // é”®æ˜¯ undefined setæ–¹æ³•è¿”å›çš„æ˜¯å½“å‰çš„Mapå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ã€‚ 1234let map = new Map() .set(1, 'a') .set(2, 'b') .set(3, 'c'); ï¼ˆ3ï¼‰Map.prototype.get(key) getæ–¹æ³•è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚ 123456const m = new Map();const hello = function() {console.log('hello');};m.set(hello, 'Hello ES6!') // é”®æ˜¯å‡½æ•°m.get(hello) // Hello ES6! ï¼ˆ4ï¼‰Map.prototype.has(key) hasæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚ 12345678910const m = new Map();m.set('edition', 6);m.set(262, 'standard');m.set(undefined, 'nah');m.has('edition') // truem.has('years') // falsem.has(262) // truem.has(undefined) // true ï¼ˆ5ï¼‰Map.prototype.delete(key) deleteæ–¹æ³•åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚ 123456const m = new Map();m.set(undefined, 'nah');m.has(undefined) // truem.delete(undefined)m.has(undefined) // false ï¼ˆ6ï¼‰Map.prototype.clear() clearæ–¹æ³•æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ 1234567let map = new Map();map.set('foo', true);map.set('bar', false);map.size // 2map.clear()map.size // 0 éå†æ–¹æ³•Map ç»“æ„åŸç”Ÿæä¾›ä¸‰ä¸ªéå†å™¨ç”Ÿæˆå‡½æ•°å’Œä¸€ä¸ªéå†æ–¹æ³•ã€‚ Map.prototype.keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚ Map.prototype.values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚ Map.prototype.entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚ Map.prototype.forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚ 123456789101112131415161718192021222324252627282930313233343536const map = new Map([ ['F', 'no'], ['T', 'yes'],]);for (let key of map.keys()) { console.log(key);}// &quot;F&quot;// &quot;T&quot;for (let value of map.values()) { console.log(value);}// &quot;no&quot;// &quot;yes&quot;for (let item of map.entries()) { console.log(item[0], item[1]);}// &quot;F&quot; &quot;no&quot;// &quot;T&quot; &quot;yes&quot;// æˆ–è€…for (let [key, value] of map.entries()) { console.log(key, value);}// &quot;F&quot; &quot;no&quot;// &quot;T&quot; &quot;yes&quot;// ç­‰åŒäºä½¿ç”¨map.entries()for (let [key, value] of map) { console.log(key, value);}// &quot;F&quot; &quot;no&quot;// &quot;T&quot; &quot;yes&quot; Map ç»“æ„è½¬ä¸ºæ•°ç»„ç»“æ„ï¼Œæ¯”è¾ƒå¿«é€Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ã€‚ 1234567891011121314151617const map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);[...map.keys()]// [1, 2, 3][...map.values()]// ['one', 'two', 'three'][...map.entries()]// [[1,'one'], [2, 'two'], [3, 'three']][...map]// [[1,'one'], [2, 'two'], [3, 'three']] 5.WeakMapWeakMapç»“æ„ä¸Mapç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆã€‚ 123456789101112// WeakMap å¯ä»¥ä½¿ç”¨ set æ–¹æ³•æ·»åŠ æˆå‘˜const wm1 = new WeakMap();const key = {foo: 1};wm1.set(key, 2);wm1.get(key) // 2// WeakMap ä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œ// ä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°const k1 = [1, 2, 3];const k2 = [4, 5, 6];const wm2 = new WeakMap([[k1, 'foo'], [k2, 'bar']]);wm2.get(k2) // &quot;bar&quot; WeakMapä¸Mapçš„åŒºåˆ«æœ‰ä¸¤ç‚¹ã€‚ é¦–å…ˆï¼ŒWeakMapåªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆnullé™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åã€‚ 1234567const map = new WeakMap();map.set(1, 2)// TypeError: 1 is not an object!map.set(Symbol(), 2)// TypeError: Invalid value used as weak map keymap.set(null, 2)// TypeError: Invalid value used as weak map key ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœå°†æ•°å€¼1å’ŒSymbolå€¼ä½œä¸º WeakMap çš„é”®åï¼Œéƒ½ä¼šæŠ¥é”™ã€‚ å…¶æ¬¡ï¼ŒWeakMapçš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚ WeakMapçš„è®¾è®¡ç›®çš„åœ¨äºï¼Œæœ‰æ—¶æˆ‘ä»¬æƒ³åœ¨æŸä¸ªå¯¹è±¡ä¸Šé¢å­˜æ”¾ä¸€äº›æ•°æ®ï¼Œä½†æ˜¯è¿™ä¼šå½¢æˆå¯¹äºè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 123456const e1 = document.getElementById('foo');const e2 = document.getElementById('bar');const arr = [ [e1, 'foo å…ƒç´ '], [e2, 'bar å…ƒç´ '],]; é¢ä»£ç ä¸­ï¼Œe1å’Œe2æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬é€šè¿‡arræ•°ç»„å¯¹è¿™ä¸¤ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›æ–‡å­—è¯´æ˜ã€‚è¿™å°±å½¢æˆäº†arrå¯¹e1å’Œe2çš„å¼•ç”¨ã€‚ ä¸€æ—¦ä¸å†éœ€è¦è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¿…é¡»æ‰‹åŠ¨åˆ é™¤è¿™ä¸ªå¼•ç”¨ï¼Œå¦åˆ™åƒåœ¾å›æ”¶æœºåˆ¶å°±ä¸ä¼šé‡Šæ”¾e1å’Œe2å ç”¨çš„å†…å­˜ã€‚ 1234// ä¸éœ€è¦ e1 å’Œ e2 çš„æ—¶å€™// å¿…é¡»æ‰‹åŠ¨åˆ é™¤å¼•ç”¨arr [0] = null;arr [1] = null; ä¸Šé¢è¿™æ ·çš„å†™æ³•æ˜¾ç„¶å¾ˆä¸æ–¹ä¾¿ã€‚ä¸€æ—¦å¿˜äº†å†™ï¼Œå°±ä¼šé€ æˆå†…å­˜æ³„éœ²ã€‚ WeakMap å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œè¯ç”Ÿçš„ï¼Œå®ƒçš„é”®åæ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸å°†è¯¥å¼•ç”¨è€ƒè™‘åœ¨å†…ã€‚å› æ­¤ï¼Œåªè¦æ‰€å¼•ç”¨çš„å¯¹è±¡çš„å…¶ä»–å¼•ç”¨éƒ½è¢«æ¸…é™¤ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶å°±ä¼šé‡Šæ”¾è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦ä¸å†éœ€è¦ï¼ŒWeakMap é‡Œé¢çš„é”®åå¯¹è±¡å’Œæ‰€å¯¹åº”çš„é”®å€¼å¯¹ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨ã€‚ åŸºæœ¬ä¸Šï¼Œå¦‚æœä½ è¦å¾€å¯¹è±¡ä¸Šæ·»åŠ æ•°æ®ï¼Œåˆä¸æƒ³å¹²æ‰°åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œå°±å¯ä»¥ä½¿ç”¨ WeakMapã€‚ä¸€ä¸ªå…¸å‹åº”ç”¨åœºæ™¯æ˜¯ï¼Œåœ¨ç½‘é¡µçš„ DOM å…ƒç´ ä¸Šæ·»åŠ æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨WeakMapç»“æ„ã€‚å½“è¯¥ DOM å…ƒç´ è¢«æ¸…é™¤ï¼Œå…¶æ‰€å¯¹åº”çš„WeakMapè®°å½•å°±ä¼šè‡ªåŠ¨è¢«ç§»é™¤ã€‚ 123456const wm = new WeakMap();const element = document.getElementById('example');wm.set(element, 'some information');wm.get(element) // &quot;some information&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆæ–°å»ºä¸€ä¸ª WeakMap å®ä¾‹ã€‚ç„¶åï¼Œå°†ä¸€ä¸ª DOM èŠ‚ç‚¹ä½œä¸ºé”®åå­˜å…¥è¯¥å®ä¾‹ï¼Œå¹¶å°†ä¸€äº›é™„åŠ ä¿¡æ¯ä½œä¸ºé”®å€¼ï¼Œä¸€èµ·å­˜æ”¾åœ¨ WeakMap é‡Œé¢ã€‚è¿™æ—¶ï¼ŒWeakMap é‡Œé¢å¯¹elementçš„å¼•ç”¨å°±æ˜¯å¼±å¼•ç”¨ï¼Œä¸ä¼šè¢«è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ DOM èŠ‚ç‚¹å¯¹è±¡é™¤äº† WeakMap çš„å¼±å¼•ç”¨å¤–ï¼Œå…¶ä»–ä½ç½®å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ä¸€æ—¦æ¶ˆé™¤ï¼Œè¯¥å¯¹è±¡å ç”¨çš„å†…å­˜å°±ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶é‡Šæ”¾ã€‚WeakMap ä¿å­˜çš„è¿™ä¸ªé”®å€¼å¯¹ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚ æ€»ä¹‹ï¼ŒWeakMapçš„ä¸“ç”¨åœºåˆå°±æ˜¯ï¼Œå®ƒçš„é”®æ‰€å¯¹åº”çš„å¯¹è±¡ï¼Œå¯èƒ½ä¼šåœ¨å°†æ¥æ¶ˆå¤±ã€‚WeakMapç»“æ„æœ‰åŠ©äºé˜²æ­¢å†…å­˜æ³„æ¼ã€‚ æ³¨æ„ï¼ŒWeakMap å¼±å¼•ç”¨çš„åªæ˜¯é”®åï¼Œè€Œä¸æ˜¯é”®å€¼ã€‚é”®å€¼ä¾ç„¶æ˜¯æ­£å¸¸å¼•ç”¨ã€‚ 12345678const wm = new WeakMap();let key = {};let obj = {foo: 1};wm.set(key, obj);obj = null;wm.get(key)// Object {foo: 1} ä¸Šé¢ä»£ç ä¸­ï¼Œé”®å€¼objæ˜¯æ­£å¸¸å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œå³ä½¿åœ¨ WeakMap å¤–éƒ¨æ¶ˆé™¤äº†objçš„å¼•ç”¨ï¼ŒWeakMap å†…éƒ¨çš„å¼•ç”¨ä¾ç„¶å­˜åœ¨ã€‚ WeakMap çš„è¯­æ³•WeakMap ä¸ Map åœ¨ API ä¸Šçš„åŒºåˆ«ä¸»è¦æ˜¯ä¸¤ä¸ªï¼Œä¸€æ˜¯æ²¡æœ‰éå†æ“ä½œï¼ˆå³æ²¡æœ‰keys()ã€values()å’Œentries()æ–¹æ³•ï¼‰ï¼Œä¹Ÿæ²¡æœ‰sizeå±æ€§ã€‚å› ä¸ºæ²¡æœ‰åŠæ³•åˆ—å‡ºæ‰€æœ‰é”®åï¼ŒæŸä¸ªé”®åæ˜¯å¦å­˜åœ¨å®Œå…¨ä¸å¯é¢„æµ‹ï¼Œè·Ÿåƒåœ¾å›æ”¶æœºåˆ¶æ˜¯å¦è¿è¡Œç›¸å…³ã€‚è¿™ä¸€åˆ»å¯ä»¥å–åˆ°é”®åï¼Œä¸‹ä¸€åˆ»åƒåœ¾å›æ”¶æœºåˆ¶çªç„¶è¿è¡Œäº†ï¼Œè¿™ä¸ªé”®åå°±æ²¡äº†ï¼Œä¸ºäº†é˜²æ­¢å‡ºç°ä¸ç¡®å®šæ€§ï¼Œå°±ç»Ÿä¸€è§„å®šä¸èƒ½å–åˆ°é”®åã€‚äºŒæ˜¯æ— æ³•æ¸…ç©ºï¼Œå³ä¸æ”¯æŒclearæ–¹æ³•ã€‚å› æ­¤ï¼ŒWeakMapåªæœ‰å››ä¸ªæ–¹æ³•å¯ç”¨ï¼šget()ã€set()ã€has()ã€delete()ã€‚ 123456const wm = new WeakMap();// sizeã€forEachã€clear æ–¹æ³•éƒ½ä¸å­˜åœ¨wm.size // undefinedwm.forEach // undefinedwm.clear // undefined 6.WeakRefWeakSet å’Œ WeakMap æ˜¯åŸºäºå¼±å¼•ç”¨çš„æ•°æ®ç»“æ„ï¼ŒES2021 æ›´è¿›ä¸€æ­¥ï¼Œæä¾›äº† WeakRef å¯¹è±¡ï¼Œç”¨äºç›´æ¥åˆ›å»ºå¯¹è±¡çš„å¼±å¼•ç”¨ã€‚ 12let target = {};let wr = new WeakRef(target); ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œtargetæ˜¯åŸå§‹å¯¹è±¡ï¼Œæ„é€ å‡½æ•°WeakRef()åˆ›å»ºäº†ä¸€ä¸ªåŸºäºtargetçš„æ–°å¯¹è±¡wrã€‚è¿™é‡Œï¼Œwrå°±æ˜¯ä¸€ä¸ª WeakRef çš„å®ä¾‹ï¼Œå±äºå¯¹targetçš„å¼±å¼•ç”¨ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¸ä¼šè®¡å…¥è¿™ä¸ªå¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œwrçš„å¼•ç”¨ä¸ä¼šå¦¨ç¢åŸå§‹å¯¹è±¡targetè¢«åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤ã€‚ WeakRef å®ä¾‹å¯¹è±¡æœ‰ä¸€ä¸ªderef()æ–¹æ³•ï¼Œå¦‚æœåŸå§‹å¯¹è±¡å­˜åœ¨ï¼Œè¯¥æ–¹æ³•è¿”å›åŸå§‹å¯¹è±¡ï¼›å¦‚æœåŸå§‹å¯¹è±¡å·²ç»è¢«åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤ï¼Œè¯¥æ–¹æ³•è¿”å›undefinedã€‚ 1234567let target = {};let wr = new WeakRef(target);let obj = wr.deref();if (obj) { // target æœªè¢«åƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤ // ...} ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œderef()æ–¹æ³•å¯ä»¥åˆ¤æ–­åŸå§‹å¯¹è±¡æ˜¯å¦å·²è¢«æ¸…é™¤ã€‚ å¼±å¼•ç”¨å¯¹è±¡çš„ä¸€å¤§ç”¨å¤„ï¼Œå°±æ˜¯ä½œä¸ºç¼“å­˜ï¼Œæœªè¢«æ¸…é™¤æ—¶å¯ä»¥ä»ç¼“å­˜å–å€¼ï¼Œä¸€æ—¦æ¸…é™¤ç¼“å­˜å°±è‡ªåŠ¨å¤±æ•ˆã€‚ 12345678910111213141516function makeWeakCached(f) { const cache = new Map(); return key =&gt; { const ref = cache.get(key); if (ref) { const cached = ref.deref(); if (cached !== undefined) return cached; } const fresh = f(key); cache.set(key, new WeakRef(fresh)); return fresh; };}const getImageCached = makeWeakCached(getImage); ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒmakeWeakCached()ç”¨äºå»ºç«‹ä¸€ä¸ªç¼“å­˜ï¼Œç¼“å­˜é‡Œé¢ä¿å­˜å¯¹åŸå§‹æ–‡ä»¶çš„å¼±å¼•ç”¨ã€‚ æ³¨æ„ï¼Œæ ‡å‡†è§„å®šï¼Œä¸€æ—¦ä½¿ç”¨WeakRef()åˆ›å»ºäº†åŸå§‹å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œé‚£ä¹ˆåœ¨æœ¬è½®äº‹ä»¶å¾ªç¯ï¼ˆevent loopï¼‰ï¼ŒåŸå§‹å¯¹è±¡è‚¯å®šä¸ä¼šè¢«æ¸…é™¤ï¼Œåªä¼šåœ¨åé¢çš„äº‹ä»¶å¾ªç¯æ‰ä¼šè¢«æ¸…é™¤ã€‚","link":"/JavaScript/21.Set%E5%92%8CMap%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"title":"Proxy","text":"1.æ¦‚è¿°Proxyç”¨äºä¿®æ”¹æŸäº›æ“ä½œçš„é»˜è®¤è¡Œä¸ºï¼Œç­‰åŒäºåœ¨è¯­è¨€å±‚é¢åšå‡ºä¿®æ”¹ï¼Œæ‰€ä»¥å±äºä¸€ç§â€å…ƒç¼–ç¨‹â€ï¼Œå³å¯¹ç¼–ç¨‹è¯­è¨€è¿›è¡Œç¼–ç¨‹ Proxyå¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€æ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œè®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚Proxyè¿™ä¸ªè¯çš„åŸæ„æ˜¯ä»£ç†ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±ä»–æ¥ä»£ç†æŸäº›æ“ä½œ 123456789const obj = new Proxy({}, { get: function(target, propKey, receiver) { return Reflect.get(target, propKey, receiver); }, set: function(target, propKey, value, receiver) { console.log(`setting ${propKey}!`); return Reflect.set(target, propKey, value, receiver); }}) ä¸Šé¢ä»£ç å¯¹ä¸€ä¸ªç©ºå¯¹è±¡æ¶è®¾äº†ä¸€å±‚æ‹¦æˆªï¼Œé‡å®šä¹‰äº†å±æ€§çš„è¯»å–ï¼ˆgetï¼‰å’Œè®¾ç½®ï¼ˆsetï¼‰è¡Œä¸ºã€‚è¿™é‡Œæš‚æ—¶å…ˆä¸è§£é‡Šå…·ä½“çš„è¯­æ³•ï¼Œåªçœ‹è¿è¡Œç»“æœã€‚å¯¹è®¾ç½®äº†æ‹¦æˆªè¡Œä¸ºçš„å¯¹è±¡objï¼Œå»è¯»å†™å®ƒçš„å±æ€§ï¼Œå°±ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœã€‚ 123456obj.count = 1// setting count!++obj.count// getting count!// setting count!// 2 ä¸Šé¢ä»£ç è¯´æ˜ï¼ŒProxy å®é™…ä¸Šé‡è½½ï¼ˆoverloadï¼‰äº†ç‚¹è¿ç®—ç¬¦ï¼Œå³ç”¨è‡ªå·±çš„å®šä¹‰è¦†ç›–äº†è¯­è¨€çš„åŸå§‹å®šä¹‰ã€‚ ES6 åŸç”Ÿæä¾› Proxy æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Proxy å®ä¾‹ã€‚ 1var proxy = new Proxy(target, handler); æ³¨æ„ï¼Œè¦ä½¿å¾—Proxyèµ·ä½œç”¨ï¼Œå¿…é¡»é’ˆå¯¹Proxyå®ä¾‹ï¼ˆä¸Šä¾‹æ˜¯proxyå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç›®æ ‡å¯¹è±¡ï¼ˆä¸Šä¾‹æ˜¯ç©ºå¯¹è±¡ï¼‰è¿›è¡Œæ“ä½œã€‚ å¦‚æœhandleræ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£å°±ç­‰åŒäºç›´æ¥é€šå‘åŸå¯¹è±¡ã€‚ 12345var target = {};var handler = {};var proxy = new Proxy(target, handler);proxy.a = 'b';target.a // &quot;b&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œhandleræ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæ²¡æœ‰ä»»ä½•æ‹¦æˆªæ•ˆæœï¼Œè®¿é—®proxyå°±ç­‰åŒäºè®¿é—®targetã€‚ ä¸‹é¢æ˜¯ Proxy æ”¯æŒçš„æ‹¦æˆªæ“ä½œä¸€è§ˆï¼Œä¸€å…± 13 ç§ã€‚ **get(target, propKey, receiver)**ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–ï¼Œæ¯”å¦‚proxy.fooå’Œproxy['foo']ã€‚ **set(target, propKey, value, receiver)**ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®ï¼Œæ¯”å¦‚proxy.foo = væˆ–proxy['foo'] = vï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ **has(target, propKey)**ï¼šæ‹¦æˆªpropKey in proxyçš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ **deleteProperty(target, propKey)**ï¼šæ‹¦æˆªdelete proxy[propKey]çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ **ownKeys(target)**ï¼šæ‹¦æˆªObject.getOwnPropertyNames(proxy)ã€Object.getOwnPropertySymbols(proxy)ã€Object.keys(proxy)ã€for...inå¾ªç¯ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ç›®æ ‡å¯¹è±¡æ‰€æœ‰è‡ªèº«çš„å±æ€§çš„å±æ€§åï¼Œè€ŒObject.keys()çš„è¿”å›ç»“æœä»…åŒ…æ‹¬ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚ **getOwnPropertyDescriptor(target, propKey)**ï¼šæ‹¦æˆªObject.getOwnPropertyDescriptor(proxy, propKey)ï¼Œè¿”å›å±æ€§çš„æè¿°å¯¹è±¡ã€‚ **defineProperty(target, propKey, propDesc)**ï¼šæ‹¦æˆªObject.defineProperty(proxy, propKey, propDescï¼‰ã€Object.defineProperties(proxy, propDescs)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ **preventExtensions(target)**ï¼šæ‹¦æˆªObject.preventExtensions(proxy)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ **getPrototypeOf(target)**ï¼šæ‹¦æˆªObject.getPrototypeOf(proxy)ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚ **isExtensible(target)**ï¼šæ‹¦æˆªObject.isExtensible(proxy)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ **setPrototypeOf(target, proto)**ï¼šæ‹¦æˆªObject.setPrototypeOf(proxy, proto)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœç›®æ ‡å¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸¤ç§é¢å¤–æ“ä½œå¯ä»¥æ‹¦æˆªã€‚ **apply(target, object, args)**ï¼šæ‹¦æˆª Proxy å®ä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚proxy(...args)ã€proxy.call(object, ...args)ã€proxy.apply(...)ã€‚ **construct(target, args)**ï¼šæ‹¦æˆª Proxy å®ä¾‹ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚new proxy(...args)ã€‚ 2.Proxyå®ä¾‹çš„æ–¹æ³•get()getæ–¹æ³•ç”¨äºæ‹¦æˆªæŸä¸ªå±æ€§çš„è¯»å–æ“ä½œï¼Œå¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºç›®æ ‡å¯¹è±¡ã€å±æ€§åå’Œ proxy å®ä¾‹æœ¬èº«ï¼ˆä¸¥æ ¼åœ°è¯´ï¼Œæ˜¯æ“ä½œè¡Œä¸ºæ‰€é’ˆå¯¹çš„å¯¹è±¡ï¼‰ï¼Œå…¶ä¸­æœ€åä¸€ä¸ªå‚æ•°å¯é€‰ã€‚ getæ–¹æ³•çš„ç”¨æ³•ï¼Œä¸Šæ–‡å·²ç»æœ‰ä¸€ä¸ªä¾‹å­ï¼Œä¸‹é¢æ˜¯å¦ä¸€ä¸ªæ‹¦æˆªè¯»å–æ“ä½œçš„ä¾‹å­ã€‚ 12345678910111213141516var person = { name: &quot;å¼ ä¸‰&quot;};var proxy = new Proxy(person, { get: function(target, propKey) { if (propKey in target) { return target[propKey]; } else { throw new ReferenceError(&quot;Prop name \\&quot;&quot; + propKey + &quot;\\&quot; does not exist.&quot;); } }});proxy.name // &quot;å¼ ä¸‰&quot;proxy.age // æŠ›å‡ºä¸€ä¸ªé”™è¯¯ ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æœè®¿é—®ç›®æ ‡å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªæ‹¦æˆªå‡½æ•°ï¼Œè®¿é—®ä¸å­˜åœ¨çš„å±æ€§ï¼Œåªä¼šè¿”å›undefinedã€‚ getæ–¹æ³•å¯ä»¥ç»§æ‰¿ã€‚ 123456789let proto = new Proxy({}, { get(target, propertyKey, receiver) { console.log('GET ' + propertyKey); return target[propertyKey]; }});let obj = Object.create(proto);obj.foo // &quot;GET foo&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œæ‹¦æˆªæ“ä½œå®šä¹‰åœ¨Prototypeå¯¹è±¡ä¸Šé¢ï¼Œæ‰€ä»¥å¦‚æœè¯»å–objå¯¹è±¡ç»§æ‰¿çš„å±æ€§æ—¶ï¼Œæ‹¦æˆªä¼šç”Ÿæ•ˆã€‚ ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨getæ‹¦æˆªï¼Œå®ç°æ•°ç»„è¯»å–è´Ÿæ•°çš„ç´¢å¼•ã€‚ 123456789101112131415161718function createArray(...elements) { let handler = { get(target, propKey, receiver) { let index = Number(propKey); if (index &lt; 0) { propKey = String(target.length + index); } return Reflect.get(target, propKey, receiver); } }; let target = []; target.push(...elements); return new Proxy(target, handler);}let arr = createArray('a', 'b', 'c');arr[-1] // c ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„çš„ä½ç½®å‚æ•°æ˜¯-1ï¼Œå°±ä¼šè¾“å‡ºæ•°ç»„çš„å€’æ•°ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚ åˆ©ç”¨ Proxyï¼Œå¯ä»¥å°†è¯»å–å±æ€§çš„æ“ä½œï¼ˆgetï¼‰ï¼Œè½¬å˜ä¸ºæ‰§è¡ŒæŸä¸ªå‡½æ•°ï¼Œä»è€Œå®ç°å±æ€§çš„é“¾å¼æ“ä½œã€‚ 12345678910111213141516171819202122var pipe = function (value) { var funcStack = []; var oproxy = new Proxy({} , { get : function (pipeObject, fnName) { if (fnName === 'get') { return funcStack.reduce(function (val, fn) { return fn(val); },value); } funcStack.push(window[fnName]); return oproxy; } }); return oproxy;}var double = n =&gt; n * 2;var pow = n =&gt; n * n;var reverseInt = n =&gt; n.toString().split(&quot;&quot;).reverse().join(&quot;&quot;) | 0;pipe(3).double.pow.reverseInt.get; // 63 ä¸Šé¢ä»£ç è®¾ç½® Proxy ä»¥åï¼Œè¾¾åˆ°äº†å°†å‡½æ•°åé“¾å¼ä½¿ç”¨çš„æ•ˆæœã€‚ ä¸‹é¢çš„ä¾‹å­åˆ™æ˜¯åˆ©ç”¨getæ‹¦æˆªï¼Œå®ç°ä¸€ä¸ªç”Ÿæˆå„ç§ DOM èŠ‚ç‚¹çš„é€šç”¨å‡½æ•°domã€‚ 123456789101112131415161718192021222324252627282930const dom = new Proxy({}, { get(target, property) { return function(attrs = {}, ...children) { const el = document.createElement(property); for (let prop of Object.keys(attrs)) { el.setAttribute(prop, attrs[prop]); } for (let child of children) { if (typeof child === 'string') { child = document.createTextNode(child); } el.appendChild(child); } return el; } }});const el = dom.div({}, 'Hello, my name is ', dom.a({href: '//example.com'}, 'Mark'), '. I like:', dom.ul({}, dom.li({}, 'The web'), dom.li({}, 'Food'), dom.li({}, 'â€¦actually that\\'s it') ));document.body.appendChild(el); ä¸‹é¢æ˜¯ä¸€ä¸ªgetæ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°çš„ä¾‹å­ï¼Œå®ƒæ€»æ˜¯æŒ‡å‘åŸå§‹çš„è¯»æ“ä½œæ‰€åœ¨çš„é‚£ä¸ªå¯¹è±¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯ Proxy å®ä¾‹ã€‚ 123456const proxy = new Proxy({}, { get: function(target, key, receiver) { return receiver; }});proxy.getReceiver === proxy // true ä¸Šé¢ä»£ç ä¸­ï¼Œproxyå¯¹è±¡çš„getReceiverå±æ€§æ˜¯ç”±proxyå¯¹è±¡æä¾›çš„ï¼Œæ‰€ä»¥receiveræŒ‡å‘proxyå¯¹è±¡ã€‚ 12345678const proxy = new Proxy({}, { get: function(target, key, receiver) { return receiver; }});const d = Object.create(proxy);d.a === d // true ä¸Šé¢ä»£ç ä¸­ï¼Œdå¯¹è±¡æœ¬èº«æ²¡æœ‰aå±æ€§ï¼Œæ‰€ä»¥è¯»å–d.açš„æ—¶å€™ï¼Œä¼šå»dçš„åŸå‹proxyå¯¹è±¡æ‰¾ã€‚è¿™æ—¶ï¼Œreceiverå°±æŒ‡å‘dï¼Œä»£è¡¨åŸå§‹çš„è¯»æ“ä½œæ‰€åœ¨çš„é‚£ä¸ªå¯¹è±¡ã€‚ å¦‚æœä¸€ä¸ªå±æ€§ä¸å¯é…ç½®ï¼ˆconfigurableï¼‰ä¸”ä¸å¯å†™ï¼ˆwritableï¼‰ï¼Œåˆ™ Proxy ä¸èƒ½ä¿®æ”¹è¯¥å±æ€§ï¼Œå¦åˆ™é€šè¿‡ Proxy å¯¹è±¡è®¿é—®è¯¥å±æ€§ä¼šæŠ¥é”™ã€‚ 123456789101112131415161718const target = Object.defineProperties({}, { foo: { value: 123, writable: false, configurable: false },});const handler = { get(target, propKey) { return 'abc'; }};const proxy = new Proxy(target, handler);proxy.foo// TypeError: Invariant check failed set()setæ–¹æ³•ç”¨æ¥æ‹¦æˆªæŸä¸ªå±æ€§çš„èµ‹å€¼æ“ä½œï¼Œå¯ä»¥æ¥å—å››ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºç›®æ ‡å¯¹è±¡ã€å±æ€§åã€å±æ€§å€¼å’Œ Proxy å®ä¾‹æœ¬èº«ï¼Œå…¶ä¸­æœ€åä¸€ä¸ªå‚æ•°å¯é€‰ã€‚ å‡å®šPersonå¯¹è±¡æœ‰ä¸€ä¸ªageå±æ€§ï¼Œè¯¥å±æ€§åº”è¯¥æ˜¯ä¸€ä¸ªä¸å¤§äº 200 çš„æ•´æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨Proxyä¿è¯ageçš„å±æ€§å€¼ç¬¦åˆè¦æ±‚ã€‚ 123456789101112131415161718192021222324let validator = { set: function(obj, prop, value) { if (prop === 'age') { if (!Number.isInteger(value)) { throw new TypeError('The age is not an integer'); } if (value &gt; 200) { throw new RangeError('The age seems invalid'); } } // å¯¹äºæ»¡è¶³æ¡ä»¶çš„ age å±æ€§ä»¥åŠå…¶ä»–å±æ€§ï¼Œç›´æ¥ä¿å­˜ obj[prop] = value; return true; }};let person = new Proxy({}, validator);person.age = 100;person.age // 100person.age = 'young' // æŠ¥é”™person.age = 300 // æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºè®¾ç½®äº†å­˜å€¼å‡½æ•°setï¼Œä»»ä½•ä¸ç¬¦åˆè¦æ±‚çš„ageå±æ€§èµ‹å€¼ï¼Œéƒ½ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¿™æ˜¯æ•°æ®éªŒè¯çš„ä¸€ç§å®ç°æ–¹æ³•ã€‚åˆ©ç”¨setæ–¹æ³•ï¼Œè¿˜å¯ä»¥æ•°æ®ç»‘å®šï¼Œå³æ¯å½“å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨æ›´æ–° DOMã€‚ æœ‰æ—¶ï¼Œæˆ‘ä»¬ä¼šåœ¨å¯¹è±¡ä¸Šé¢è®¾ç½®å†…éƒ¨å±æ€§ï¼Œå±æ€§åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½¿ç”¨ä¸‹åˆ’çº¿å¼€å¤´ï¼Œè¡¨ç¤ºè¿™äº›å±æ€§ä¸åº”è¯¥è¢«å¤–éƒ¨ä½¿ç”¨ã€‚ç»“åˆgetå’Œsetæ–¹æ³•ï¼Œå°±å¯ä»¥åšåˆ°é˜²æ­¢è¿™äº›å†…éƒ¨å±æ€§è¢«å¤–éƒ¨è¯»å†™ã€‚ 12345678910111213141516171819202122const handler = { get (target, key) { invariant(key, 'get'); return target[key]; }, set (target, key, value) { invariant(key, 'set'); target[key] = value; return true; }};function invariant (key, action) { if (key[0] === '_') { throw new Error(`Invalid attempt to ${action} private &quot;${key}&quot; property`); }}const target = {};const proxy = new Proxy(target, handler);proxy._prop// Error: Invalid attempt to get private &quot;_prop&quot; propertyproxy._prop = 'c'// Error: Invalid attempt to set private &quot;_prop&quot; property ä¸Šé¢ä»£ç ä¸­ï¼Œåªè¦è¯»å†™çš„å±æ€§åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸‹åˆ’çº¿ï¼Œä¸€å¾‹æŠ›é”™ï¼Œä»è€Œè¾¾åˆ°ç¦æ­¢è¯»å†™å†…éƒ¨å±æ€§çš„ç›®çš„ã€‚ ä¸‹é¢æ˜¯setæ–¹æ³•ç¬¬å››ä¸ªå‚æ•°çš„ä¾‹å­ã€‚ 123456789const handler = { set: function(obj, prop, value, receiver) { obj[prop] = receiver; return true; }};const proxy = new Proxy({}, handler);proxy.foo = 'bar';proxy.foo === proxy // true ä¸Šé¢ä»£ç ä¸­ï¼Œsetæ–¹æ³•çš„ç¬¬å››ä¸ªå‚æ•°receiverï¼ŒæŒ‡çš„æ˜¯åŸå§‹çš„æ“ä½œè¡Œä¸ºæ‰€åœ¨çš„é‚£ä¸ªå¯¹è±¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯proxyå®ä¾‹æœ¬èº«ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 123456789101112const handler = { set: function(obj, prop, value, receiver) { obj[prop] = receiver; return true; }};const proxy = new Proxy({}, handler);const myObj = {};Object.setPrototypeOf(myObj, proxy);myObj.foo = 'bar';myObj.foo === myObj // true ä¸Šé¢ä»£ç ä¸­ï¼Œè®¾ç½®myObj.fooå±æ€§çš„å€¼æ—¶ï¼ŒmyObjå¹¶æ²¡æœ‰fooå±æ€§ï¼Œå› æ­¤å¼•æ“ä¼šåˆ°myObjçš„åŸå‹é“¾å»æ‰¾fooå±æ€§ã€‚myObjçš„åŸå‹å¯¹è±¡proxyæ˜¯ä¸€ä¸ª Proxy å®ä¾‹ï¼Œè®¾ç½®å®ƒçš„fooå±æ€§ä¼šè§¦å‘setæ–¹æ³•ã€‚è¿™æ—¶ï¼Œç¬¬å››ä¸ªå‚æ•°receiverå°±æŒ‡å‘åŸå§‹èµ‹å€¼è¡Œä¸ºæ‰€åœ¨çš„å¯¹è±¡myObjã€‚ æ³¨æ„ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡è‡ªèº«çš„æŸä¸ªå±æ€§ä¸å¯å†™ï¼Œé‚£ä¹ˆsetæ–¹æ³•å°†ä¸èµ·ä½œç”¨ã€‚ 12345678910111213141516const obj = {};Object.defineProperty(obj, 'foo', { value: 'bar', writable: false});const handler = { set: function(obj, prop, value, receiver) { obj[prop] = 'baz'; return true; }};const proxy = new Proxy(obj, handler);proxy.foo = 'baz';proxy.foo // &quot;bar&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œobj.fooå±æ€§ä¸å¯å†™ï¼ŒProxy å¯¹è¿™ä¸ªå±æ€§çš„setä»£ç†å°†ä¸ä¼šç”Ÿæ•ˆã€‚ æ³¨æ„ï¼Œsetä»£ç†åº”å½“è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œsetä»£ç†å¦‚æœæ²¡æœ‰è¿”å›trueï¼Œå°±ä¼šæŠ¥é”™ã€‚ 1234567891011'use strict';const handler = { set: function(obj, prop, value, receiver) { obj[prop] = receiver; // æ— è®ºæœ‰æ²¡æœ‰ä¸‹é¢è¿™ä¸€è¡Œï¼Œéƒ½ä¼šæŠ¥é”™ return false; }};const proxy = new Proxy({}, handler);proxy.foo = 'bar';// TypeError: 'set' on proxy: trap returned falsish for property 'foo' ä¸Šé¢ä»£ç ä¸­ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œsetä»£ç†è¿”å›falseæˆ–è€…undefinedï¼Œéƒ½ä¼šæŠ¥é”™ã€‚ apply()applyæ–¹æ³•æ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ã€callå’Œapplyæ“ä½œã€‚ applyæ–¹æ³•å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ç›®æ ‡å¯¹è±¡ã€ç›®æ ‡å¯¹è±¡çš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆthisï¼‰å’Œç›®æ ‡å¯¹è±¡çš„å‚æ•°æ•°ç»„ã€‚ 12345var handler = { apply (target, ctx, args) { return Reflect.apply(...arguments); }}; ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 1234567891011var target = function () { return 'I am the target'; };var handler = { apply: function () { return 'I am the proxy'; }};var p = new Proxy(target, handler);p()// &quot;I am the proxy&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡pæ˜¯ Proxy çš„å®ä¾‹ï¼Œå½“å®ƒä½œä¸ºå‡½æ•°è°ƒç”¨æ—¶ï¼ˆp()ï¼‰ï¼Œå°±ä¼šè¢«applyæ–¹æ³•æ‹¦æˆªï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚ 123456789101112var twice = { apply (target, ctx, args) { return Reflect.apply(...arguments) * 2; }};function sum (left, right) { return left + right;};var proxy = new Proxy(sum, twice);proxy(1, 2) // 6proxy.call(null, 5, 6) // 22proxy.apply(null, [7, 8]) // 30 ä¸Šé¢ä»£ç ä¸­ï¼Œæ¯å½“æ‰§è¡Œproxyå‡½æ•°ï¼ˆç›´æ¥è°ƒç”¨æˆ–callå’Œapplyè°ƒç”¨ï¼‰ï¼Œå°±ä¼šè¢«applyæ–¹æ³•æ‹¦æˆªã€‚ å¦å¤–ï¼Œç›´æ¥è°ƒç”¨Reflect.applyæ–¹æ³•ï¼Œä¹Ÿä¼šè¢«æ‹¦æˆªã€‚ 1Reflect.apply(proxy, null, [9, 10]) // 38 has()has()æ–¹æ³•ç”¨æ¥æ‹¦æˆªHasPropertyæ“ä½œï¼Œå³åˆ¤æ–­å¯¹è±¡æ˜¯å¦å…·æœ‰æŸä¸ªå±æ€§æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šç”Ÿæ•ˆã€‚å…¸å‹çš„æ“ä½œå°±æ˜¯inè¿ç®—ç¬¦ã€‚ has()æ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ç›®æ ‡å¯¹è±¡ã€éœ€æŸ¥è¯¢çš„å±æ€§åã€‚ ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨has()æ–¹æ³•éšè—æŸäº›å±æ€§ï¼Œä¸è¢«inè¿ç®—ç¬¦å‘ç°ã€‚ 1234567891011var handler = { has (target, key) { if (key[0] === '_') { return false; } return key in target; }};var target = { _prop: 'foo', prop: 'foo' };var proxy = new Proxy(target, handler);'_prop' in proxy // false ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœåŸå¯¹è±¡çš„å±æ€§åçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸‹åˆ’çº¿ï¼Œproxy.has()å°±ä¼šè¿”å›falseï¼Œä»è€Œä¸ä¼šè¢«inè¿ç®—ç¬¦å‘ç°ã€‚ å¦‚æœåŸå¯¹è±¡ä¸å¯é…ç½®æˆ–è€…ç¦æ­¢æ‰©å±•ï¼Œè¿™æ—¶has()æ‹¦æˆªä¼šæŠ¥é”™ã€‚ 12345678910var obj = { a: 10 };Object.preventExtensions(obj);var p = new Proxy(obj, { has: function(target, prop) { return false; }});'a' in p // TypeError is thrown ä¸Šé¢ä»£ç ä¸­ï¼Œobjå¯¹è±¡ç¦æ­¢æ‰©å±•ï¼Œç»“æœä½¿ç”¨hasæ‹¦æˆªå°±ä¼šæŠ¥é”™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸ªå±æ€§ä¸å¯é…ç½®ï¼ˆæˆ–è€…ç›®æ ‡å¯¹è±¡ä¸å¯æ‰©å±•ï¼‰ï¼Œåˆ™has()æ–¹æ³•å°±ä¸å¾—â€œéšè—â€ï¼ˆå³è¿”å›falseï¼‰ç›®æ ‡å¯¹è±¡çš„è¯¥å±æ€§ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œhas()æ–¹æ³•æ‹¦æˆªçš„æ˜¯HasPropertyæ“ä½œï¼Œè€Œä¸æ˜¯HasOwnPropertyæ“ä½œï¼Œå³has()æ–¹æ³•ä¸åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œè¿˜æ˜¯ç»§æ‰¿çš„å±æ€§ã€‚ å¦å¤–ï¼Œè™½ç„¶for...inå¾ªç¯ä¹Ÿç”¨åˆ°äº†inè¿ç®—ç¬¦ï¼Œä½†æ˜¯has()æ‹¦æˆªå¯¹for...inå¾ªç¯ä¸ç”Ÿæ•ˆã€‚ 12345678910111213141516171819202122232425262728293031323334let stu1 = {name: 'å¼ ä¸‰', score: 59};let stu2 = {name: 'æå››', score: 99};let handler = { has(target, prop) { if (prop === 'score' &amp;&amp; target[prop] &lt; 60) { console.log(`${target.name} ä¸åŠæ ¼`); return false; } return prop in target; }}let oproxy1 = new Proxy(stu1, handler);let oproxy2 = new Proxy(stu2, handler);'score' in oproxy1// å¼ ä¸‰ ä¸åŠæ ¼// false'score' in oproxy2// truefor (let a in oproxy1) { console.log(oproxy1[a]);}// å¼ ä¸‰// 59for (let b in oproxy2) { console.log(oproxy2[b]);}// æå››// 99 ä¸Šé¢ä»£ç ä¸­ï¼Œhas()æ‹¦æˆªåªå¯¹inè¿ç®—ç¬¦ç”Ÿæ•ˆï¼Œå¯¹for...inå¾ªç¯ä¸ç”Ÿæ•ˆï¼Œå¯¼è‡´ä¸ç¬¦åˆè¦æ±‚çš„å±æ€§æ²¡æœ‰è¢«for...inå¾ªç¯æ‰€æ’é™¤ã€‚ 3.this é—®é¢˜è™½ç„¶ Proxy å¯ä»¥ä»£ç†é’ˆå¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ï¼Œä½†å®ƒä¸æ˜¯ç›®æ ‡å¯¹è±¡çš„é€æ˜ä»£ç†ï¼Œå³ä¸åšä»»ä½•æ‹¦æˆªçš„æƒ…å†µä¸‹ï¼Œä¹Ÿæ— æ³•ä¿è¯ä¸ç›®æ ‡å¯¹è±¡çš„è¡Œä¸ºä¸€è‡´ã€‚ä¸»è¦åŸå› å°±æ˜¯åœ¨ Proxy ä»£ç†çš„æƒ…å†µä¸‹ï¼Œç›®æ ‡å¯¹è±¡å†…éƒ¨çš„thiså…³é”®å­—ä¼šæŒ‡å‘ Proxy ä»£ç†ã€‚ 1234567891011const target = { m: function () { console.log(this === proxy); }};const handler = {};const proxy = new Proxy(target, handler);target.m() // falseproxy.m() // true ä¸Šé¢ä»£ç ä¸­ï¼Œä¸€æ—¦proxyä»£ç†targetï¼Œtarget.m()å†…éƒ¨çš„thiså°±æ˜¯æŒ‡å‘proxyï¼Œè€Œä¸æ˜¯targetã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œç”±äºthisæŒ‡å‘çš„å˜åŒ–ï¼Œå¯¼è‡´ Proxy æ— æ³•ä»£ç†ç›®æ ‡å¯¹è±¡ã€‚ 12345678910111213141516const _name = new WeakMap();class Person { constructor(name) { _name.set(this, name); } get name() { return _name.get(this); }}const jane = new Person('Jane');jane.name // 'Jane'const proxy = new Proxy(jane, {});proxy.name // undefined ä¸Šé¢ä»£ç ä¸­ï¼Œç›®æ ‡å¯¹è±¡janeçš„nameå±æ€§ï¼Œå®é™…ä¿å­˜åœ¨å¤–éƒ¨WeakMapå¯¹è±¡_nameä¸Šé¢ï¼Œé€šè¿‡thisé”®åŒºåˆ†ã€‚ç”±äºé€šè¿‡proxy.nameè®¿é—®æ—¶ï¼ŒthisæŒ‡å‘proxyï¼Œå¯¼è‡´æ— æ³•å–åˆ°å€¼ï¼Œæ‰€ä»¥è¿”å›undefinedã€‚ æ­¤å¤–ï¼Œæœ‰äº›åŸç”Ÿå¯¹è±¡çš„å†…éƒ¨å±æ€§ï¼Œåªæœ‰é€šè¿‡æ­£ç¡®çš„thisæ‰èƒ½æ‹¿åˆ°ï¼Œæ‰€ä»¥ Proxy ä¹Ÿæ— æ³•ä»£ç†è¿™äº›åŸç”Ÿå¯¹è±¡çš„å±æ€§ã€‚ 123456const target = new Date();const handler = {};const proxy = new Proxy(target, handler);proxy.getDate();// TypeError: this is not a Date object. ä¸Šé¢ä»£ç ä¸­ï¼ŒgetDate()æ–¹æ³•åªèƒ½åœ¨Dateå¯¹è±¡å®ä¾‹ä¸Šé¢æ‹¿åˆ°ï¼Œå¦‚æœthisä¸æ˜¯Dateå¯¹è±¡å®ä¾‹å°±ä¼šæŠ¥é”™ã€‚è¿™æ—¶ï¼Œthisç»‘å®šåŸå§‹å¯¹è±¡ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 123456789101112const target = new Date('2015-01-01');const handler = { get(target, prop) { if (prop === 'getDate') { return target.getDate.bind(target); } return Reflect.get(target, prop); }};const proxy = new Proxy(target, handler);proxy.getDate() // 1 å¦å¤–ï¼ŒProxy æ‹¦æˆªå‡½æ•°å†…éƒ¨çš„thisï¼ŒæŒ‡å‘çš„æ˜¯handlerå¯¹è±¡ã€‚ 1234567891011121314151617181920const handler = { get: function (target, key, receiver) { console.log(this === handler); return 'Hello, ' + key; }, set: function (target, key, value) { console.log(this === handler); target[key] = value; return true; }};const proxy = new Proxy({}, handler);proxy.foo// true// Hello, fooproxy.foo = 1// true ä¸Šé¢ä¾‹å­ä¸­ï¼Œget()å’Œset()æ‹¦æˆªå‡½æ•°å†…éƒ¨çš„thisï¼ŒæŒ‡å‘çš„éƒ½æ˜¯handlerå¯¹è±¡ã€‚","link":"/JavaScript/22.Proxy/"},{"title":"Reflect","text":"1.ReflectReflectå¯¹è±¡ä¸Proxyå¯¹è±¡ä¸€æ ·ï¼Œä¹Ÿæ˜¯ES6ä¸ºäº†æ“ä½œå¯¹è±¡è€Œæä¾›çš„æ–°APIã€‚Reflectå¯¹è±¡è®¾è®¡çš„ç›®çš„æœ‰è¿™æ ·å‡ ä¸ª å°†Objectå¯¹è±¡çš„ä¸€äº›æ˜æ˜¾å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•ï¼ˆæ¯”å¦‚Object.definePropertyï¼‰ï¼Œæ”¾åˆ°Reflectå¯¹è±¡ä¸Šã€‚ç°é˜¶æ®µï¼ŒæŸäº›æ–¹æ³•åŒæ—¶åœ¨Objectå’ŒReflectå¯¹è±¡ä¸Šéƒ¨ç½²ï¼Œæœªæ¥çš„æ–°æ–¹æ³•å°†åªéƒ¨ç½²åœ¨Reflectå¯¹è±¡ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä»Reflectå¯¹è±¡ä¸Šå¯ä»¥æ‹¿åˆ°è¯­è¨€å†…éƒ¨çš„æ–¹æ³•ã€‚ ä¿®æ”¹æŸäº›Objectæ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ã€‚æ¯”å¦‚ï¼ŒObject.defineProperty(obj, name, desc)åœ¨æ— æ³•å®šä¹‰å±æ€§æ—¶ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè€ŒReflect.defineProperty(obj, name, desc)åˆ™ä¼šè¿”å›falseã€‚ 1234567891011121314// è€å†™æ³•try { Object.defineProperty(target, property, attributes); // success} catch (e) { // failure}// æ–°å†™æ³•if (Reflect.defineProperty(target, property, attributes)) { // success} else { // failure} è®©Objectæ“ä½œéƒ½å˜æˆå‡½æ•°è¡Œä¸ºï¼ŒæŸäº›Objectæ“ä½œæ˜¯å‘½ä»¤å¼ï¼Œæ¯”å¦‚name in objå’Œdelete obj[name]ï¼Œè€ŒReflect.has(obj, name)å’ŒReflect.deleteProperty(obj, name)è®©å®ƒä»¬å˜æˆäº†å‡½æ•°è¡Œä¸ºã€‚ 12345// è€å†™æ³•'assign' in Object // true// æ–°å†™æ³•Reflect.has(Object, 'assign') // true Reflectå¯¹è±¡çš„æ–¹æ³•ä¸Proxyå¯¹è±¡çš„æ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œåªè¦æ˜¯Proxyå¯¹è±¡çš„æ–¹æ³•ï¼Œå°±èƒ½åœ¨Reflectå¯¹è±¡ä¸Šæ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ã€‚è¿™å°±è®©Proxyå¯¹è±¡å¯ä»¥æ–¹ä¾¿åœ°è°ƒç”¨å¯¹åº”çš„Reflectæ–¹æ³•ï¼Œå®Œæˆé»˜è®¤è¡Œä¸ºï¼Œä½œä¸ºä¿®æ”¹è¡Œä¸ºçš„åŸºç¡€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡Proxyæ€ä¹ˆä¿®æ”¹é»˜è®¤è¡Œä¸ºï¼Œä½ æ€»å¯ä»¥åœ¨Reflectä¸Šè·å–é»˜è®¤è¡Œä¸º 123456789Proxy(target, { set: function(target, name, value, receiver) { var success = Reflect.set(target, name, value, receiver); if (success) { console.log('property ' + name + ' on ' + target + ' set to ' + value); } return success; }}); ä¸Šé¢ä»£ç ä¸­ï¼ŒProxyæ–¹æ³•æ‹¦æˆªtargetå¯¹è±¡çš„å±æ€§èµ‹å€¼è¡Œä¸ºã€‚å®ƒé‡‡ç”¨Reflect.setæ–¹æ³•å°†å€¼èµ‹å€¼ç»™å¯¹è±¡çš„å±æ€§ï¼Œç¡®ä¿å®ŒæˆåŸæœ‰çš„è¡Œä¸ºï¼Œç„¶åå†éƒ¨ç½²é¢å¤–çš„åŠŸèƒ½ 1234567891011121314var loggedObj = new Proxy(obj, { get(target, name) { console.log('get', target, name); return Reflect.get(target, name); }, deleteProperty(target, name) { console.log('delete' + name); return Reflect.deleteProperty(target, name); }, has(target, name) { console.log('has' + name); return Reflect.has(target, name); }}); ä¸Šé¢ä»£ç ä¸­ï¼Œæ¯ä¸€ä¸ªProxyå¯¹è±¡çš„æ‹¦æˆªæ“ä½œï¼ˆgetã€deleteã€hasï¼‰ï¼Œå†…éƒ¨éƒ½è°ƒç”¨å¯¹åº”çš„Reflectæ–¹æ³•ï¼Œä¿è¯åŸç”Ÿè¡Œä¸ºèƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œã€‚æ·»åŠ çš„å·¥ä½œï¼Œå°±æ˜¯å°†æ¯ä¸€ä¸ªæ“ä½œè¾“å‡ºä¸€è¡Œæ—¥å¿—ã€‚ æœ‰äº†Reflectå¯¹è±¡ä»¥åï¼Œå¾ˆå¤šæ“ä½œä¼šæ›´æ˜“è¯»ã€‚ 12345// è€å†™æ³•Function.prototype.apply.call(Math.floor, undefined, [1.75]) // 1// æ–°å†™æ³•Reflect.apply(Math.floor, undefined, [1.75]) // 1 2.é™æ€æ–¹æ³•Reflectå¯¹è±¡ä¸€å…±æœ‰13ä¸ªé™æ€æ–¹æ³• Reflect.apply(target, thisArg, args) Reflect.construct(target, args) Reflect.get(target, name, receiver) Reflect.set(target, name, value, receiver) Reflect.defineProperty(target, name, desc) Reflect.deleteProperty(target, name) Reflect.has(target, name) Reflect.ownKeys(target) Reflect.isExtensible(target) Reflect.preventExtensions(target) Reflect.getOwnPropertyDescriptor(target, name) Reflect.getPrototypeOf(target) Reflect.setPrototypeOf(target, prototype) ä¸Šé¢è¿™äº›æ–¹æ³•çš„ä½œç”¨ï¼Œå¤§éƒ¨åˆ†ä¸Objectå¯¹è±¡çš„åŒåæ–¹æ³•çš„ä½œç”¨éƒ½æ˜¯ç›¸åŒçš„ï¼Œè€Œä¸”å®ƒä¸Proxyå¯¹è±¡çš„æ–¹æ³•æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ä¸‹é¢æ˜¯å¯¹å®ƒä»¬çš„è§£é‡Šã€‚ Reflect.get(target, name, reciver)Reflect.getæ–¹æ³•æŸ¥æ‰¾å¹¶è¿”å›targetå¯¹è±¡çš„nameå±æ€§çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰è¯¥å±æ€§ï¼Œåˆ™è¿”å›undefinedã€‚ 1234567891011var myObject = { foo: 1, bar: 2, get baz() { return this.foo + this.bar; },}Reflect.get(myObject, 'foo') // 1Reflect.get(myObject, 'bar') // 2Reflect.get(myObject, 'baz') // 3 Reflect.set(target, name, value, receiver)Reflect.setæ–¹æ³•è®¾ç½®targetå¯¹è±¡çš„nameå±æ€§ç­‰äºvalue 1234567891011121314var myObject = { foo: 1, set bar(value) { return this.foo = value; },}myObject.foo // 1Reflect.set(myObject, 'foo', 2);myObject.foo // 2Reflect.set(myObject, 'bar', 3)myObject.foo // 3 å¦‚æœnameå±æ€§è®¾ç½®äº†èµ‹å€¼å‡½æ•°ï¼Œåˆ™èµ‹å€¼å‡½æ•°çš„thisç»‘å®šreceiverã€‚ 1234567891011121314var myObject = { foo: 4, set bar(value) { return this.foo = value; },};var myReceiverObject = { foo: 0,};Reflect.set(myObject, 'bar', 1, myReceiverObject);myObject.foo // 4myReceiverObject.foo // 1 æ³¨æ„ï¼Œå¦‚æœ Proxyå¯¹è±¡å’Œ Reflectå¯¹è±¡è”åˆä½¿ç”¨ï¼Œå‰è€…æ‹¦æˆªèµ‹å€¼æ“ä½œï¼Œåè€…å®Œæˆèµ‹å€¼çš„é»˜è®¤è¡Œä¸ºï¼Œè€Œä¸”ä¼ å…¥äº†receiverï¼Œé‚£ä¹ˆReflect.setä¼šè§¦å‘Proxy.definePropertyæ‹¦æˆªã€‚ 12345678910111213141516171819let p = { a: 'a'};let handler = { set(target, key, value, receiver) { console.log('set'); Reflect.set(target, key, value, receiver) }, defineProperty(target, key, attribute) { console.log('defineProperty'); Reflect.defineProperty(target, key, attribute); }};let obj = new Proxy(p, handler);obj.a = 'A';// set// defineProperty ä¸Šé¢ä»£ç ä¸­ï¼ŒProxy.setæ‹¦æˆªé‡Œé¢ä½¿ç”¨äº†Reflect.setï¼Œè€Œä¸”ä¼ å…¥äº†receiverï¼Œå¯¼è‡´è§¦å‘Proxy.definePropertyæ‹¦æˆªã€‚è¿™æ˜¯å› ä¸ºProxy.setçš„receiverå‚æ•°æ€»æ˜¯æŒ‡å‘å½“å‰çš„ Proxyå®ä¾‹ï¼ˆå³ä¸Šä¾‹çš„objï¼‰ï¼Œè€ŒReflect.setä¸€æ—¦ä¼ å…¥receiverï¼Œå°±ä¼šå°†å±æ€§èµ‹å€¼åˆ°receiverä¸Šé¢ï¼ˆå³objï¼‰ï¼Œå¯¼è‡´è§¦å‘definePropertyæ‹¦æˆªã€‚å¦‚æœReflect.setæ²¡æœ‰ä¼ å…¥receiverï¼Œé‚£ä¹ˆå°±ä¸ä¼šè§¦å‘definePropertyæ‹¦æˆªã€‚ 123456789101112131415161718let p = { a: 'a'};let handler = { set(target, key, value, receiver) { console.log('set'); Reflect.set(target, key, value) }, defineProperty(target, key, attribute) { console.log('defineProperty'); Reflect.defineProperty(target, key, attribute); }};let obj = new Proxy(p, handler);obj.a = 'A';// set å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒReflect.setä¼šæŠ¥é”™ã€‚ 12Reflect.set(1, 'foo', {}) // æŠ¥é”™Reflect.set(false, 'foo', {}) // æŠ¥é”™ Reflect.has(obj, name)Reflect.hasæ–¹æ³•å¯¹åº”name in objé‡Œé¢çš„inè¿ç®—ç¬¦ã€‚ 123456789var myObject = { foo: 1,};// æ—§å†™æ³•'foo' in myObject // true// æ–°å†™æ³•Reflect.has(myObject, 'foo') // true å¦‚æœReflect.has()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šæŠ¥é”™ã€‚ Reflect.deleteProperty(obj, name)Reflect.deletePropertyæ–¹æ³•ç­‰åŒäºdelete obj[name]ï¼Œç”¨äºåˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚ 1234567const myObj = { foo: 'bar' };// æ—§å†™æ³•delete myObj.foo;// æ–°å†™æ³•Reflect.deleteProperty(myObj, 'foo'); è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœåˆ é™¤æˆåŠŸï¼Œæˆ–è€…è¢«åˆ é™¤çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¿”å›trueï¼›åˆ é™¤å¤±è´¥ï¼Œè¢«åˆ é™¤çš„å±æ€§ä¾ç„¶å­˜åœ¨ï¼Œè¿”å›falseã€‚ å¦‚æœReflect.deleteProperty()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šæŠ¥é”™ã€‚ Reflect.construct(target, args)Reflect.constructæ–¹æ³•ç­‰åŒäºnew target(...args)ï¼Œè¿™æä¾›äº†ä¸€ç§ä¸ä½¿ç”¨newï¼Œæ¥è°ƒç”¨æ„é€ å‡½æ•°çš„æ–¹æ³•ã€‚ 123456789function Greeting(name) { this.name = name;}// new çš„å†™æ³•const instance = new Greeting('å¼ ä¸‰');// Reflect.construct çš„å†™æ³•const instance = Reflect.construct(Greeting, ['å¼ ä¸‰']); å¦‚æœReflect.construct()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å‡½æ•°ï¼Œä¼šæŠ¥é”™ã€‚ Reflect.getPrototypeOf(obj)Reflect.getPrototypeOfæ–¹æ³•ç”¨äºè¯»å–å¯¹è±¡çš„__proto__å±æ€§ï¼Œå¯¹åº”Object.getPrototypeOf(obj)ã€‚ 1234567const myObj = new FancyThing();// æ—§å†™æ³•Object.getPrototypeOf(myObj) === FancyThing.prototype;// æ–°å†™æ³•Reflect.getPrototypeOf(myObj) === FancyThing.prototype; Reflect.getPrototypeOfå’ŒObject.getPrototypeOfçš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå¦‚æœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.getPrototypeOfä¼šå°†è¿™ä¸ªå‚æ•°è½¬ä¸ºå¯¹è±¡ï¼Œç„¶åå†è¿è¡Œï¼Œè€ŒReflect.getPrototypeOfä¼šæŠ¥é”™ã€‚ 12Object.getPrototypeOf(1) // Number {[[PrimitiveValue]]: 0}Reflect.getPrototypeOf(1) // æŠ¥é”™ Reflect.setPrototypeOf(obj, newProto)Reflect.setPrototypeOfæ–¹æ³•ç”¨äºè®¾ç½®ç›®æ ‡å¯¹è±¡çš„åŸå‹ï¼ˆprototypeï¼‰ï¼Œå¯¹åº”Object.setPrototypeOf(obj, newProto)æ–¹æ³•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®æˆåŠŸã€‚ 123456789const myObj = {};// æ—§å†™æ³•Object.setPrototypeOf(myObj, Array.prototype);// æ–°å†™æ³•Reflect.setPrototypeOf(myObj, Array.prototype);myObj.length // 0 å¦‚æœæ— æ³•è®¾ç½®ç›®æ ‡å¯¹è±¡çš„åŸå‹ï¼ˆæ¯”å¦‚ï¼Œç›®æ ‡å¯¹è±¡ç¦æ­¢æ‰©å±•ï¼‰ï¼ŒReflect.setPrototypeOfæ–¹æ³•è¿”å›falseã€‚ 1234Reflect.setPrototypeOf({}, null)// trueReflect.setPrototypeOf(Object.freeze({}), null)// false å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.setPrototypeOfä¼šè¿”å›ç¬¬ä¸€ä¸ªå‚æ•°æœ¬èº«ï¼Œè€ŒReflect.setPrototypeOfä¼šæŠ¥é”™ã€‚ 12345Object.setPrototypeOf(1, {})// 1Reflect.setPrototypeOf(1, {})// TypeError: Reflect.setPrototypeOf called on non-object å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯undefinedæˆ–nullï¼ŒObject.setPrototypeOfå’ŒReflect.setPrototypeOféƒ½ä¼šæŠ¥é”™ã€‚ 12345Object.setPrototypeOf(null, {})// TypeError: Object.setPrototypeOf called on null or undefinedReflect.setPrototypeOf(null, {})// TypeError: Reflect.setPrototypeOf called on non-object Reflect.apply(func, thisArg, args)Reflect.applyæ–¹æ³•ç­‰åŒäºFunction.prototype.apply.call(func, thisArg, args)ï¼Œç”¨äºç»‘å®šthiså¯¹è±¡åæ‰§è¡Œç»™å®šå‡½æ•°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè¦ç»‘å®šä¸€ä¸ªå‡½æ•°çš„thiså¯¹è±¡ï¼Œå¯ä»¥è¿™æ ·å†™fn.apply(obj, args)ï¼Œä½†æ˜¯å¦‚æœå‡½æ•°å®šä¹‰äº†è‡ªå·±çš„applyæ–¹æ³•ï¼Œå°±åªèƒ½å†™æˆFunction.prototype.apply.call(fn, obj, args)ï¼Œé‡‡ç”¨Reflectå¯¹è±¡å¯ä»¥ç®€åŒ–è¿™ç§æ“ä½œã€‚ 1234567891011const ages = [11, 33, 12, 54, 18, 96];// æ—§å†™æ³•const youngest = Math.min.apply(Math, ages);const oldest = Math.max.apply(Math, ages);const type = Object.prototype.toString.call(youngest);// æ–°å†™æ³•const youngest = Reflect.apply(Math.min, Math, ages);const oldest = Reflect.apply(Math.max, Math, ages);const type = Reflect.apply(Object.prototype.toString, youngest, []); Reflect.defineProperty(target, propertyKey, attributes)Reflect.definePropertyæ–¹æ³•åŸºæœ¬ç­‰åŒäºObject.definePropertyï¼Œç”¨æ¥ä¸ºå¯¹è±¡å®šä¹‰å±æ€§ã€‚æœªæ¥ï¼Œåè€…ä¼šè¢«é€æ¸åºŸé™¤ï¼Œè¯·ä»ç°åœ¨å¼€å§‹å°±ä½¿ç”¨Reflect.definePropertyä»£æ›¿å®ƒã€‚ 12345678910111213function MyDate() { /*â€¦*/}// æ—§å†™æ³•Object.defineProperty(MyDate, 'now', { value: () =&gt; Date.now()});// æ–°å†™æ³•Reflect.defineProperty(MyDate, 'now', { value: () =&gt; Date.now()}); å¦‚æœReflect.definePropertyçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œæ¯”å¦‚Reflect.defineProperty(1, 'foo')ã€‚ è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¸Proxy.definePropertyé…åˆä½¿ç”¨ã€‚ 1234567891011const p = new Proxy({}, { defineProperty(target, prop, descriptor) { console.log(descriptor); return Reflect.defineProperty(target, prop, descriptor); }});p.foo = 'bar';// {value: &quot;bar&quot;, writable: true, enumerable: true, configurable: true}p.foo // &quot;bar&quot; ä¸Šé¢ä»£ç ä¸­ï¼ŒProxy.definePropertyå¯¹å±æ€§èµ‹å€¼è®¾ç½®äº†æ‹¦æˆªï¼Œç„¶åä½¿ç”¨Reflect.definePropertyå®Œæˆäº†èµ‹å€¼ã€‚ Reflect.getOwnPropertyDescriptor(target, propertyKey)Reflect.getOwnPropertyDescriptoråŸºæœ¬ç­‰åŒäºObject.getOwnPropertyDescriptorï¼Œç”¨äºå¾—åˆ°æŒ‡å®šå±æ€§çš„æè¿°å¯¹è±¡ï¼Œå°†æ¥ä¼šæ›¿ä»£æ‰åè€…ã€‚ 1234567891011var myObject = {};Object.defineProperty(myObject, 'hidden', { value: true, enumerable: false,});// æ—§å†™æ³•var theDescriptor = Object.getOwnPropertyDescriptor(myObject, 'hidden');// æ–°å†™æ³•var theDescriptor = Reflect.getOwnPropertyDescriptor(myObject, 'hidden'); Reflect.getOwnPropertyDescriptorå’ŒObject.getOwnPropertyDescriptorçš„ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.getOwnPropertyDescriptor(1, 'foo')ä¸æŠ¥é”™ï¼Œè¿”å›undefinedï¼Œè€ŒReflect.getOwnPropertyDescriptor(1, 'foo')ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè¡¨ç¤ºå‚æ•°éæ³•ã€‚ Reflect.isExtensible (target)Reflect.isExtensibleæ–¹æ³•å¯¹åº”Object.isExtensibleï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡æ˜¯å¦å¯æ‰©å±•ã€‚ 1234567const myObject = {};// æ—§å†™æ³•Object.isExtensible(myObject) // true// æ–°å†™æ³•Reflect.isExtensible(myObject) // true å¦‚æœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.isExtensibleä¼šè¿”å›falseï¼Œå› ä¸ºéå¯¹è±¡æœ¬æ¥å°±æ˜¯ä¸å¯æ‰©å±•çš„ï¼Œè€ŒReflect.isExtensibleä¼šæŠ¥é”™ã€‚ 12Object.isExtensible(1) // falseReflect.isExtensible(1) // æŠ¥é”™ Reflect.preventExtensions(target)Reflect.preventExtensionså¯¹åº”Object.preventExtensionsæ–¹æ³•ï¼Œç”¨äºè®©ä¸€ä¸ªå¯¹è±¡å˜ä¸ºä¸å¯æ‰©å±•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ“ä½œæˆåŠŸã€‚ 1234567var myObject = {};// æ—§å†™æ³•Object.preventExtensions(myObject) // Object {}// æ–°å†™æ³•Reflect.preventExtensions(myObject) // true å¦‚æœå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼ŒObject.preventExtensionsåœ¨ ES5 ç¯å¢ƒæŠ¥é”™ï¼Œåœ¨ ES6 ç¯å¢ƒè¿”å›ä¼ å…¥çš„å‚æ•°ï¼Œè€ŒReflect.preventExtensionsä¼šæŠ¥é”™ã€‚ 12345678// ES5 ç¯å¢ƒObject.preventExtensions(1) // æŠ¥é”™// ES6 ç¯å¢ƒObject.preventExtensions(1) // 1// æ–°å†™æ³•Reflect.preventExtensions(1) // æŠ¥é”™ Reflect.ownKeys (target)Reflect.ownKeysæ–¹æ³•ç”¨äºè¿”å›å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼ŒåŸºæœ¬ç­‰åŒäºObject.getOwnPropertyNamesä¸Object.getOwnPropertySymbolsä¹‹å’Œã€‚ 1234567891011121314151617var myObject = { foo: 1, bar: 2, [Symbol.for('baz')]: 3, [Symbol.for('bing')]: 4,};// æ—§å†™æ³•Object.getOwnPropertyNames(myObject)// ['foo', 'bar']Object.getOwnPropertySymbols(myObject)//[Symbol(baz), Symbol(bing)]// æ–°å†™æ³•Reflect.ownKeys(myObject)// ['foo', 'bar', Symbol(baz), Symbol(bing)] å¦‚æœReflect.ownKeys()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šæŠ¥é”™ 3.å®ä¾‹ï¼šä½¿ç”¨ Proxy å®ç°è§‚å¯Ÿè€…æ¨¡å¼è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver modeï¼‰æŒ‡çš„æ˜¯å‡½æ•°è‡ªåŠ¨è§‚å¯Ÿæ•°æ®å¯¹è±¡ï¼Œä¸€æ—¦å¯¹è±¡æœ‰å˜åŒ–ï¼Œå‡½æ•°å°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ 12345678910111213const person = observable({ name: 'å¼ ä¸‰', age: 20});function print() { console.log(`${person.name}, ${person.age}`)}observe(print);person.name = 'æå››';// è¾“å‡º// æå››, 20 ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°æ®å¯¹è±¡personæ˜¯è§‚å¯Ÿç›®æ ‡ï¼Œå‡½æ•°printæ˜¯è§‚å¯Ÿè€…ã€‚ä¸€æ—¦æ•°æ®å¯¹è±¡å‘ç”Ÿå˜åŒ–ï¼Œprintå°±ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚ ä¸‹é¢ï¼Œä½¿ç”¨ Proxy å†™ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼çš„æœ€ç®€å•å®ç°ï¼Œå³å®ç°observableå’Œobserveè¿™ä¸¤ä¸ªå‡½æ•°ã€‚æ€è·¯æ˜¯observableå‡½æ•°è¿”å›ä¸€ä¸ªåŸå§‹å¯¹è±¡çš„ Proxy ä»£ç†ï¼Œæ‹¦æˆªèµ‹å€¼æ“ä½œï¼Œè§¦å‘å……å½“è§‚å¯Ÿè€…çš„å„ä¸ªå‡½æ•°ã€‚ 12345678910const queuedObservers = new Set();const observe = fn =&gt; queuedObservers.add(fn);const observable = obj =&gt; new Proxy(obj, {set});function set(target, key, value, receiver) { const result = Reflect.set(target, key, value, receiver); queuedObservers.forEach(observer =&gt; observer()); return result;} ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆå®šä¹‰äº†ä¸€ä¸ªSeté›†åˆï¼Œæ‰€æœ‰è§‚å¯Ÿè€…å‡½æ•°éƒ½æ”¾è¿›è¿™ä¸ªé›†åˆã€‚ç„¶åï¼Œobservableå‡½æ•°è¿”å›åŸå§‹å¯¹è±¡çš„ä»£ç†ï¼Œæ‹¦æˆªèµ‹å€¼æ“ä½œã€‚æ‹¦æˆªå‡½æ•°setä¹‹ä¸­ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œæ‰€æœ‰è§‚å¯Ÿè€…ã€‚","link":"/JavaScript/23.Reflect/"},{"title":"Promise","text":"1.Promise Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼š ä»è¯­æ³•ä¸Šè®²ï¼Œpromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ï¼› ä»æœ¬æ„ä¸Šè®²ï¼Œå®ƒæ˜¯æ‰¿è¯ºï¼Œæ‰¿è¯ºå®ƒè¿‡ä¸€æ®µæ—¶é—´ä¼šç»™ä½ ä¸€ä¸ªç»“æœã€‚ promiseæœ‰ä¸‰ç§çŠ¶æ€ï¼š**pending(ç­‰å¾…æ€)ï¼Œfulfiled(æˆåŠŸæ€)ï¼Œrejected(å¤±è´¥æ€)**ï¼›çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ã€‚åˆ›é€ promiseå®ä¾‹åï¼Œå®ƒä¼šç«‹å³æ‰§è¡Œã€‚ Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼špending(è¿›è¡Œä¸­)ï¼Œfulfilled(å·²æˆåŠŸ)å’Œrejected(å·²å¤±è´¥)ï¼Œåªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ã€‚ ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœï¼ŒPromiseå¯¹è±¡çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§æƒ…å†µï¼Œä»pendingå˜ä¸ºfufilledå’Œä»pendingå˜ä¸ºrejectedï¼Œåªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œè¿™æ—¶å°±ç§°ä¸ºresolvedã€‚å¦‚æœæ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚ Promiseä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚é¦–å…ˆï¼Œæ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚å…¶æ¬¡ï¼Œå¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨æŠ›å‡ºçš„é”™è¯¯ï¼Œä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚ç¬¬ä¸‰ï¼Œå½“å¤„äºpendingçŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µï¼ˆåˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆï¼‰ã€‚ 2.å®ä¾‹æ–¹æ³• Promise.prototype.then() ä¸ºPromiseå®ä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯resolveçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯rejectçŠ¶æ€çš„å›è°ƒå‡½æ•° thenæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³thenåé¢å†è°ƒç”¨ä¸€ä¸ªthen 1fetch('/api/xxx').then(res =&gt; res.json()).then(data =&gt; console.log(data)) Promise.prototype.catch() catchæ–¹æ³•æ˜¯.then(_,rejection)æ–¹æ³•çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•° catchæ–¹æ³•ä¸ä»…å¯ä»¥æ•è·rejectå‡½æ•°çš„å›è°ƒï¼Œä¹Ÿèƒ½æ•è·å¼‚æ­¥è¿è¡Œæ—¶æŠ›å‡ºçš„å¼‚å¸¸ 1234567const promise = new Promise(function(resolve, reject) { throw new Error('test');});promise.catch(function(error) { console.log(error);});// Error: test ä¸Šé¢ä»£ç ä¸­ï¼ŒpromiseæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå°±è¢«catch()æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°æ•è·ã€‚æ³¨æ„ï¼Œä¸Šé¢çš„å†™æ³•ä¸ä¸‹é¢ä¸¤ç§å†™æ³•æ˜¯ç­‰ä»·çš„ã€‚ 12345678910111213141516171819// å†™æ³•ä¸€const promise = new Promise(function(resolve, reject) { try { throw new Error('test'); } catch(e) { reject(e); }});promise.catch(function(error) { console.log(error);});// å†™æ³•äºŒconst promise = new Promise(function(resolve, reject) { reject(new Error('test'));});promise.catch(function(error) { console.log(error);}); Promise.prototyp.finally() finallyæ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡Promiseå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œæ“ä½œã€‚ 1234promise.then(result =&gt; {Â·Â·Â·}).catch(error =&gt; {Â·Â·Â·}).finally(() =&gt; {Â·Â·Â·}); 3.é™æ€æ–¹æ³• Promise.all() Promise.all()æ–¹æ³•ç”¨äºå°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼Œå¹¶ä¸”åªæœ‰å½“æ‰€æœ‰Promiseå®ä¾‹çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œå¹¶è¿”å›å®ä¾‹è¿”å›å€¼ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚ è¯¥æ–¹æ³•å¸¸ç”¨äºå¤šä¸ªæ¥å£çš„å¹¶å‘è¯·æ±‚ 1Promise.all(api1, api2, api3).then(res =&gt; console.log(res)) // ä¼šè¿”å›ä¸‰ä¸ªæ¥å£æ•°æ®ç»„æˆçš„æ•°ç»„ å¦‚æœæœ‰ä¸€ä¸ªå®ä¾‹çš„çŠ¶æ€å˜ä¸ºrejectedï¼Œé‚£ä¹ˆè¯¥å®ä¾‹çš„çŠ¶æ€å°±ä¼šå˜ä¸ºrejected Promise.race() è¯¥æ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ åªè¦è¢«åŒ…è£¹çš„Promiseå®ä¾‹ä¸­ï¼Œæœ‰ä¸€ä¸ªçŠ¶æ€å˜ä¸ºfulfilledï¼Œé‚£ä¹ˆè¯¥å®ä¾‹çš„çŠ¶æ€å°±ç›´æ¥å˜ä¸ºfulfilled å¦‚æœæœ‰ä¸€ä¸ªè¢«åŒ…è£¹çš„PromiseçŠ¶æ€å˜ä¸ºrejectedï¼Œé‚£ä¹ˆPromiseçŠ¶æ€å°±ä¼šå˜ä¸ºreject Promise.allSettled() Promise.allSettled()æ–¹æ³•ï¼Œç”¨æ¥ç¡®å®šä¸€ç»„å¼‚æ­¥ç»„ä»¶æ“ä½œæ˜¯å¦éƒ½ç»“æŸäº†ï¼Œåªæœ‰å½“è¢«åŒ…è£¹çš„å¯¹è±¡éƒ½å‘ç”Ÿäº†çŠ¶æ€å˜æ›´ï¼Œè¿”å›çš„Promiseå¯¹è±¡æ‰ä¼šå‘ç”ŸçŠ¶æ€å˜æ›´ Promise.any() ES2021å¼•å…¥çš„æ–°æ–¹æ³•ï¼Œåªè¦è¢«åŒ…è£¹çš„å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆfulfilledçŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆfulfilledï¼Œå¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆrejectedï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆrejectedçŠ¶æ€ Promise.resolve() Promise.resolveæ–¹æ³•å°†ä¸€ä¸ªå¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡,å…¶å‚æ•°åˆ†ä¸ºå››ç§æƒ…å†µ å‚æ•°æ˜¯ä¸€ä¸ªPromiseå®ä¾‹ å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªPromiseå®ä¾‹ï¼Œå°†ä¸åšä¿®æ”¹ï¼ŒåŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå®ä¾‹ å‚æ•°æ˜¯ä¸€ä¸ªthenableå®ä¾‹ thenableå¯¹è±¡æ˜¯æŒ‡å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡ï¼ŒPromise.resolveæ–¹æ³•ä¼šå°†è¿™ä¸ªå¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡ï¼Œç„¶åæ‰§è¡Œthenableå¯¹è±¡çš„thenæ–¹æ³• 12345678910let thenable = { then: function(resolve, reject) { resolve(42); }};let p1 = Promise.resolve(thenable);p1.then(function (value) { console.log(value); // 42}); å‚æ•°ä¸å…·æœ‰then()æ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–è€…æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡ å‚æ•°ä¸æ˜¯å…·æœ‰then()æ–¹æ³•çš„å¯¹è±¡ï¼Œæˆ–æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡ å¦‚æœå‚æ•°æ˜¯ä¸€ä¸ªåŸå§‹å€¼ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¸å…·æœ‰then()æ–¹æ³•çš„å¯¹è±¡ï¼Œåˆ™Promise.resolve()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Promise å¯¹è±¡ï¼ŒçŠ¶æ€ä¸ºresolvedã€‚ 123456const p = Promise.resolve('Hello');p.then(function (s) { console.log(s)});// Hello ä¸å¸¦ä»»ä½•å‚æ•° Promise.resolve()æ–¹æ³•å…è®¸è°ƒç”¨æ—¶ä¸å¸¦å‚æ•°ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªresolvedçŠ¶æ€çš„ Promise å¯¹è±¡ã€‚ æ‰€ä»¥ï¼Œå¦‚æœå¸Œæœ›å¾—åˆ°ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ¯”è¾ƒæ–¹ä¾¿çš„æ–¹æ³•å°±æ˜¯ç›´æ¥è°ƒç”¨Promise.resolve()æ–¹æ³•ã€‚ 12345const p = Promise.resolve();p.then(function () { // ...}); éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç«‹å³resolve()çš„ Promise å¯¹è±¡ï¼Œæ˜¯åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªç¯â€ï¼ˆevent loopï¼‰çš„ç»“æŸæ—¶æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€çš„å¼€å§‹æ—¶ã€‚ 12345678910111213setTimeout(function () { console.log('three');}, 0);Promise.resolve().then(function () { console.log('two');});console.log('one');// one// two// three ä¸Šé¢ä»£ç ä¸­ï¼ŒsetTimeout(fn, 0)åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€å¼€å§‹æ—¶æ‰§è¡Œï¼ŒPromise.resolve()åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªç¯â€ç»“æŸæ—¶æ‰§è¡Œï¼Œconsole.log('one')åˆ™æ˜¯ç«‹å³æ‰§è¡Œï¼Œå› æ­¤æœ€å…ˆè¾“å‡ºã€‚ Promise.reject() Promise.reject(reason)æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€ä¸ºrejected 12345678const p = Promise.reject('å‡ºé”™äº†');// ç­‰åŒäºconst p = new Promise((resolve, reject) =&gt; reject('å‡ºé”™äº†'))p.then(null, function (s) { console.log(s)});// å‡ºé”™äº† 4.åº”ç”¨ å¯¹äº‹ä»¶ç›‘å¬å¤„ç†å¼‚æ­¥çš„äºŒæ¬¡å°è£… Pormiseåœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­å¸¸ç”¨äºäº‹ä»¶ç›‘å¬è§£å†³å¼‚æ­¥çš„äºŒæ¬¡å°è£… ä¾‹å¦‚å°†å›¾ç‰‡è½¬ä¸ºBase64ç¼–ç æ ¼å¼æ—¶ï¼Œéœ€è¦å®ä¾‹åŒ–ä¸€ä¸ªFileReaderå¯¹è±¡ï¼Œå¹¶ä¸”æ·»åŠ loadäº‹ä»¶ç›‘å¬ å¦‚æœä¸ç”¨Promiseå¤„ç†ï¼Œåˆ™éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°è·å– 123456789101112function getBase64(img, callback) { const reader new FileReader(); reader.addEventListener('load', () =&gt; callback(reader.result)); reader.readAsDataURL(img);}// ä½¿ç”¨getBase64(img, baseUrl =&gt; this.setState({ baseUrl }),); å¦‚æœä½¿ç”¨Promiseè¿›è¡Œå¤„ç†ï¼Œåˆ™å¯ä»¥è¿™ä¹ˆå†™ 1234567891011121314function getBase65(img) { return new Promise(resolve =&gt; { const reader new FileReader(); reader.addEventListener('load', () =&gt; resolve(reader.result)); reader.readAsDataURL(img); })}// ä½¿ç”¨getBase64(img).then(baseUrl =&gt; { this.setState({ baseUrl }),})","link":"/JavaScript/24.Promise/"},{"title":"å‡½æ•°çš„æ‰©å±•","text":"1.å‚æ•°é»˜è®¤å€¼ES6å…è®¸ä¸ºå‡½æ•°çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œç›´æ¥å†™åœ¨å‚æ•°å®šä¹‰çš„åé¢ 1234567function log(x, y = 'World') { console.log(x, y);}log('Hello') // Hello Worldlog('Hello', 'China') // Hello Chinalog('Hello', '') // Hello è¿™ç§å†™æ³•æ¯”ES5ç®€æ´äº†å¾ˆå¤šï¼Œè€Œä¸”å¯ä»¥è®©é˜…è¯»ä»£ç çš„äººå¯ä»¥ç«‹åˆ»æ„è¯†åˆ°å“ªäº›å‚æ•°æ˜¯å¯ä»¥çœç•¥çš„ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ æ³¨æ„ï¼šå‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­ä½¿ç”¨letæˆ–constå†æ¬¡å£°æ˜ 1234function foo(x = 5) { let x = 1; // error const x = 2; // error} ä½¿ç”¨å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œå‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•° 12345678910// ä¸æŠ¥é”™function foo(x, x, y) { // ...}// æŠ¥é”™function foo(x, x, y = 1) { // ...}// SyntaxError: Duplicate parameter name not allowed in this context å¦å¤–ï¼Œä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„åœ°æ–¹æ˜¯ï¼Œå‚æ•°é»˜è®¤å€¼ä¸æ˜¯ä¼ å€¼çš„ï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—é»˜è®¤å€¼è¡¨è¾¾å¼çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‚æ•°é»˜è®¤å€¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ã€‚ 123456789let x = 99;function foo(p = x + 1) { console.log(p);}foo() // 100x = 100;foo() // 101 ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°pçš„é»˜è®¤å€¼æ˜¯x + 1ã€‚è¿™æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°fooï¼Œéƒ½ä¼šé‡æ–°è®¡ç®—x + 1ï¼Œè€Œä¸æ˜¯é»˜è®¤pç­‰äº 100ã€‚ ä¸è§£æ„èµ‹å€¼ç»“åˆä½¿ç”¨å‚æ•°é»˜è®¤å€¼å¯ä»¥ä¸è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼ï¼Œç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ 12345678function foo({x, y = 5}) { console.log(x, y);}foo({}) // undefined 5foo({x: 1}) // 1 5foo({x: 1, y: 2}) // 1 2foo() // TypeError: Cannot read property 'x' of undefined ä¸Šé¢ä»£ç åªä½¿ç”¨äº†å¯¹è±¡çš„è§£æ„èµ‹å€¼é»˜è®¤å€¼ï¼Œæ²¡æœ‰ä½¿ç”¨å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ã€‚åªæœ‰å½“å‡½æ•°fooçš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå˜é‡xå’Œyæ‰ä¼šé€šè¿‡è§£æ„èµ‹å€¼ç”Ÿæˆã€‚å¦‚æœå‡½æ•°fooè°ƒç”¨æ—¶æ²¡æä¾›å‚æ•°ï¼Œå˜é‡xå’Œyå°±ä¸ä¼šç”Ÿæˆï¼Œä»è€ŒæŠ¥é”™ã€‚é€šè¿‡æä¾›å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±å¯ä»¥é¿å…è¿™ç§æƒ…å†µã€‚ 12345function foo({x, y = 5} = {}) { console.log(x, y);}foo() // undefined 5 ä¸Šé¢ä»£ç æŒ‡å®šï¼Œå¦‚æœæ²¡æœ‰æä¾›å‚æ•°ï¼Œå‡½æ•°fooçš„å‚æ•°é»˜è®¤ä¸ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚ ä¸‹é¢æ˜¯å¦ä¸€ä¸ªè§£æ„èµ‹å€¼é»˜è®¤å€¼çš„ä¾‹å­ã€‚ 123456789function fetch(url, { body = '', method = 'GET', headers = {} }) { console.log(method);}fetch('http://example.com', {})// &quot;GET&quot;fetch('http://example.com')// æŠ¥é”™ ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœå‡½æ•°fetchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å¯ä»¥ä¸ºå®ƒçš„ä¸‰ä¸ªå±æ€§è®¾ç½®é»˜è®¤å€¼ã€‚è¿™ç§å†™æ³•ä¸èƒ½çœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦‚æœç»“åˆå‡½æ•°å‚æ•°çš„é»˜è®¤å€¼ï¼Œå°±å¯ä»¥çœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚è¿™æ—¶ï¼Œå°±å‡ºç°äº†åŒé‡é»˜è®¤å€¼ã€‚ 123456function fetch(url, { body = '', method = 'GET', headers = {} } = {}) { console.log(method);}fetch('http://example.com')// &quot;GET&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fetchæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œå‡½æ•°å‚æ•°çš„é»˜è®¤å€¼å°±ä¼šç”Ÿæ•ˆï¼Œç„¶åæ‰æ˜¯è§£æ„èµ‹å€¼çš„é»˜è®¤å€¼ç”Ÿæ•ˆï¼Œå˜é‡methodæ‰ä¼šå–åˆ°é»˜è®¤å€¼GETã€‚ å‚æ•°é»˜è®¤å€¼çš„ä½ç½®é€šå¸¸æƒ…å†µä¸‹ï¼Œå®šä¹‰äº†é»˜è®¤å€¼çš„å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°ã€‚å› ä¸ºè¿™æ ·æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºæ¥ï¼Œåˆ°åº•çœç•¥äº†å“ªäº›å‚æ•°ã€‚å¦‚æœéå°¾éƒ¨çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå®é™…ä¸Šè¿™ä¸ªå‚æ•°æ˜¯æ²¡æ³•çœç•¥çš„ã€‚ 12345678910111213141516171819// ä¾‹ä¸€function f(x = 1, y) { return [x, y];}f() // [1, undefined]f(2) // [2, undefined]f(, 1) // æŠ¥é”™f(undefined, 1) // [1, 1]// ä¾‹äºŒfunction f(x, y = 5, z) { return [x, y, z];}f() // [undefined, 5, undefined]f(1) // [1, 5, undefined]f(1, ,2) // æŠ¥é”™f(1, undefined, 2) // [1, 5, 2] ä¸Šé¢ä»£ç ä¸­ï¼Œæœ‰é»˜è®¤å€¼çš„å‚æ•°éƒ½ä¸æ˜¯å°¾å‚æ•°ã€‚è¿™æ—¶ï¼Œæ— æ³•åªçœç•¥è¯¥å‚æ•°ï¼Œè€Œä¸çœç•¥å®ƒåé¢çš„å‚æ•°ï¼Œé™¤éæ˜¾å¼è¾“å…¥undefinedã€‚ å¦‚æœä¼ å…¥undefinedï¼Œå°†è§¦å‘è¯¥å‚æ•°ç­‰äºé»˜è®¤å€¼ï¼Œnullåˆ™æ²¡æœ‰è¿™ä¸ªæ•ˆæœã€‚ 123456function foo(x = 5, y = 6) { console.log(x, y);}foo(undefined, null)// 5 null ä¸Šé¢ä»£ç ä¸­ï¼Œxå‚æ•°å¯¹åº”undefinedï¼Œç»“æœè§¦å‘äº†é»˜è®¤å€¼ï¼Œyå‚æ•°ç­‰äºnullï¼Œå°±æ²¡æœ‰è§¦å‘é»˜è®¤å€¼ã€‚ 2.ä½œç”¨åŸŸä¸€æ—¦è®¾ç½®äº†å‚æ•°çš„é»˜è®¤å€¼ï¼Œå‡½æ•°è¿›è¡Œå£°æ˜åˆå§‹åŒ–æ—¶ï¼Œå‚æ•°ä¼šå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸï¼ˆcontextï¼‰ã€‚ç­‰åˆ°åˆå§‹åŒ–ç»“æŸï¼Œè¿™ä¸ªä½œç”¨åŸŸå°±ä¼šæ¶ˆå¤±ã€‚è¿™ç§è¯­æ³•è¡Œä¸ºï¼Œåœ¨ä¸è®¾ç½®å‚æ•°é»˜è®¤å€¼æ—¶ï¼Œæ˜¯ä¸ä¼šå‡ºç°çš„ã€‚ 1234567var x = 1;function f(x, y = x) { console.log(y);}f(2) // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°yçš„é»˜è®¤å€¼ç­‰äºå˜é‡xã€‚è°ƒç”¨å‡½æ•°fæ—¶ï¼Œå‚æ•°å½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸã€‚åœ¨è¿™ä¸ªä½œç”¨åŸŸé‡Œé¢ï¼Œé»˜è®¤å€¼å˜é‡xæŒ‡å‘ç¬¬ä¸€ä¸ªå‚æ•°xï¼Œè€Œä¸æ˜¯å…¨å±€å˜é‡xï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯2ã€‚ å†çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ 12345678let x = 1;function f(y = x) { let x = 2; console.log(y);}f() // 1 ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fè°ƒç”¨æ—¶ï¼Œå‚æ•°y = xå½¢æˆä¸€ä¸ªå•ç‹¬çš„ä½œç”¨åŸŸã€‚è¿™ä¸ªä½œç”¨åŸŸé‡Œé¢ï¼Œå˜é‡xæœ¬èº«æ²¡æœ‰å®šä¹‰ï¼Œæ‰€ä»¥æŒ‡å‘å¤–å±‚çš„å…¨å±€å˜é‡xã€‚å‡½æ•°è°ƒç”¨æ—¶ï¼Œå‡½æ•°ä½“å†…éƒ¨çš„å±€éƒ¨å˜é‡xå½±å“ä¸åˆ°é»˜è®¤å€¼å˜é‡xã€‚ å¦‚æœæ­¤æ—¶ï¼Œå…¨å±€å˜é‡xä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚ 123456function f(y = x) { let x = 2; console.log(y);}f() // ReferenceError: x is not defined ä¸‹é¢è¿™æ ·å†™ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚ 1234567var x = 1;function foo(x = x) { // ...}foo() // ReferenceError: Cannot access 'x' before initialization ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°x = xå½¢æˆä¸€ä¸ªå•ç‹¬ä½œç”¨åŸŸã€‚å®é™…æ‰§è¡Œçš„æ˜¯let x = xï¼Œç”±äºæš‚æ—¶æ€§æ­»åŒºçš„åŸå› ï¼Œè¿™è¡Œä»£ç ä¼šæŠ¥é”™ã€‚ 3.restå‚æ•°ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸º...å˜é‡åï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚ 1234567function fn(x,...args){ for(const item of args) { console.log(item) }}fn(1,2,3,4) // 2, 3, 4 argumentså¯¹è±¡ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€ä»¥ä¸ºäº†ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨Array.fromå…ˆå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚rest å‚æ•°å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚ æ³¨æ„ï¼šå¦‚æœæŒ‡å®šäº†restå‚æ•°ï¼Œé‚£ä¹ˆå®ƒåé¢å°±ä¸èƒ½è·Ÿå…¶ä»–çš„å‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ 4.ä¸¥æ ¼æ¨¡å¼ä» ES5 å¼€å§‹ï¼Œå‡½æ•°å†…éƒ¨å¯ä»¥è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ã€‚ 1234function doSomething(a, b) { 'use strict'; // code} ES2016 åšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œè§„å®šåªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æ„èµ‹å€¼ã€æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°å†…éƒ¨å°±ä¸èƒ½æ˜¾å¼è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12345678910111213141516171819202122232425// æŠ¥é”™function doSomething(a, b = a) { 'use strict'; // code}// æŠ¥é”™const doSomething = function ({a, b}) { 'use strict'; // code};// æŠ¥é”™const doSomething = (...a) =&gt; { 'use strict'; // code};const obj = { // æŠ¥é”™ doSomething({a, b}) { 'use strict'; // code }}; è¿™æ ·è§„å®šçš„åŸå› æ˜¯ï¼Œå‡½æ•°å†…éƒ¨çš„ä¸¥æ ¼æ¨¡å¼ï¼ŒåŒæ—¶é€‚ç”¨äºå‡½æ•°ä½“å’Œå‡½æ•°å‚æ•°ã€‚ä½†æ˜¯ï¼Œå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œå‡½æ•°å‚æ•°ï¼Œç„¶åå†æ‰§è¡Œå‡½æ•°ä½“ã€‚è¿™æ ·å°±æœ‰ä¸€ä¸ªä¸åˆç†çš„åœ°æ–¹ï¼Œåªæœ‰ä»å‡½æ•°ä½“ä¹‹ä¸­ï¼Œæ‰èƒ½çŸ¥é“å‚æ•°æ˜¯å¦åº”è¯¥ä»¥ä¸¥æ ¼æ¨¡å¼æ‰§è¡Œï¼Œä½†æ˜¯å‚æ•°å´åº”è¯¥å…ˆäºå‡½æ•°ä½“æ‰§è¡Œã€‚ 12345// æŠ¥é”™function doSomething(value = 070) { 'use strict'; return value;} 5.nameå±æ€§å‡½æ•°çš„nameå±æ€§ï¼Œè¿”å›è¯¥å‡½æ•°çš„å‡½æ•°å å‡½æ•°çš„nameå±æ€§ï¼Œè¿”å›è¯¥å‡½æ•°çš„å‡½æ•°åã€‚ 12function foo() {}foo.name // &quot;foo&quot; è¿™ä¸ªå±æ€§æ—©å°±è¢«æµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œä½†æ˜¯ç›´åˆ° ES6ï¼Œæ‰å°†å…¶å†™å…¥äº†æ ‡å‡†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒES6 å¯¹è¿™ä¸ªå±æ€§çš„è¡Œä¸ºåšå‡ºäº†ä¸€äº›ä¿®æ”¹ã€‚å¦‚æœå°†ä¸€ä¸ªåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼ŒES5 çš„nameå±æ€§ï¼Œä¼šè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œè€Œ ES6 çš„nameå±æ€§ä¼šè¿”å›å®é™…çš„å‡½æ•°åã€‚ 1234567var f = function () {};// ES5f.name // &quot;&quot;// ES6f.name // &quot;f&quot; å¦‚æœå°†ä¸€ä¸ªå…·åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™ ES5 å’Œ ES6 çš„nameå±æ€§éƒ½è¿”å›è¿™ä¸ªå…·åå‡½æ•°åŸæœ¬çš„åå­—ã€‚ 1234567const bar = function baz() {};// ES5bar.name // &quot;baz&quot;// ES6bar.name // &quot;baz&quot; Functionæ„é€ å‡½æ•°è¿”å›çš„å‡½æ•°å®ä¾‹ï¼Œnameå±æ€§çš„å€¼ä¸ºanonymousã€‚ 1(new Function).name // &quot;anonymous&quot; bindè¿”å›çš„å‡½æ•°ï¼Œnameå±æ€§å€¼ä¼šåŠ ä¸Šboundå‰ç¼€ã€‚ 1234function foo() {};foo.bind({}).name // &quot;bound foo&quot;(function(){}).bind({}).name // &quot;bound &quot; 6.ç®­å¤´å‡½æ•°ES6 å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°ã€‚ 123456var f = v =&gt; v;// ç­‰åŒäºvar f = function (v) { return v;}; å¦‚æœç®­å¤´å‡½æ•°ä¸éœ€è¦å‚æ•°æˆ–éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†ã€‚ 123456789var f = () =&gt; 5;// ç­‰åŒäºvar f = function () { return 5 };var sum = (num1, num2) =&gt; num1 + num2;// ç­‰åŒäºvar sum = function(num1, num2) { return num1 + num2;}; å¦‚æœç®­å¤´å‡½æ•°çš„ä»£ç å—éƒ¨åˆ†å¤šäºä¸€æ¡è¯­å¥ï¼Œå°±è¦ä½¿ç”¨å¤§æ‹¬å·å°†å®ƒä»¬æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨returnè¯­å¥è¿”å›ã€‚ 1var sum = (num1, num2) =&gt; { return num1 + num2; } ç”±äºå¤§æ‹¬å·è¢«è§£é‡Šä¸ºä»£ç å—ï¼Œæ‰€ä»¥å¦‚æœç®­å¤´å‡½æ•°ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šæ‹¬å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12345// æŠ¥é”™let getTempItem = id =&gt; { id: id, name: &quot;Temp&quot; };// ä¸æŠ¥é”™let getTempItem = id =&gt; ({ id: id, name: &quot;Temp&quot; }); ä¸‹é¢æ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œè™½ç„¶å¯ä»¥è¿è¡Œï¼Œä½†ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚ 12let foo = () =&gt; { a: 1 };foo() // undefined ä¸Šé¢ä»£ç ä¸­ï¼ŒåŸå§‹æ„å›¾æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡{ a: 1 }ï¼Œä½†æ˜¯ç”±äºå¼•æ“è®¤ä¸ºå¤§æ‹¬å·æ˜¯ä»£ç å—ï¼Œæ‰€ä»¥æ‰§è¡Œäº†ä¸€è¡Œè¯­å¥a: 1ã€‚è¿™æ—¶ï¼Œaå¯ä»¥è¢«è§£é‡Šä¸ºè¯­å¥çš„æ ‡ç­¾ï¼Œå› æ­¤å®é™…æ‰§è¡Œçš„è¯­å¥æ˜¯1;ï¼Œç„¶åå‡½æ•°å°±ç»“æŸäº†ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ å¦‚æœç®­å¤´å‡½æ•°åªæœ‰ä¸€è¡Œè¯­å¥ï¼Œä¸”ä¸éœ€è¦è¿”å›å€¼ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ï¼Œå°±ä¸ç”¨å†™å¤§æ‹¬å·äº†ã€‚ 1let fn = () =&gt; void doesNotReturn(); ç®­å¤´å‡½æ•°å¯ä»¥ä¸å˜é‡è§£æ„ç»“åˆä½¿ç”¨ã€‚ 123456const full = ({ first, last }) =&gt; first + ' ' + last;// ç­‰åŒäºfunction full(person) { return person.first + ' ' + person.last;} ç®­å¤´å‡½æ•°ä½¿å¾—è¡¨è¾¾æ›´åŠ ç®€æ´ã€‚ 12const isEven = n =&gt; n % 2 === 0;const square = n =&gt; n * n; ä¸Šé¢ä»£ç åªç”¨äº†ä¸¤è¡Œï¼Œå°±å®šä¹‰äº†ä¸¤ä¸ªç®€å•çš„å·¥å…·å‡½æ•°ã€‚å¦‚æœä¸ç”¨ç®­å¤´å‡½æ•°ï¼Œå¯èƒ½å°±è¦å ç”¨å¤šè¡Œï¼Œè€Œä¸”è¿˜ä¸å¦‚ç°åœ¨è¿™æ ·å†™é†’ç›®ã€‚ ç®­å¤´å‡½æ•°çš„ä¸€ä¸ªç”¨å¤„æ˜¯ç®€åŒ–å›è°ƒå‡½æ•°ã€‚ 1234567// æ™®é€šå‡½æ•°å†™æ³•[1,2,3].map(function (x) { return x * x;});// ç®­å¤´å‡½æ•°å†™æ³•[1,2,3].map(x =&gt; x * x); å¦ä¸€ä¸ªä¾‹å­æ˜¯ 1234567// æ™®é€šå‡½æ•°å†™æ³•var result = values.sort(function (a, b) { return a - b;});// ç®­å¤´å‡½æ•°å†™æ³•var result = values.sort((a, b) =&gt; a - b); ä¸‹é¢æ˜¯ rest å‚æ•°ä¸ç®­å¤´å‡½æ•°ç»“åˆçš„ä¾‹å­ã€‚ 123456789const numbers = (...nums) =&gt; nums;numbers(1, 2, 3, 4, 5)// [1,2,3,4,5]const headAndTail = (head, ...tail) =&gt; [head, tail];headAndTail(1, 2, 3, 4, 5)// [1,[2,3,4,5]] æ³¨æ„ç‚¹ ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thiså¯¹è±¡ ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•° ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚ ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚ æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œæ™®é€šå‡½æ•°thisæ˜¯æŒ‡å‘å‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå†…éƒ¨çš„thiså°±æ˜¯å®šä¹‰æ—¶ä¸Šå±‚ä½œç”¨åŸŸçš„thisï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘æ˜¯å›ºå®šçš„ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæ™®é€šå‡½æ•°çš„thisæŒ‡å‘æ˜¯å¯å˜çš„ã€‚ 12345678910function foo() { setTimeout(() =&gt; { console.log('id:', this.id); }, 100);}var id = 21;foo.call({ id: 42 });// id: 42 ä¸Šé¢ä»£ç ä¸­ï¼ŒsetTimeout()çš„å‚æ•°æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªç®­å¤´å‡½æ•°çš„å®šä¹‰ç”Ÿæ•ˆæ˜¯åœ¨fooå‡½æ•°ç”Ÿæˆæ—¶ï¼Œè€Œå®ƒçš„çœŸæ­£æ‰§è¡Œè¦ç­‰åˆ° 100 æ¯«ç§’åã€‚å¦‚æœæ˜¯æ™®é€šå‡½æ•°ï¼Œæ‰§è¡Œæ—¶thisåº”è¯¥æŒ‡å‘å…¨å±€å¯¹è±¡windowï¼Œè¿™æ—¶åº”è¯¥è¾“å‡º21ã€‚ä½†æ˜¯ï¼Œç®­å¤´å‡½æ•°å¯¼è‡´thisæ€»æ˜¯æŒ‡å‘å‡½æ•°å®šä¹‰ç”Ÿæ•ˆæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼ˆæœ¬ä¾‹æ˜¯{id: 42}ï¼‰ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„æ˜¯42ã€‚ ä¸‹é¢ä¾‹å­æ˜¯å›è°ƒå‡½æ•°åˆ†åˆ«ä¸ºç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°ï¼Œå¯¹æ¯”å®ƒä»¬å†…éƒ¨çš„thisæŒ‡å‘ã€‚ 1234567891011121314151617function Timer() { this.s1 = 0; this.s2 = 0; // ç®­å¤´å‡½æ•° setInterval(() =&gt; this.s1++, 1000); // æ™®é€šå‡½æ•° setInterval(function () { this.s2++; }, 1000);}var timer = new Timer();setTimeout(() =&gt; console.log('s1: ', timer.s1), 3100);setTimeout(() =&gt; console.log('s2: ', timer.s2), 3100);// s1: 3// s2: 0 ä¸Šé¢ä»£ç ä¸­ï¼ŒTimerå‡½æ•°å†…éƒ¨è®¾ç½®äº†ä¸¤ä¸ªå®šæ—¶å™¨ï¼Œåˆ†åˆ«ä½¿ç”¨äº†ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°ã€‚å‰è€…çš„thisç»‘å®šå®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼ˆå³Timerå‡½æ•°ï¼‰ï¼Œåè€…çš„thisæŒ‡å‘è¿è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼ˆå³å…¨å±€å¯¹è±¡ï¼‰ã€‚æ‰€ä»¥ï¼Œ3100 æ¯«ç§’ä¹‹åï¼Œtimer.s1è¢«æ›´æ–°äº† 3 æ¬¡ï¼Œè€Œtimer.s2ä¸€æ¬¡éƒ½æ²¡æ›´æ–°ã€‚ ç®­å¤´å‡½æ•°å®é™…ä¸Šå¯ä»¥è®©thisæŒ‡å‘å›ºå®šåŒ–ï¼Œç»‘å®šthisä½¿å¾—å®ƒä¸å†å¯å˜ï¼Œè¿™ç§ç‰¹æ€§å¾ˆæœ‰åˆ©äºå°è£…å›è°ƒå‡½æ•°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼ŒDOM äº‹ä»¶çš„å›è°ƒå‡½æ•°å°è£…åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢ã€‚ 123456789101112var handler = { id: '123456', init: function() { document.addEventListener('click', event =&gt; this.doSomething(event.type), false); }, doSomething: function(type) { console.log('Handling ' + type + ' for ' + this.id); }}; ä¸Šé¢ä»£ç çš„init()æ–¹æ³•ä¸­ï¼Œä½¿ç”¨äº†ç®­å¤´å‡½æ•°ï¼Œè¿™å¯¼è‡´è¿™ä¸ªç®­å¤´å‡½æ•°é‡Œé¢çš„thisï¼Œæ€»æ˜¯æŒ‡å‘handlerå¯¹è±¡ã€‚å¦‚æœå›è°ƒå‡½æ•°æ˜¯æ™®é€šå‡½æ•°ï¼Œé‚£ä¹ˆè¿è¡Œthis.doSomething()è¿™ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºæ­¤æ—¶thisæŒ‡å‘documentå¯¹è±¡ã€‚ æ€»ä¹‹ï¼Œç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚æ­£æ˜¯å› ä¸ºå®ƒæ²¡æœ‰thisï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚ ä¸‹é¢æ˜¯ Babel è½¬ç®­å¤´å‡½æ•°äº§ç”Ÿçš„ ES5 ä»£ç ï¼Œå°±èƒ½æ¸…æ¥šåœ°è¯´æ˜thisçš„æŒ‡å‘ã€‚ 123456789101112131415// ES6function foo() { setTimeout(() =&gt; { console.log('id:', this.id); }, 100);}// ES5function foo() { var _this = this; setTimeout(function () { console.log('id:', _this.id); }, 100);} ä¸Šé¢ä»£ç ä¸­ï¼Œè½¬æ¢åçš„ ES5 ç‰ˆæœ¬æ¸…æ¥šåœ°è¯´æ˜äº†ï¼Œç®­å¤´å‡½æ•°é‡Œé¢æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œè€Œæ˜¯å¼•ç”¨å¤–å±‚çš„thisã€‚ è¯·é—®ä¸‹é¢çš„ä»£ç ä¹‹ä¸­ï¼Œthisçš„æŒ‡å‘æœ‰å‡ ä¸ªï¼Ÿ 123456789101112131415function foo() { return () =&gt; { return () =&gt; { return () =&gt; { console.log('id:', this.id); }; }; };}var f = foo.call({id: 1});var t1 = f.call({id: 2})()(); // id: 1var t2 = f().call({id: 3})(); // id: 1var t3 = f()().call({id: 4}); // id: 1 ç­”æ¡ˆæ˜¯thisçš„æŒ‡å‘åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯å‡½æ•°fooçš„thisï¼Œè¿™æ˜¯å› ä¸ºæ‰€æœ‰çš„å†…å±‚å‡½æ•°éƒ½æ˜¯ç®­å¤´å‡½æ•°ï¼Œéƒ½æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä»¬çš„thiså…¶å®éƒ½æ˜¯æœ€å¤–å±‚fooå‡½æ•°çš„thisã€‚æ‰€ä»¥ä¸ç®¡æ€ä¹ˆåµŒå¥—ï¼Œt1ã€t2ã€t3éƒ½è¾“å‡ºåŒæ ·çš„ç»“æœã€‚å¦‚æœè¿™ä¸ªä¾‹å­çš„æ‰€æœ‰å†…å±‚å‡½æ•°éƒ½å†™æˆæ™®é€šå‡½æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªå‡½æ•°çš„thiséƒ½æŒ‡å‘è¿è¡Œæ—¶æ‰€åœ¨çš„ä¸åŒå¯¹è±¡ã€‚ é™¤äº†thisï¼Œä»¥ä¸‹ä¸‰ä¸ªå˜é‡åœ¨ç®­å¤´å‡½æ•°ä¹‹ä¸­ä¹Ÿæ˜¯ä¸å­˜åœ¨çš„ï¼ŒæŒ‡å‘å¤–å±‚å‡½æ•°çš„å¯¹åº”å˜é‡ï¼šargumentsã€superã€new.targetã€‚ 12345678function foo() { setTimeout(() =&gt; { console.log('args:', arguments); }, 100);}foo(2, 4, 6, 8)// args: [2, 4, 6, 8] ä¸Šé¢ä»£ç ä¸­ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„å˜é‡argumentsï¼Œå…¶å®æ˜¯å‡½æ•°fooçš„argumentså˜é‡ã€‚ å¦å¤–ï¼Œç”±äºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œæ‰€ä»¥å½“ç„¶ä¹Ÿå°±ä¸èƒ½ç”¨call()ã€apply()ã€bind()è¿™äº›æ–¹æ³•å»æ”¹å˜thisçš„æŒ‡å‘ã€‚ 123456(function() { return [ (() =&gt; this.x).bind({ x: 'inner' })() ];}).call({ x: 'outer' });// ['outer'] ä¸Šé¢ä»£ç ä¸­ï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œæ‰€ä»¥bindæ–¹æ³•æ— æ•ˆï¼Œå†…éƒ¨çš„thisæŒ‡å‘å¤–éƒ¨çš„thisã€‚ é•¿æœŸä»¥æ¥ï¼ŒJavaScript è¯­è¨€çš„thiså¯¹è±¡ä¸€ç›´æ˜¯ä¸€ä¸ªä»¤äººå¤´ç—›çš„é—®é¢˜ï¼Œåœ¨å¯¹è±¡æ–¹æ³•ä¸­ä½¿ç”¨thisï¼Œå¿…é¡»éå¸¸å°å¿ƒã€‚ç®­å¤´å‡½æ•°â€ç»‘å®šâ€thisï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šè§£å†³äº†è¿™ä¸ªå›°æ‰°ã€‚ 7.å°¾è°ƒç”¨ä¼˜åŒ–ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨å°¾è°ƒç”¨ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå°±æ˜¯æŒ‡æŸä¸ªå‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•° 123function f(x){ return g(x);} ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fçš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å‡½æ•°gï¼Œè¿™å°±å«å°¾è°ƒç”¨ã€‚ ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼Œéƒ½ä¸å±äºå°¾è°ƒç”¨ã€‚ 123456789101112131415// æƒ…å†µä¸€function f(x){ let y = g(x); return y;}// æƒ…å†µäºŒfunction f(x){ return g(x) + 1;}// æƒ…å†µä¸‰function f(x){ g(x);} ä¸Šé¢ä»£ç ä¸­ï¼Œæƒ…å†µä¸€æ˜¯è°ƒç”¨å‡½æ•°gä¹‹åï¼Œè¿˜æœ‰èµ‹å€¼æ“ä½œï¼Œæ‰€ä»¥ä¸å±äºå°¾è°ƒç”¨ï¼Œå³ä½¿è¯­ä¹‰å®Œå…¨ä¸€æ ·ã€‚æƒ…å†µäºŒä¹Ÿå±äºè°ƒç”¨åè¿˜æœ‰æ“ä½œï¼Œå³ä½¿å†™åœ¨ä¸€è¡Œå†…ã€‚æƒ…å†µä¸‰ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚ 1234function f(x){ g(x); return undefined;} å°¾è°ƒç”¨ä¸ä¸€å®šå‡ºç°åœ¨å‡½æ•°å°¾éƒ¨ï¼Œåªè¦æ˜¯æœ€åä¸€æ­¥æ“ä½œå³å¯ã€‚ 123456function f(x) { if (x &gt; 0) { return m(x) } return n(x);} ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°må’Œnéƒ½å±äºå°¾è°ƒç”¨ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯å‡½æ•°fçš„æœ€åä¸€æ­¥æ“ä½œã€‚ å°¾è°ƒç”¨ä¼˜åŒ–å°¾è°ƒç”¨ä¹‹æ‰€ä»¥ä¸å…¶ä»–è°ƒç”¨ä¸åŒï¼Œå°±åœ¨äºå®ƒçš„ç‰¹æ®Šçš„è°ƒç”¨ä½ç½®ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨è®°å½•â€ï¼Œåˆç§°â€œè°ƒç”¨å¸§â€ï¼ˆcall frameï¼‰ï¼Œä¿å­˜è°ƒç”¨ä½ç½®å’Œå†…éƒ¨å˜é‡ç­‰ä¿¡æ¯ã€‚å¦‚æœåœ¨å‡½æ•°Açš„å†…éƒ¨è°ƒç”¨å‡½æ•°Bï¼Œé‚£ä¹ˆåœ¨Açš„è°ƒç”¨å¸§ä¸Šæ–¹ï¼Œè¿˜ä¼šå½¢æˆä¸€ä¸ªBçš„è°ƒç”¨å¸§ã€‚ç­‰åˆ°Bè¿è¡Œç»“æŸï¼Œå°†ç»“æœè¿”å›åˆ°Aï¼ŒBçš„è°ƒç”¨å¸§æ‰ä¼šæ¶ˆå¤±ã€‚å¦‚æœå‡½æ•°Bå†…éƒ¨è¿˜è°ƒç”¨å‡½æ•°Cï¼Œé‚£å°±è¿˜æœ‰ä¸€ä¸ªCçš„è°ƒç”¨å¸§ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€æœ‰çš„è°ƒç”¨å¸§ï¼Œå°±å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ï¼ˆcall stackï¼‰ã€‚ å°¾è°ƒç”¨ç”±äºæ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿ç•™å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå› ä¸ºè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œåªè¦ç›´æ¥ç”¨å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§å°±å¯ä»¥äº†ã€‚ 123456789101112131415function f() { let m = 1; let n = 2; return g(m + n);}f();// ç­‰åŒäºfunction f() { return g(3);}f();// ç­‰åŒäºg(3); ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœå‡½æ•°gä¸æ˜¯å°¾è°ƒç”¨ï¼Œå‡½æ•°få°±éœ€è¦ä¿å­˜å†…éƒ¨å˜é‡må’Œnçš„å€¼ã€gçš„è°ƒç”¨ä½ç½®ç­‰ä¿¡æ¯ã€‚ä½†ç”±äºè°ƒç”¨gä¹‹åï¼Œå‡½æ•°få°±ç»“æŸäº†ï¼Œæ‰€ä»¥æ‰§è¡Œåˆ°æœ€åä¸€æ­¥ï¼Œå®Œå…¨å¯ä»¥åˆ é™¤f(x)çš„è°ƒç”¨å¸§ï¼Œåªä¿ç•™g(3)çš„è°ƒç”¨å¸§ã€‚ è¿™å°±å«åšâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼ˆTail call optimizationï¼‰ï¼Œå³åªä¿ç•™å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ã€‚å¦‚æœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥åšåˆ°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å¸§åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚è¿™å°±æ˜¯â€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„æ„ä¹‰ã€‚ æ³¨æ„ï¼Œåªæœ‰ä¸å†ç”¨åˆ°å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§æ‰ä¼šå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå¦åˆ™å°±æ— æ³•è¿›è¡Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚ 1234567function addOne(a){ var one = 1; function inner(b){ return b + one; } return inner(a);} ä¸Šé¢çš„å‡½æ•°ä¸ä¼šè¿›è¡Œå°¾è°ƒç”¨ä¼˜åŒ–ï¼Œå› ä¸ºå†…å±‚å‡½æ•°innerç”¨åˆ°äº†å¤–å±‚å‡½æ•°addOneçš„å†…éƒ¨å˜é‡oneã€‚ æ³¨æ„ï¼Œç›®å‰åªæœ‰ Safari æµè§ˆå™¨æ”¯æŒå°¾è°ƒç”¨ä¼˜åŒ–ï¼ŒChrome å’Œ Firefox éƒ½ä¸æ”¯æŒã€‚ å°¾é€’å½’å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚ é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆstack overflowï¼‰ã€‚ä½†å¯¹äºå°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚ 123456function factorial(n) { if (n === 1) return 1; return n * factorial(n - 1);}factorial(5) // 120 ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°ï¼Œè®¡ç®—nçš„é˜¶ä¹˜ï¼Œæœ€å¤šéœ€è¦ä¿å­˜nä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(n) ã€‚ å¦‚æœæ”¹å†™æˆå°¾é€’å½’ï¼Œåªä¿ç•™ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(1) ã€‚ 123456function factorial(n, total) { if (n === 1) return total; return factorial(n - 1, n * total);}factorial(5, 1) // 120 è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒè‘—åçš„ä¾‹å­ï¼Œå°±æ˜¯è®¡ç®— Fibonacci æ•°åˆ—ï¼Œä¹Ÿèƒ½å……åˆ†è¯´æ˜å°¾é€’å½’ä¼˜åŒ–çš„é‡è¦æ€§ã€‚ éå°¾é€’å½’çš„ Fibonacci æ•°åˆ—å®ç°å¦‚ä¸‹ã€‚ 123456789function Fibonacci (n) { if ( n &lt;= 1 ) {return 1}; return Fibonacci(n - 1) + Fibonacci(n - 2);}Fibonacci(10) // 89Fibonacci(100) // è¶…æ—¶Fibonacci(500) // è¶…æ—¶ å°¾é€’å½’ä¼˜åŒ–è¿‡çš„ Fibonacci æ•°åˆ—å®ç°å¦‚ä¸‹ã€‚ 123456789function Fibonacci2 (n , ac1 = 1 , ac2 = 1) { if( n &lt;= 1 ) {return ac2}; return Fibonacci2 (n - 1, ac2, ac1 + ac2);}Fibonacci2(100) // 573147844013817200000Fibonacci2(1000) // 7.0330367711422765e+208Fibonacci2(10000) // Infinity ç”±æ­¤å¯è§ï¼Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€å¯¹é€’å½’æ“ä½œæ„ä¹‰é‡å¤§ï¼Œæ‰€ä»¥ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å°†å…¶å†™å…¥äº†è¯­è¨€è§„æ ¼ã€‚ES6 äº¦æ˜¯å¦‚æ­¤ï¼Œç¬¬ä¸€æ¬¡æ˜ç¡®è§„å®šï¼Œæ‰€æœ‰ ECMAScript çš„å®ç°ï¼Œéƒ½å¿…é¡»éƒ¨ç½²â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚è¿™å°±æ˜¯è¯´ï¼ŒES6 ä¸­åªè¦ä½¿ç”¨å°¾é€’å½’ï¼Œå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼ˆæˆ–è€…å±‚å±‚é€’å½’é€ æˆçš„è¶…æ—¶ï¼‰ï¼Œç›¸å¯¹èŠ‚çœå†…å­˜ã€‚ é€’å½’å‡½æ•°çš„æ”¹å†™å°¾é€’å½’çš„å®ç°ï¼Œå¾€å¾€éœ€è¦æ”¹å†™é€’å½’å‡½æ•°ï¼Œç¡®ä¿æœ€åä¸€æ­¥åªè°ƒç”¨è‡ªèº«ã€‚åšåˆ°è¿™ä¸€ç‚¹çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰ç”¨åˆ°çš„å†…éƒ¨å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œé˜¶ä¹˜å‡½æ•° factorial éœ€è¦ç”¨åˆ°ä¸€ä¸ªä¸­é—´å˜é‡totalï¼Œé‚£å°±æŠŠè¿™ä¸ªä¸­é—´å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ã€‚è¿™æ ·åšçš„ç¼ºç‚¹å°±æ˜¯ä¸å¤ªç›´è§‚ï¼Œç¬¬ä¸€çœ¼å¾ˆéš¾çœ‹å‡ºæ¥ï¼Œä¸ºä»€ä¹ˆè®¡ç®—5çš„é˜¶ä¹˜ï¼Œéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°5å’Œ1ï¼Ÿ ä¸¤ä¸ªæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ–¹æ³•ä¸€æ˜¯åœ¨å°¾é€’å½’å‡½æ•°ä¹‹å¤–ï¼Œå†æä¾›ä¸€ä¸ªæ­£å¸¸å½¢å¼çš„å‡½æ•°ã€‚ 12345678910function tailFactorial(n, total) { if (n === 1) return total; return tailFactorial(n - 1, n * total);}function factorial(n) { return tailFactorial(n, 1);}factorial(5) // 120 ä¸Šé¢ä»£ç é€šè¿‡ä¸€ä¸ªæ­£å¸¸å½¢å¼çš„é˜¶ä¹˜å‡½æ•°factorialï¼Œè°ƒç”¨å°¾é€’å½’å‡½æ•°tailFactorialï¼Œçœ‹èµ·æ¥å°±æ­£å¸¸å¤šäº†ã€‚ å‡½æ•°å¼ç¼–ç¨‹æœ‰ä¸€ä¸ªæ¦‚å¿µï¼Œå«åšæŸ¯é‡ŒåŒ–ï¼ˆcurryingï¼‰ï¼Œæ„æ€æ˜¯å°†å¤šå‚æ•°çš„å‡½æ•°è½¬æ¢æˆå•å‚æ•°çš„å½¢å¼ã€‚è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æŸ¯é‡ŒåŒ–ã€‚ 1234567891011121314function currying(fn, n) { return function (m) { return fn.call(this, m, n); };}function tailFactorial(n, total) { if (n === 1) return total; return tailFactorial(n - 1, n * total);}const factorial = currying(tailFactorial, 1);factorial(5) // 120 ä¸Šé¢ä»£ç é€šè¿‡æŸ¯é‡ŒåŒ–ï¼Œå°†å°¾é€’å½’å‡½æ•°tailFactorialå˜ä¸ºåªæ¥å—ä¸€ä¸ªå‚æ•°çš„factorialã€‚ ç¬¬äºŒç§æ–¹æ³•å°±ç®€å•å¤šäº†ï¼Œå°±æ˜¯é‡‡ç”¨ ES6 çš„å‡½æ•°é»˜è®¤å€¼ã€‚ 123456function factorial(n, total = 1) { if (n === 1) return total; return factorial(n - 1, n * total);}factorial(5) // 120 ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°totalæœ‰é»˜è®¤å€¼1ï¼Œæ‰€ä»¥è°ƒç”¨æ—¶ä¸ç”¨æä¾›è¿™ä¸ªå€¼ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œé€’å½’æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¾ªç¯æ“ä½œã€‚çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€æ²¡æœ‰å¾ªç¯æ“ä½œå‘½ä»¤ï¼Œæ‰€æœ‰çš„å¾ªç¯éƒ½ç”¨é€’å½’å®ç°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå°¾é€’å½’å¯¹è¿™äº›è¯­è¨€æå…¶é‡è¦ã€‚å¯¹äºå…¶ä»–æ”¯æŒâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„è¯­è¨€ï¼ˆæ¯”å¦‚ Luaï¼ŒES6ï¼‰ï¼Œåªéœ€è¦çŸ¥é“å¾ªç¯å¯ä»¥ç”¨é€’å½’ä»£æ›¿ï¼Œè€Œä¸€æ—¦ä½¿ç”¨é€’å½’ï¼Œå°±æœ€å¥½ä½¿ç”¨å°¾é€’å½’ã€‚ 8.Function.prototype.toString()ES2019 å¯¹å‡½æ•°å®ä¾‹çš„toString()æ–¹æ³•åšå‡ºäº†ä¿®æ”¹ã€‚ toString()æ–¹æ³•è¿”å›å‡½æ•°ä»£ç æœ¬èº«ï¼Œä»¥å‰ä¼šçœç•¥æ³¨é‡Šå’Œç©ºæ ¼ã€‚ 1234function /* foo comment */ foo () {}foo.toString()// function foo() {} ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fooçš„åŸå§‹ä»£ç åŒ…å«æ³¨é‡Šï¼Œå‡½æ•°åfooå’Œåœ†æ‹¬å·ä¹‹é—´æœ‰ç©ºæ ¼ï¼Œä½†æ˜¯toString()æ–¹æ³•éƒ½æŠŠå®ƒä»¬çœç•¥äº†ã€‚ ä¿®æ”¹åçš„toString()æ–¹æ³•ï¼Œæ˜ç¡®è¦æ±‚è¿”å›ä¸€æ¨¡ä¸€æ ·çš„åŸå§‹ä»£ç ã€‚ 1234function /* foo comment */ foo () {}foo.toString()// &quot;function /* foo comment */ foo () {}&quot; 9.catch å‘½ä»¤çš„å‚æ•°çœç•¥JavaScript è¯­è¨€çš„try...catchç»“æ„ï¼Œä»¥å‰æ˜ç¡®è¦æ±‚catchå‘½ä»¤åé¢å¿…é¡»è·Ÿå‚æ•°ï¼Œæ¥å—tryä»£ç å—æŠ›å‡ºçš„é”™è¯¯å¯¹è±¡ã€‚ 12345try { // ...} catch (err) { // å¤„ç†é”™è¯¯} ä¸Šé¢ä»£ç ä¸­ï¼Œcatchå‘½ä»¤åé¢å¸¦æœ‰å‚æ•°errã€‚ å¾ˆå¤šæ—¶å€™ï¼Œcatchä»£ç å—å¯èƒ½ç”¨ä¸åˆ°è¿™ä¸ªå‚æ•°ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯è¯­æ³•æ­£ç¡®ï¼Œè¿˜æ˜¯å¿…é¡»å†™ã€‚ES2019 åšå‡ºäº†æ”¹å˜ï¼Œå…è®¸catchè¯­å¥çœç•¥å‚æ•°ã€‚ 12345try { // ...} catch { // ...}","link":"/JavaScript/14.%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"å‡½æ•°æŸ¯é‡ŒåŒ–","text":"æŸ¯é‡ŒåŒ–è¯´æŸ¯é‡ŒåŒ–ä¹‹å‰ï¼Œé¦–å…ˆæŠ›å‡ºä¸€ä¸ªç–‘é—®ï¼Œå¦‚ä½•å®ç°ä¸€ä¸ªaddå‡½æ•°ï¼Œä½¿å¾—è¿™ä¸ªaddå‡½æ•°å¯ä»¥çµæ´»è°ƒç”¨å’Œä¼ å‚ï¼Œæ”¯æŒä¸‹é¢çš„è°ƒç”¨ç¤ºä¾‹å‘¢ï¼Ÿ 123456add(1, 2, 3) // 6add(1) // 1add(1)(2) // 3add(1, 2)(3) // 6add(1)(2)(3) // 6add(1)(2)(3)(4) // 10 è¦è§£ç­”è¿™æ ·çš„ç–‘é—®ï¼Œè¿˜æ˜¯è¦å…ˆæ˜ç™½ä»€ä¹ˆæ˜¯æŸ¯é‡ŒåŒ–ã€‚ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°(æœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°)çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°ä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚ è¿™æ®µè§£é‡Šçœ‹ç€è¿˜æ˜¯æŒºæ‡µé€¼çš„ï¼Œä¸å¦‚ä¸¾ä¸ªä¾‹å­ï¼š æœ¬æ¥æœ‰è¿™ä¹ˆä¸€ä¸ªæ±‚å’Œå‡½æ•°dynamicAdd()ï¼Œæ¥å—ä»»æ„ä¸ªå‚æ•°ã€‚ 12345function dynamicAdd() { return [...arguments].reduce((prev, curr) =&gt; { return prev + curr }, 0)} ç°åœ¨éœ€è¦é€šè¿‡æŸ¯é‡ŒåŒ–æŠŠå®ƒå˜æˆä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°çš„å‡½æ•°é¢„ç½®äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è°ƒç”¨æ—¶ç»§ç»­ä¼ å…¥å‰©ä½™å‚æ•°ã€‚ çœ‹åˆ°è¿™ï¼Œæˆ‘è§‰å¾—æœ‰ç‚¹ä¼¼æ›¾ç›¸è¯†ï¼Œé¢„ç½®å‚æ•°çš„ç‰¹æ€§ä¸bindå¾ˆç›¸åƒã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸å¦‚ç”¨bindçš„æ€è·¯æ¥å®ç°ã€‚ 123456789function curry(fn, firstArg) { // è¿”å›ä¸€ä¸ªæ–°å‡½æ•° return function() { // æ–°å‡½æ•°è°ƒç”¨æ—¶ä¼šç»§ç»­ä¼ å‚ var restArgs = [].slice.call(arguments) // å‚æ•°åˆå¹¶ï¼Œé€šè¿‡applyè°ƒç”¨åŸå‡½æ•° return fn.apply(this, [firstArg, ...restArgs]) }} æ¥ç€æˆ‘ä»¬é€šè¿‡ä¸€äº›ä¾‹å­æ¥æ„Ÿå—ä¸€ä¸‹æŸ¯é‡ŒåŒ–ã€‚ 123456789// æŸ¯é‡ŒåŒ–ï¼Œé¢„ç½®å‚æ•°10var add10 = curry(dynamicAdd, 10)add10(5); // 15// æŸ¯é‡ŒåŒ–ï¼Œé¢„ç½®å‚æ•°20var add20 = curry(dynamicAdd, 20);add20(5); // 25// ä¹Ÿå¯ä»¥å¯¹ä¸€ä¸ªå·²ç»æŸ¯é‡ŒåŒ–çš„å‡½æ•°add10ç»§ç»­æŸ¯é‡ŒåŒ–ï¼Œæ­¤æ—¶é¢„ç½®å‚æ•°10å³å¯var anotherAdd20 = curry(add10, 10);anotherAdd20(5); // 25 å¯ä»¥å‘ç°ï¼ŒæŸ¯é‡ŒåŒ–æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°çš„åŸºç¡€ä¸Šè¿›è¡Œå˜æ¢ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„é¢„ç½®äº†å‚æ•°çš„å‡½æ•°ã€‚æœ€ååœ¨è°ƒç”¨æ–°å‡½æ•°æ—¶ï¼Œå®é™…ä¸Šè¿˜æ˜¯ä¼šè°ƒç”¨æŸ¯é‡ŒåŒ–å‰çš„åŸå‡½æ•°ã€‚ å¹¶ä¸”æŸ¯é‡ŒåŒ–å¾—åˆ°çš„æ–°å‡½æ•°å¯ä»¥ç»§ç»­è¢«æŸ¯é‡ŒåŒ–ï¼Œè¿™çœ‹èµ·æ¥æœ‰ç‚¹åƒä¿„ç½—æ–¯å¥—å¨ƒçš„æ„Ÿè§‰ã€‚ å®é™…ä½¿ç”¨æ—¶ä¹Ÿä¼šå‡ºç°æŸ¯é‡ŒåŒ–çš„å˜ä½“ï¼Œä¸å±€é™äºåªé¢„ç½®ä¸€ä¸ªå‚æ•°ã€‚ 1234567891011function curry(fn) { // ä¿å­˜é¢„ç½®å‚æ•° var presetArgs = [].slice.call(arguments, 1) // è¿”å›ä¸€ä¸ªæ–°å‡½æ•° return function() { // æ–°å‡½æ•°è°ƒç”¨æ—¶ä¼šç»§ç»­ä¼ å‚ var restArgs = [].slice.call(arguments) // å‚æ•°åˆå¹¶ï¼Œé€šè¿‡applyè°ƒç”¨åŸå‡½æ•° return fn.apply(this, [...presetArgs, ...restArgs]) }} å…¶å®Function.protoype.bindå°±æ˜¯ä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„å®ç°ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå¾ˆå¤šæµè¡Œçš„åº“éƒ½å¤§é‡ä½¿ç”¨äº†æŸ¯é‡ŒåŒ–çš„æ€æƒ³ã€‚ å®é™…åº”ç”¨ä¸­ï¼Œè¢«æŸ¯é‡ŒåŒ–çš„åŸå‡½æ•°çš„å‚æ•°å¯èƒ½æ˜¯å®šé•¿çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸å®šé•¿çš„ã€‚ å‚æ•°å®šé•¿çš„æŸ¯é‡ŒåŒ–å‡è®¾å­˜åœ¨ä¸€ä¸ªåŸå‡½æ•°fnï¼Œfnæ¥å—ä¸‰ä¸ªå‚æ•°a, b, cï¼Œé‚£ä¹ˆå‡½æ•°fnæœ€å¤šè¢«æŸ¯é‡ŒåŒ–ä¸‰æ¬¡ï¼ˆæœ‰æ•ˆåœ°ç»‘å®šå‚æ•°ç®—ä¸€æ¬¡ï¼‰ã€‚ 1234567891011function fn(a, b, c) { return a + b + c}var c1 = curry(fn, 1);var c2 = curry(c1, 2);var c3 = curry(c2, 3);c3(); // 6// å†æ¬¡æŸ¯é‡ŒåŒ–ä¹Ÿæ²¡æœ‰æ„ä¹‰ï¼ŒåŸå‡½æ•°åªéœ€è¦ä¸‰ä¸ªå‚æ•°var c4 = curry(c3, 4);c4();å¤åˆ¶ä»£ç  ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¯é‡ŒåŒ–ç¼“å­˜çš„å‚æ•°æ•°é‡ï¼Œæ¥åˆ¤æ–­æ˜¯å¦åˆ°è¾¾äº†æ‰§è¡Œæ—¶æœºã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªæŸ¯é‡ŒåŒ–çš„é€šç”¨æ¨¡å¼ã€‚ 12345678910111213141516171819function curry(fn) { // è·å–åŸå‡½æ•°çš„å‚æ•°é•¿åº¦ const argLen = fn.length; // ä¿å­˜é¢„ç½®å‚æ•° const presetArgs = [].slice.call(arguments, 1) // è¿”å›ä¸€ä¸ªæ–°å‡½æ•° return function() { // æ–°å‡½æ•°è°ƒç”¨æ—¶ä¼šç»§ç»­ä¼ å‚ const restArgs = [].slice.call(arguments) const allArgs = [...presetArgs, ...restArgs] if (allArgs.length &gt;= argLen) { // å¦‚æœå‚æ•°å¤Ÿäº†ï¼Œå°±æ‰§è¡ŒåŸå‡½æ•° return fn.apply(this, allArgs) } else { // å¦åˆ™ç»§ç»­æŸ¯é‡ŒåŒ– return curry.call(null, fn, ...allArgs) } }} è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„å†™æ³•å°±å¯ä»¥æ”¯æŒä»¥ä¸‹å½¢å¼ã€‚ 123456789function fn(a, b, c) { return a + b + c;}var curried = curry(fn);curried(1, 2, 3); // 6curried(1, 2)(3); // 6curried(1)(2, 3); // 6curried(1)(2)(3); // 6curried(7)(8)(9); // 24 å‚æ•°ä¸å®šé•¿çš„æŸ¯é‡ŒåŒ–è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬éš¾å…ä¼šé—®è‡ªå·±ï¼Œå‡è®¾åŸå‡½æ•°çš„å‚æ•°ä¸å®šé•¿å‘¢ï¼Œè¿™ç§æƒ…å†µå¦‚ä½•æŸ¯é‡ŒåŒ–ï¼Ÿ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç†è§£å‚æ•°ä¸å®šé•¿æ˜¯æŒ‡å‡½æ•°å£°æ˜æ—¶ä¸çº¦å®šå…·ä½“çš„å‚æ•°ï¼Œè€Œåœ¨å‡½æ•°ä½“ä¸­é€šè¿‡argumentsè·å–å®å‚ï¼Œç„¶åè¿›è¡Œè¿ç®—ã€‚å°±åƒä¸‹é¢è¿™ç§ã€‚ 123456function dynamicAdd() { return [...arguments].reduce((prev, curr) =&gt; { return prev + curr }, 0)}å¤åˆ¶ä»£ç  å›åˆ°æœ€å¼€å§‹çš„é—®é¢˜ï¼Œæ€ä¹ˆæ”¯æŒä¸‹é¢çš„æ‰€æœ‰è°ƒç”¨å½¢å¼ï¼Ÿ 1234567add(1, 2, 3) // 6add(1) // 1add(1)(2) // 3add(1, 2)(3) // 6add(1)(2)(3) // 6add(1)(2)(3)(4) // 10å¤åˆ¶ä»£ç  æ€è€ƒäº†ä¸€é˜µï¼Œæˆ‘å‘ç°åœ¨å‚æ•°ä¸å®šé•¿çš„æƒ…å†µä¸‹ï¼Œè¦åŒæ—¶æ”¯æŒ1~Næ¬¡è°ƒç”¨è¿˜æ˜¯æŒºéš¾çš„ã€‚add(1)åœ¨ä¸€æ¬¡è°ƒç”¨åå¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå€¼ï¼Œä½†å®ƒä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°æ¥ç€è°ƒç”¨add(1)(2)ï¼Œç”šè‡³å¯ä»¥ç»§ç»­add(1)(2)(3)ã€‚é‚£ä¹ˆæˆ‘ä»¬å®ç°addå‡½æ•°æ—¶ï¼Œåˆ°åº•æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜æ˜¯è¿”å›ä¸€ä¸ªå€¼å‘¢ï¼Ÿè¿™è®©äººæŒºçŠ¯éš¾çš„ï¼Œæˆ‘ä¹Ÿä¸èƒ½é¢„æµ‹è¿™ä¸ªå‡½æ•°å°†å¦‚ä½•è¢«è°ƒç”¨å•Šã€‚ è€Œä¸”æˆ‘ä»¬å¯ä»¥æ‹¿ä¸Šé¢çš„æˆæœæ¥éªŒè¯ä¸‹ï¼š 12curried(1)(2)(3)(4);å¤åˆ¶ä»£ç  è¿è¡Œä¸Šé¢çš„ä»£ç ä¼šæŠ¥é”™ï¼šUncaught TypeError: curried(â€¦)(â€¦)(â€¦) is not a functionï¼Œå› ä¸ºæ‰§è¡Œåˆ°curried(1)(2)(3)ï¼Œç»“æœå°±ä¸æ˜¯ä¸€ä¸ªå‡½æ•°äº†ï¼Œè€Œæ˜¯ä¸€ä¸ªå€¼ï¼Œä¸€ä¸ªå€¼å½“ç„¶æ˜¯ä¸èƒ½ä½œä¸ºå‡½æ•°ç»§ç»­æ‰§è¡Œçš„ã€‚ æ‰€ä»¥å¦‚æœè¦æ”¯æŒå‚æ•°ä¸å®šé•¿çš„åœºæ™¯ï¼Œå·²ç»æŸ¯é‡ŒåŒ–çš„å‡½æ•°åœ¨æ‰§è¡Œå®Œæ¯•æ—¶ä¸èƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œåªèƒ½è¿”å›ä¸€ä¸ªå‡½æ•°ï¼›åŒæ—¶è¦è®©JSå¼•æ“åœ¨è§£æå¾—åˆ°çš„è¿™ä¸ªç»“æœæ—¶ï¼Œèƒ½æ±‚å‡ºæˆ‘ä»¬é¢„æœŸçš„å€¼ã€‚ å¤§å®¶çœ‹äº†è¿™ä¸ªå¯èƒ½è¿˜æ˜¯ä¸æ‡‚ï¼Œå¥½ï¼Œè¯´äººè¯ï¼æˆ‘ä»¬å®ç°çš„curryåº”è¯¥æ»¡è¶³ï¼š ç»curryå¤„ç†ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸€ç‚¹ä¸å˜ã€‚ 123// curryæ˜¯ä¸€ä¸ªå‡½æ•°var curried = curry(add);å¤åˆ¶ä»£ç  æ–°å‡½æ•°æ‰§è¡Œåä»ç„¶è¿”å›ä¸€ä¸ªç»“æœå‡½æ•°ã€‚ 123// curried10ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°var curried10 = curried(10);var curried30 = curried10(20); ç»“æœå‡½æ•°å¯ä»¥è¢«Javascriptå¼•æ“è§£æï¼Œå¾—åˆ°ä¸€ä¸ªé¢„æœŸçš„å€¼ã€‚ 1curried10; // 10 å¥½ï¼Œå…³é”®ç‚¹åœ¨äº3ï¼Œå¦‚ä½•è®©Javascriptå¼•æ“æŒ‰æˆ‘ä»¬çš„é¢„æœŸè¿›è¡Œè§£æï¼Œè¿™å°±å›åˆ°JavascriptåŸºç¡€äº†ã€‚åœ¨è§£æä¸€ä¸ªå‡½æ•°çš„åŸå§‹å€¼æ—¶ï¼Œä¼šç”¨åˆ°toStringã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œconsole.log(fn)å¯ä»¥æŠŠå‡½æ•°fnçš„æºç è¾“å‡ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234console.log(fn)Æ’ fn(a, b, c) { return a + b + c;} é‚£ä¹ˆæˆ‘ä»¬åªè¦é‡å†™toStringï¼Œå°±å¯ä»¥å·§å¦™åœ°å®ç°æˆ‘ä»¬çš„éœ€æ±‚äº†ã€‚ 12345678910111213141516function curry(fn) { // ä¿å­˜é¢„ç½®å‚æ•° const presetArgs = [].slice.call(arguments, 1) // è¿”å›ä¸€ä¸ªæ–°å‡½æ•° function curried () { // æ–°å‡½æ•°è°ƒç”¨æ—¶ä¼šç»§ç»­ä¼ å‚ const restArgs = [].slice.call(arguments) const allArgs = [...presetArgs, ...restArgs] return curry.call(null, fn, ...allArgs) } // é‡å†™toString curried.toString = function() { return fn.apply(null, presetArgs) } return curried;} è¿™æ ·ä¸€æ¥ï¼Œé­”æ€§çš„addç”¨æ³•å°±éƒ½è¢«æ”¯æŒäº†ã€‚ 12345678function dynamicAdd() { return [...arguments].reduce((prev, curr) =&gt; { return prev + curr }, 0)}var add = curry(dynamicAdd);add(1)(2)(3)(4) // 10add(1, 2)(3, 4)(5, 6) // 21 æŸ¯é‡ŒåŒ–æ€»ç»“æŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå®é™…ä¸Šåœ¨é¡¹ç›®ä¸­å¯èƒ½ç”¨å¾—å°‘ï¼Œæˆ–è€…è¯´ç”¨å¾—ä¸æ·±å…¥ï¼Œä½†æ˜¯å¦‚æœä½ æŒæ¡äº†è¿™ç§æ€æƒ³ï¼Œä¹Ÿè®¸åœ¨æœªæ¥çš„æŸä¸ªæ—¶é—´ç‚¹ï¼Œä½ ä¼šç”¨å¾—ä¸Šï¼ å¤§æ¦‚æ¥è¯´ï¼ŒæŸ¯é‡ŒåŒ–æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š ç®€æ´ä»£ç ï¼šæŸ¯é‡ŒåŒ–åº”ç”¨åœ¨è¾ƒå¤æ‚çš„åœºæ™¯ä¸­ï¼Œæœ‰ç®€æ´ä»£ç ï¼Œå¯è¯»æ€§é«˜çš„ä¼˜ç‚¹ã€‚ å‚æ•°å¤ç”¨ï¼šå…¬å…±çš„å‚æ•°å·²ç»é€šè¿‡æŸ¯é‡ŒåŒ–é¢„ç½®äº†ã€‚ å»¶è¿Ÿæ‰§è¡Œï¼šæŸ¯é‡ŒåŒ–æ—¶åªæ˜¯è¿”å›ä¸€ä¸ªé¢„ç½®å‚æ•°çš„æ–°å‡½æ•°ï¼Œå¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œå®é™…ä¸Šåœ¨æ»¡è¶³æ¡ä»¶åæ‰ä¼šæ‰§è¡Œã€‚ ç®¡é“å¼æµæ°´çº¿ç¼–ç¨‹ï¼šåˆ©äºä½¿ç”¨å‡½æ•°ç»„è£…ç®¡é“å¼çš„æµæ°´çº¿å·¥åºï¼Œä¸æ±¡æŸ“åŸå‡½æ•°ã€‚","link":"/JavaScript/15.%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96/"},{"title":"é—­åŒ…","text":"1.ä½œç”¨åŸŸ åœ¨JavaScriptä¸­ï¼Œå˜é‡çš„å¯è®¿é—®æ€§ç”±ä½œç”¨åŸŸç®¡ç†ã€‚ä½œç”¨åŸŸç”±å‡½æ•°æˆ–ä»£ç å—åˆ›å»ºã€‚å˜é‡åªèƒ½åœ¨å®šä¹‰å®ƒçš„å‡½æ•°æˆ–ä»£ç å—å†…ä½¿ç”¨ã€‚è¶…å‡ºèŒƒå›´åˆ™ä¸å¯è®¿é—® å˜é‡éš”ç¦» æˆ‘ä»¬å¯ä»¥æŠŠä½œç”¨åŸŸç†è§£ä¸ºä¸€ç§ç©ºé—´ç­–ç•¥ï¼Œæ¯ä¸ªå‡½æ•°æ‹¥æœ‰è‡ªå·±çš„ç§æœ‰ä½œç”¨åŸŸï¼Œå®ƒå¯¹å˜é‡è¿›è¡Œäº†éš”ç¦»ï¼Œæ§åˆ¶äº†å˜é‡çš„å¯è®¿é—®æ€§ï¼Œå› æ­¤ä¸åŒçš„ä½œç”¨åŸŸå¯ä»¥å…·æœ‰ç›¸åŒåç§°çš„å˜é‡è€Œä¸å†²çªã€‚ ä½œç”¨åŸŸåµŒå¥— æˆ‘ä»¬å¯ä»¥æŠŠinnerFunc()åµŒå¥—åœ¨å¤–éƒ¨å‡½æ•°outerFunc()ä¸­ï¼Œå¤–éƒ¨ä½œç”¨åŸŸä¸­çš„outerVarå˜é‡åœ¨å†…éƒ¨ä½œç”¨åŸŸä¸­æ˜¯å¯è®¿é—®çš„ã€‚ å°ç»“ ä½œç”¨åŸŸå¯ä»¥åµŒå¥— å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡å¯ä»¥åœ¨å†…éƒ¨ä½œç”¨åŸŸå†…éƒ¨è®¿é—® å¦‚æœå¤–éƒ¨ä½œç”¨åŸŸä¸­ä¹Ÿæ‰¾ä¸åˆ°ï¼Œæœ€ç»ˆä¼šå»å…¨å±€ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ï¼Œä»å†…è‡³å¤–å±‚å±‚æŸ¥æ‰¾å½¢æˆä½œç”¨åŸŸé“¾ æ‰©å±•ï¼š æˆ‘ä»¬æŠŠå†…éƒ¨ä½œç”¨åŸŸå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨ä½œç”¨åŸŸï¼Œè€Œå¤–éƒ¨æ— æ³•è®¿é—®å†…éƒ¨çš„è¡Œä¸ºå«åšä½œç”¨åŸŸç»§æ‰¿ï¼Œå¯ä»¥æŠŠå…¨å±€ä½œç”¨åŸŸæ¯”å–»æˆä¸€ä¸ªå¤§æˆ¿å­ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå±‚å°æˆ¿é—´ï¼ˆå‡½æ•°ä½œç”¨åŸŸæˆ–è€…å—ä½œç”¨åŸŸï¼‰ï¼Œå„è‡ªæ‹¥æœ‰è‡ªå·±çš„é’¥åŒ™ğŸ”‘ã€‚å¯ä»¥ä»é‡Œé¢è®¿é—®å¤–é¢ï¼Œä½†æ˜¯æ— æ³•ä»å¤–é¢è®¿é—®é‡Œé¢ï¼Œå¹¶ä¸”ç›¸äº’ä¹‹é—´æ— æ³•è®¿é—® 2.é—­åŒ…ç¤ºä¾‹ï¼š 1234567891011function outerFunc() { let outerVar = 'I am outside!'; function innerFunc() { console.log(outerVar); // &quot;I am outside!&quot; } innerFunc();}outerFunc(); ç°åœ¨æˆ‘ä»¬çŸ¥é“åœ¨innerFunc()ä½œç”¨åŸŸå†…å¯ä»¥ä»è¯æ³•ä½œç”¨åŸŸè®¿é—®å˜é‡outerVarï¼Œè¿™é‡ŒinnerFunc()è°ƒç”¨å‘ç”Ÿåœ¨å…¶è¯æ³•ä½œç”¨åŸŸï¼ˆouterFunc()çš„ä½œç”¨åŸŸï¼‰å†…ã€‚ æŠŠinnerFunc()ä¿®æ”¹åˆ°å…¶è¯æ³•ä½œç”¨åŸŸä¹‹å¤–ï¼ˆouterFunc()ä¹‹å¤–ï¼‰è°ƒç”¨ã€‚innerFunc()è¿˜èƒ½è®¿é—®outerVarå—ï¼Ÿ è®©æˆ‘ä»¬å¯¹ä»£ç ç‰‡æ®µè¿›è¡Œè°ƒæ•´ï¼š 123456789101112function outerFunc() { let outerVar = 'I am outside!'; function innerFunc() { console.log(outerVar); // &quot;I am outside!&quot; } return innerFunc;}const myInnerFunc = outerFunc();myInnerFunc(); ç°åœ¨innerFunc()åœ¨å…¶è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œä½†æ˜¯innerFunc()ä»ç„¶å¯ä»¥ä»å…¶è¯æ³•ä½œç”¨åŸŸè®¿é—®outerVarï¼Œå³ä½¿æ˜¯åœ¨è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´innerFunc()ä»å…¶è¯æ³•ä½œç”¨åŸŸæ•è·(åˆç§°è®°å¿†ï¼‰å˜é‡outerVarã€‚ æ¢å¥è¯è¯´ï¼ŒinnerFunc()æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå› ä¸ºå®ƒåœ¨è¯æ³•ä½œç”¨åŸŸå†…æ•è·äº†å˜é‡outerVarã€‚ æ­£å¸¸æ¥è¯´ï¼Œå½“outerFuncå‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå…¶ä½œç”¨åŸŸæ˜¯ä¼šè¢«é”€æ¯çš„ï¼Œç„¶ååƒåœ¾å›æ”¶å™¨ä¼šé‡Šæ”¾é‚£æ®µå†…å­˜ç©ºé—´ã€‚è€Œé—­åŒ…å´å¾ˆç¥å¥‡çš„å°†outerFuncçš„ä½œç”¨åŸŸå­˜æ´»äº†ä¸‹æ¥ï¼ŒinnerFuncä¾ç„¶æŒæœ‰è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè¿™ä¸ªå¼•ç”¨å°±æ˜¯é—­åŒ…ã€‚ é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä»å®šä¹‰å®ƒçš„åœ°æ–¹è®°ä½å˜é‡ï¼Œå½¢æˆä¸€ä¸ªç§æœ‰çš„ä½œç”¨åŸŸï¼Œä¿æŠ¤é‡Œè¾¹çš„ç§æœ‰å˜é‡ä¸å—å¤–ç•Œçš„å¹²æ‰°ï¼Œé™¤äº†ä¿æŠ¤ç§æœ‰å˜é‡å¤–ï¼Œè¿˜å¯ä»¥å­˜å‚¨ä¸€äº›å†…å®¹ï¼Œè€Œä¸ç®¡å®ƒä»¥ååœ¨å“ªé‡Œæ‰§è¡Œï¼Œæ‰€ä»¥æ— è®ºé€šè¿‡å“ªç§æ–¹å¼å°†å†…éƒ¨çš„å‡½æ•°ä¼ é€’åˆ°æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–ï¼Œå®ƒéƒ½ä¼šæŒæœ‰å¯¹åŸå§‹ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ— è®ºåœ¨ä½•å¤„æ‰§è¡Œè¿™ä¸ªå‡½æ•°éƒ½ä¼šä½¿ç”¨é—­åŒ…ã€‚ å°ç»“æŸä¸ªå‡½æ•°åœ¨å®šä¹‰æ—¶çš„è¯æ³•ä½œç”¨åŸŸä¹‹å¤–çš„åœ°æ–¹è¢«è°ƒç”¨ï¼Œé—­åŒ…å¯ä»¥ä½¿è¯¥å‡½æ•°æé™è®¿é—®å®šä¹‰æ—¶çš„è¯æ³•ä½œç”¨åŸŸã€‚ æ‰©å±•ï¼šé€šä¿—åœ°è®²é—­åŒ…å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°é‡Œè¾¹å†å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚è¿™ä¸ªå†…éƒ¨å‡½æ•°ä¸€ç›´ä¿æŒæœ‰å¯¹å¤–éƒ¨å‡½æ•°ä¸­ä½œç”¨åŸŸçš„è®¿é—®æƒé™(å°æˆ¿é—´ä¸€ç›´å¯ä»¥æœ‰å¤§æˆ¿å­çš„è®¿é—®æƒé™)ã€‚ 3.é—­åŒ…çš„ä½œç”¨ è®¿é—®å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡ ä¿æŠ¤å˜é‡ä¸è¢«å†…å­˜å›æ”¶æœºåˆ¶å›æ”¶ é¿å…å…¨å±€å˜é‡è¢«æ±¡æŸ“ æ–¹ä¾¿è°ƒç”¨ä¸Šä¸‹æ–‡çš„å±€éƒ¨å˜é‡ åŠ å¼ºå°è£…æ€§ 4.æ€»ç»“ä½œç”¨åŸŸå†³å®šäº†JavaScriptä¸­å˜é‡çš„å¯è®¿é—®æ€§ã€‚ä¸»è¦åŒ…æ‹¬å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸã€‚ è¯æ³•ä½œç”¨åŸŸå…è®¸å‡½æ•°ä½œç”¨åŸŸä»å¤–éƒ¨ä½œç”¨åŸŸé™æ€è®¿é—®å˜é‡ã€‚ æœ€åï¼Œé—­åŒ…æ˜¯ä»å…¶è¯æ³•ä½œç”¨åŸŸæ•è·å˜é‡çš„å‡½æ•°ã€‚ç”¨ç®€å•çš„è¯æ¥è¯´ï¼Œé—­åŒ…ä¼šè®°ä½ä»å®šä¹‰å®ƒçš„åœ°æ–¹å¼€å§‹çš„å˜é‡ï¼Œæ— è®ºå®ƒåœ¨å“ªé‡Œæ‰§è¡Œã€‚ é—­åŒ…æ•è·äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå›è°ƒä¸­çš„å˜é‡ã€‚å®ƒä»¬ç”¨äºå‡½æ•°å¼ç¼–ç¨‹ã€‚","link":"/JavaScript/16.%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AD%E5%8C%85/"},{"title":"æ•°ç»„çš„æ‰©å±•","text":"1.æ‰©å±•è¿ç®—ç¬¦æ‰©å±•è¿ç®—ç¬¦(spread)æ˜¯ä¸‰ä¸ªç‚¹(â€¦)ã€‚å®ƒå¥½æ¯”restå‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„ç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ— 12345678console.log(...[1, 2, 3])// 1 2 3console.log(1, ...[2, 3, 4], 5)// 1 2 3 4 5[...document.querySelectorAll('div')]// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;] æ›¿ä»£applyæ–¹æ³•ç”±äºæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å±•å¼€æ•°ç»„ï¼Œæ‰€ä»¥ä¸å†éœ€è¦applyæ–¹æ³•ï¼Œå°†æ•°ç»„è½¬ä¸ºå‡½æ•°çš„å‚æ•°äº†ã€‚ 12345678910111213// ES5 çš„å†™æ³•function f(x, y, z) { // ...}var args = [0, 1, 2];f.apply(null, args);// ES6çš„å†™æ³•function f(x, y, z) { // ...}let args = [0, 1, 2];f(...args); æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨ï¼ˆ1ï¼‰å¤åˆ¶æ•°ç»„ æ•°ç»„æ˜¯å¤åˆçš„æ•°æ®ç±»å‹ï¼Œç›´æ¥å¤åˆ¶çš„è¯ï¼Œåªæ˜¯å¤åˆ¶äº†æŒ‡å‘åº•å±‚æ•°æ®ç»“æ„çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å…‹éš†ä¸€ä¸ªå…¨æ–°çš„æ•°ç»„ã€‚ 12345const a1 = [1, 2];const a2 = a1;a2[0] = 2;a1 // [2, 2] ä¸Šé¢ä»£ç ä¸­ï¼Œa2å¹¶ä¸æ˜¯a1çš„å…‹éš†ï¼Œè€Œæ˜¯æŒ‡å‘åŒä¸€ä»½æ•°æ®çš„å¦ä¸€ä¸ªæŒ‡é’ˆã€‚ä¿®æ”¹a2ï¼Œä¼šç›´æ¥å¯¼è‡´a1çš„å˜åŒ–ã€‚ ES5 åªèƒ½ç”¨å˜é€šæ–¹æ³•æ¥å¤åˆ¶æ•°ç»„ã€‚ 12345const a1 = [1, 2];const a2 = a1.concat();a2[0] = 2;a1 // [1, 2] ä¸Šé¢ä»£ç ä¸­ï¼Œa1ä¼šè¿”å›åŸæ•°ç»„çš„å…‹éš†ï¼Œå†ä¿®æ”¹a2å°±ä¸ä¼šå¯¹a1äº§ç”Ÿå½±å“ã€‚ æ‰©å±•è¿ç®—ç¬¦æä¾›äº†å¤åˆ¶æ•°ç»„çš„ç®€ä¾¿å†™æ³•ã€‚ 12345const a1 = [1, 2];// å†™æ³•ä¸€const a2 = [...a1];// å†™æ³•äºŒconst [...a2] = a1; ä¸Šé¢çš„ä¸¤ç§å†™æ³•ï¼Œa2éƒ½æ˜¯a1çš„å…‹éš†ã€‚ ï¼ˆ2ï¼‰åˆå¹¶æ•°ç»„ æ‰©å±•è¿ç®—ç¬¦æä¾›äº†æ•°ç»„åˆå¹¶çš„æ–°å†™æ³•ã€‚ 1234567891011const arr1 = ['a', 'b'];const arr2 = ['c'];const arr3 = ['d', 'e'];// ES5 çš„åˆå¹¶æ•°ç»„arr1.concat(arr2, arr3);// [ 'a', 'b', 'c', 'd', 'e' ]// ES6 çš„åˆå¹¶æ•°ç»„[...arr1, ...arr2, ...arr3]// [ 'a', 'b', 'c', 'd', 'e' ] ä¸è¿‡ï¼Œè¿™ä¸¤ç§æ–¹æ³•éƒ½æ˜¯æµ…æ‹·è´ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ã€‚ 12345678const a1 = [{ foo: 1 }];const a2 = [{ bar: 2 }];const a3 = a1.concat(a2);const a4 = [...a1, ...a2];a3[0] === a1[0] // truea4[0] === a1[0] // true ä¸Šé¢ä»£ç ä¸­ï¼Œa3å’Œa4æ˜¯ç”¨ä¸¤ç§ä¸åŒæ–¹æ³•åˆå¹¶è€Œæˆçš„æ–°æ•°ç»„ï¼Œä½†æ˜¯å®ƒä»¬çš„æˆå‘˜éƒ½æ˜¯å¯¹åŸæ•°ç»„æˆå‘˜çš„å¼•ç”¨ï¼Œè¿™å°±æ˜¯æµ…æ‹·è´ã€‚å¦‚æœä¿®æ”¹äº†å¼•ç”¨æŒ‡å‘çš„å€¼ï¼Œä¼šåŒæ­¥åæ˜ åˆ°æ–°æ•°ç»„ã€‚ ï¼ˆ3ï¼‰ä¸è§£æ„èµ‹å€¼ç»“åˆ æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä¸è§£æ„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºç”Ÿæˆæ•°ç»„ã€‚ 1234// ES5a = list[0], rest = list.slice(1)// ES6[a, ...rest] = list ä¸‹é¢æ˜¯å¦å¤–ä¸€äº›ä¾‹å­ã€‚ 1234567891011const [first, ...rest] = [1, 2, 3, 4, 5];first // 1rest // [2, 3, 4, 5]const [first, ...rest] = [];first // undefinedrest // []const [first, ...rest] = [&quot;foo&quot;];first // &quot;foo&quot;rest // [] å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ 12345const [...butLast, last] = [1, 2, 3, 4, 5];// æŠ¥é”™const [first, ...middle, last] = [1, 2, 3, 4, 5];// æŠ¥é”™ ï¼ˆ4ï¼‰å­—ç¬¦ä¸² æ‰©å±•è¿ç®—ç¬¦è¿˜å¯ä»¥å°†å­—ç¬¦ä¸²è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 12[...'hello']// [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ] ä¸Šé¢çš„å†™æ³•ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„å¥½å¤„ï¼Œé‚£å°±æ˜¯èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ã€‚ 12'x\\uD83D\\uDE80y'.length // 4[...'x\\uD83D\\uDE80y'].length // 3 ä¸Šé¢ä»£ç çš„ç¬¬ä¸€ç§å†™æ³•ï¼ŒJavaScript ä¼šå°†å››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ï¼Œè¯†åˆ«ä¸º 2 ä¸ªå­—ç¬¦ï¼Œé‡‡ç”¨æ‰©å±•è¿ç®—ç¬¦å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæ­£ç¡®è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚ 12345function length(str) { return [...str].length;}length('x\\uD83D\\uDE80y') // 3 å‡¡æ˜¯æ¶‰åŠåˆ°æ“ä½œå››ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦çš„å‡½æ•°ï¼Œéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæœ€å¥½éƒ½ç”¨æ‰©å±•è¿ç®—ç¬¦æ”¹å†™ã€‚ 1234567let str = 'x\\uD83D\\uDE80y';str.split('').reverse().join('')// 'y\\uDE80\\uD83Dx'[...str].reverse().join('')// 'y\\uD83D\\uDE80x' ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå­—ç¬¦ä¸²çš„reverseæ“ä½œå°±ä¸æ­£ç¡®ã€‚ ï¼ˆ5ï¼‰å®ç°äº† Iterator æ¥å£çš„å¯¹è±¡ ä»»ä½•å®šä¹‰äº†éå†å™¨ï¼ˆIteratorï¼‰æ¥å£çš„å¯¹è±¡ï¼ˆå‚é˜… Iterator ä¸€ç« ï¼‰ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 12let nodeList = document.querySelectorAll('div');let array = [...nodeList]; ä¸Šé¢ä»£ç ä¸­ï¼ŒquerySelectorAllæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªNodeListå¯¹è±¡ã€‚å®ƒä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚è¿™æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼ŒåŸå› å°±åœ¨äºNodeListå¯¹è±¡å®ç°äº† Iterator ã€‚ 123456789Number.prototype[Symbol.iterator] = function*() { let i = 0; let num = this.valueOf(); while (i &lt; num) { yield i++; }}console.log([...5]) // [0, 1, 2, 3, 4] ä¸Šé¢ä»£ç ä¸­ï¼Œå…ˆå®šä¹‰äº†Numberå¯¹è±¡çš„éå†å™¨æ¥å£ï¼Œæ‰©å±•è¿ç®—ç¬¦å°†5è‡ªåŠ¨è½¬æˆNumberå®ä¾‹ä»¥åï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œå°±ä¼šè¿”å›è‡ªå®šä¹‰çš„ç»“æœã€‚ å¯¹äºé‚£äº›æ²¡æœ‰éƒ¨ç½² Iterator æ¥å£çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±æ— æ³•å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 123456789let arrayLike = { '0': 'a', '1': 'b', '2': 'c', length: 3};// TypeError: Cannot spread non-iterable object.let arr = [...arrayLike]; ä¸Šé¢ä»£ç ä¸­ï¼ŒarrayLikeæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰éƒ¨ç½² Iterator æ¥å£ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±ä¼šæŠ¥é”™ã€‚è¿™æ—¶ï¼Œå¯ä»¥æ”¹ä¸ºä½¿ç”¨Array.fromæ–¹æ³•å°†arrayLikeè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ ï¼ˆ6ï¼‰Map å’Œ Set ç»“æ„ï¼ŒGenerator å‡½æ•° æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„ Iterator æ¥å£ï¼Œå› æ­¤åªè¦å…·æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ Map ç»“æ„ã€‚ 1234567let map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);let arr = [...map.keys()]; // [1, 2, 3] Generator å‡½æ•°è¿è¡Œåï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚ 1234567const go = function*(){ yield 1; yield 2; yield 3;};[...go()] // [1, 2, 3] ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡goæ˜¯ä¸€ä¸ª Generator å‡½æ•°ï¼Œæ‰§è¡Œåè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯¹è¿™ä¸ªéå†å™¨å¯¹è±¡æ‰§è¡Œæ‰©å±•è¿ç®—ç¬¦ï¼Œå°±ä¼šå°†å†…éƒ¨éå†å¾—åˆ°çš„å€¼ï¼Œè½¬ä¸ºä¸€ä¸ªæ•°ç»„ã€‚ å¦‚æœå¯¹æ²¡æœ‰ Iterator æ¥å£çš„å¯¹è±¡ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†ä¼šæŠ¥é”™ã€‚ 12const obj = {a: 1, b: 2};let arr = [...obj]; // TypeError: Cannot spread non-iterable object 2.Array.from()Array.from()æ–¹æ³•ç”¨äºå°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆarray-like objectï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ ES6 æ–°å¢çš„æ•°æ®ç»“æ„ Set å’Œ Mapï¼‰ ä¸‹é¢æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ŒArray.fromå°†å®ƒè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 123456789101112let arrayLike = { '0': 'a', '1': 'b', '2': 'c', length: 3};// ES5çš„å†™æ³•var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']// ES6çš„å†™æ³•let arr2 = Array.from(arrayLike); // ['a', 'b', 'c'] å®é™…åº”ç”¨ä¸­ï¼Œå¸¸è§çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ˜¯ DOM æ“ä½œè¿”å›çš„ NodeList é›†åˆï¼Œä»¥åŠå‡½æ•°å†…éƒ¨çš„argumentså¯¹è±¡ã€‚Array.froméƒ½å¯ä»¥å°†å®ƒä»¬è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚ 1234567891011// NodeListå¯¹è±¡let ps = document.querySelectorAll('p');Array.from(ps).filter(p =&gt; { return p.textContent.length &gt; 100;});// argumentså¯¹è±¡function foo() { var args = Array.from(arguments); // ...} å€¼å¾—æé†’çš„æ˜¯ï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ä¹Ÿå¯ä»¥å°†æŸäº›æ•°æ®ç»“æ„è½¬ä¸ºæ•°ç»„ã€‚ 1234567// argumentså¯¹è±¡function foo() { const args = [...arguments];}// NodeListå¯¹è±¡[...document.querySelectorAll('div')] æ‰©å±•è¿ç®—ç¬¦èƒŒåè°ƒç”¨çš„æ˜¯éå†å™¨æ¥å£ï¼ˆSymbol.iteratorï¼‰ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡æ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ¥å£ï¼Œå°±æ— æ³•è½¬æ¢ã€‚Array.fromæ–¹æ³•è¿˜æ”¯æŒç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€è°“ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæœ¬è´¨ç‰¹å¾åªæœ‰ä¸€ç‚¹ï¼Œå³å¿…é¡»æœ‰lengthå±æ€§ã€‚å› æ­¤ï¼Œä»»ä½•æœ‰lengthå±æ€§çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥é€šè¿‡Array.fromæ–¹æ³•è½¬ä¸ºæ•°ç»„ï¼Œè€Œæ­¤æ—¶æ‰©å±•è¿ç®—ç¬¦å°±æ— æ³•è½¬æ¢ã€‚ 12Array.from({ length: 3 });// [ undefined, undefined, undefined ] ä¸Šé¢ä»£ç ä¸­ï¼ŒArray.fromè¿”å›äº†ä¸€ä¸ªå…·æœ‰ä¸‰ä¸ªæˆå‘˜çš„æ•°ç»„ï¼Œæ¯ä¸ªä½ç½®çš„å€¼éƒ½æ˜¯undefinedã€‚æ‰©å±•è¿ç®—ç¬¦è½¬æ¢ä¸äº†è¿™ä¸ªå¯¹è±¡ã€‚ å¯¹äºè¿˜æ²¡æœ‰éƒ¨ç½²è¯¥æ–¹æ³•çš„æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨Array.prototype.sliceæ–¹æ³•æ›¿ä»£ã€‚ 123const toArray = (() =&gt; Array.from ? Array.from : obj =&gt; [].slice.call(obj))(); å¯¹äºè¿˜æ²¡æœ‰éƒ¨ç½²è¯¥æ–¹æ³•çš„æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨Array.prototype.sliceæ–¹æ³•æ›¿ä»£ã€‚ 123const toArray = (() =&gt; Array.from ? Array.from : obj =&gt; [].slice.call(obj))(); 3.Array.of()Array.of()æ–¹æ³•ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚ 123Array.of(3, 11, 8) // [3,11,8]Array.of(3) // [3]Array.of(3).length // 1 Array.of()æ€»æ˜¯è¿”å›å‚æ•°å€¼ç»„æˆçš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œå°±è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚ Array.of()æ–¹æ³•å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿå®ç°ã€‚ 123function ArrayOf(){ return [].slice.call(arguments);} è¿™ä¸ªæ–¹æ³•çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯å¼¥è¡¥æ•°ç»„æ„é€ å‡½æ•°Array()çš„ä¸è¶³ã€‚å› ä¸ºå‚æ•°ä¸ªæ•°çš„ä¸åŒï¼Œä¼šå¯¼è‡´Array()çš„è¡Œä¸ºæœ‰å·®å¼‚ã€‚ 123Array() // []Array(3) // [, , ,]Array(3, 11, 8) // [3, 11, 8] ä¸Šé¢ä»£ç ä¸­ï¼ŒArray()æ–¹æ³•æ²¡æœ‰å‚æ•°ã€ä¸€ä¸ªå‚æ•°ã€ä¸‰ä¸ªå‚æ•°æ—¶ï¼Œè¿”å›çš„ç»“æœéƒ½ä¸ä¸€æ ·ã€‚åªæœ‰å½“å‚æ•°ä¸ªæ•°ä¸å°‘äº 2 ä¸ªæ—¶ï¼ŒArray()æ‰ä¼šè¿”å›ç”±å‚æ•°ç»„æˆçš„æ–°æ•°ç»„ã€‚å‚æ•°åªæœ‰ä¸€ä¸ªæ­£æ•´æ•°æ—¶ï¼Œå®é™…ä¸Šæ˜¯æŒ‡å®šæ•°ç»„çš„é•¿åº¦ã€‚ Array.of()åŸºæœ¬ä¸Šå¯ä»¥ç”¨æ¥æ›¿ä»£Array()æˆ–new Array()ï¼Œå¹¶ä¸”ä¸å­˜åœ¨ç”±äºå‚æ•°ä¸åŒè€Œå¯¼è‡´çš„é‡è½½ã€‚å®ƒçš„è¡Œä¸ºéå¸¸ç»Ÿä¸€ã€‚ 4.æ•°ç»„å®ä¾‹copyWithin()æ•°ç»„å®ä¾‹çš„copyWithin()æ–¹æ³•ï¼Œåœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šä¿®æ”¹å½“å‰æ•°ç»„ã€‚ 1Array.prototype.copyWithin(target, start = 0, end = this.length) å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ã€‚ targetï¼ˆå¿…éœ€ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹æ›¿æ¢æ•°æ®ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºå€’æ•°ã€‚ startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º 0ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚ endï¼ˆå¯é€‰ï¼‰ï¼šåˆ°è¯¥ä½ç½®å‰åœæ­¢è¯»å–æ•°æ®ï¼Œé»˜è®¤ç­‰äºæ•°ç»„é•¿åº¦ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œè¡¨ç¤ºä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚ è¿™ä¸‰ä¸ªå‚æ•°éƒ½åº”è¯¥æ˜¯æ•°å€¼ï¼Œå¦‚æœä¸æ˜¯ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºæ•°å€¼ã€‚ 12[1, 2, 3, 4, 5].copyWithin(0, 3)// [4, 5, 3, 4, 5] ä¸Šé¢ä»£ç è¡¨ç¤ºå°†ä» 3 å·ä½ç›´åˆ°æ•°ç»„ç»“æŸçš„æˆå‘˜ï¼ˆ4 å’Œ 5ï¼‰ï¼Œå¤åˆ¶åˆ°ä» 0 å·ä½å¼€å§‹çš„ä½ç½®ï¼Œç»“æœè¦†ç›–äº†åŸæ¥çš„ 1 å’Œ 2ã€‚ ä¸‹é¢æ˜¯æ›´å¤šä¾‹å­ã€‚ 123456789101112131415161718192021// å°†3å·ä½å¤åˆ¶åˆ°0å·ä½[1, 2, 3, 4, 5].copyWithin(0, 3, 4)// [4, 2, 3, 4, 5]// -2ç›¸å½“äº3å·ä½ï¼Œ-1ç›¸å½“äº4å·ä½[1, 2, 3, 4, 5].copyWithin(0, -2, -1)// [4, 2, 3, 4, 5]// å°†3å·ä½å¤åˆ¶åˆ°0å·ä½[].copyWithin.call({length: 5, 3: 1}, 0, 3)// {0: 1, 3: 1, length: 5}// å°†2å·ä½åˆ°æ•°ç»„ç»“æŸï¼Œå¤åˆ¶åˆ°0å·ä½let i32a = new Int32Array([1, 2, 3, 4, 5]);i32a.copyWithin(0, 2);// Int32Array [3, 4, 5, 4, 5]// å¯¹äºæ²¡æœ‰éƒ¨ç½² TypedArray çš„ copyWithin æ–¹æ³•çš„å¹³å°// éœ€è¦é‡‡ç”¨ä¸‹é¢çš„å†™æ³•[].copyWithin.call(new Int32Array([1, 2, 3, 4, 5]), 0, 3, 4);// Int32Array [4, 2, 3, 4, 5] 5.æ•°ç»„å®ä¾‹find()å’ŒfindIndex()æ•°ç»„å®ä¾‹çš„findæ–¹æ³•ï¼Œç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ‰€æœ‰æ•°ç»„æˆå‘˜ä¾æ¬¡æ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œç›´åˆ°æ‰¾å‡ºç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºtrueçš„æˆå‘˜ï¼Œç„¶åè¿”å›è¯¥æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜ï¼Œåˆ™è¿”å›undefinedã€‚ 12[1, 4, -5, 10].find((n) =&gt; n &lt; 0)// -5 ä¸Šé¢ä»£ç æ‰¾å‡ºæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå°äº 0 çš„æˆå‘˜ã€‚ 123[1, 5, 10, 15].find(function(value, index, arr) { return value &gt; 9;}) // 10 ä¸Šé¢ä»£ç ä¸­ï¼Œfindæ–¹æ³•çš„å›è°ƒå‡½æ•°å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸ºå½“å‰çš„å€¼ã€å½“å‰çš„ä½ç½®å’ŒåŸæ•°ç»„ã€‚ æ•°ç»„å®ä¾‹çš„findIndexæ–¹æ³•çš„ç”¨æ³•ä¸findæ–¹æ³•éå¸¸ç±»ä¼¼ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œåˆ™è¿”å›-1ã€‚ 123[1, 5, 10, 15].findIndex(function(value, index, arr) { return value &gt; 9;}) // 2 è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šå›è°ƒå‡½æ•°çš„thiså¯¹è±¡ã€‚ 12345function f(v){ return v &gt; this.age;}let person = {name: 'John', age: 20};[10, 12, 26, 15].find(f, person); // 26 ä¸Šé¢çš„ä»£ç ä¸­ï¼Œfindå‡½æ•°æ¥æ”¶äº†ç¬¬äºŒä¸ªå‚æ•°personå¯¹è±¡ï¼Œå›è°ƒå‡½æ•°ä¸­çš„thiså¯¹è±¡æŒ‡å‘personå¯¹è±¡ã€‚ å¦å¤–ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥å‘ç°NaNï¼Œå¼¥è¡¥äº†æ•°ç»„çš„indexOfæ–¹æ³•çš„ä¸è¶³ã€‚ 12345[NaN].indexOf(NaN)// -1[NaN].findIndex(y =&gt; Object.is(NaN, y))// 0 ä¸Šé¢ä»£ç ä¸­ï¼ŒindexOfæ–¹æ³•æ— æ³•è¯†åˆ«æ•°ç»„çš„NaNæˆå‘˜ï¼Œä½†æ˜¯findIndexæ–¹æ³•å¯ä»¥å€ŸåŠ©Object.isæ–¹æ³•åšåˆ°ã€‚ 6.æ•°ç»„å®ä¾‹fill()fillæ–¹æ³•ä½¿ç”¨ç»™å®šå€¼ï¼Œå¡«å……ä¸€ä¸ªæ•°ç»„ã€‚ 12345['a', 'b', 'c'].fill(7)// [7, 7, 7]new Array(3).fill(7)// [7, 7, 7] ä¸Šé¢ä»£ç è¡¨æ˜ï¼Œfillæ–¹æ³•ç”¨äºç©ºæ•°ç»„çš„åˆå§‹åŒ–éå¸¸æ–¹ä¾¿ã€‚æ•°ç»„ä¸­å·²æœ‰çš„å…ƒç´ ï¼Œä¼šè¢«å…¨éƒ¨æŠ¹å»ã€‚ fillæ–¹æ³•è¿˜å¯ä»¥æ¥å—ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºæŒ‡å®šå¡«å……çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚ 12['a', 'b', 'c'].fill(7, 1, 2)// ['a', 7, 'c'] ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œfillæ–¹æ³•ä» 1 å·ä½å¼€å§‹ï¼Œå‘åŸæ•°ç»„å¡«å…… 7ï¼Œåˆ° 2 å·ä½ä¹‹å‰ç»“æŸã€‚ æ³¨æ„ï¼Œå¦‚æœå¡«å……çš„ç±»å‹ä¸ºå¯¹è±¡ï¼Œé‚£ä¹ˆè¢«èµ‹å€¼çš„æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ·±æ‹·è´å¯¹è±¡ã€‚ 123456789let arr = new Array(3).fill({name: &quot;Mike&quot;});arr[0].name = &quot;Ben&quot;;arr// [{name: &quot;Ben&quot;}, {name: &quot;Ben&quot;}, {name: &quot;Ben&quot;}]let arr = new Array(3).fill([]);arr[0].push(5);arr// [[5], [5], [5]] 7.æ•°ç»„å®ä¾‹entries()ï¼Œkeys()å’Œvalues()ES6 æä¾›ä¸‰ä¸ªæ–°çš„æ–¹æ³•â€”â€”entries()ï¼Œkeys()å’Œvalues()â€”â€”ç”¨äºéå†æ•°ç»„ã€‚å®ƒä»¬éƒ½è¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼ˆè¯¦è§ã€ŠIteratorã€‹ä¸€ç« ï¼‰ï¼Œå¯ä»¥ç”¨for...ofå¾ªç¯è¿›è¡Œéå†ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯keys()æ˜¯å¯¹é”®åçš„éå†ã€values()æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œentries()æ˜¯å¯¹é”®å€¼å¯¹çš„éå†ã€‚ 12345678910111213141516for (let index of ['a', 'b'].keys()) { console.log(index);}// 0// 1for (let elem of ['a', 'b'].values()) { console.log(elem);}// 'a'// 'b'for (let [index, elem] of ['a', 'b'].entries()) { console.log(index, elem);}// [0, 'a']// [1, 'b'] 8.æ•°ç»„å®ä¾‹çš„ includes()Array.prototype.includesæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼ã€‚ES2016 å¼•å…¥äº†è¯¥æ–¹æ³•ã€‚ 123[1, 2, 3].includes(2) // true[1, 2, 3].includes(4) // false[1, 2, NaN].includes(NaN) // true è¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºå€’æ•°çš„ä½ç½®ï¼Œå¦‚æœè¿™æ—¶å®ƒå¤§äºæ•°ç»„é•¿åº¦ï¼ˆæ¯”å¦‚ç¬¬äºŒä¸ªå‚æ•°ä¸º-4ï¼Œä½†æ•°ç»„é•¿åº¦ä¸º3ï¼‰ï¼Œåˆ™ä¼šé‡ç½®ä¸ºä»0å¼€å§‹ã€‚ 12[1, 2, 3].includes(3, 3); // false[1, 2, 3].includes(3, -1); // true æ²¡æœ‰è¯¥æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ•°ç»„çš„indexOfæ–¹æ³•ï¼Œæ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå€¼ã€‚ 123if (arr.indexOf(el) !== -1) { // ...} indexOfæ–¹æ³•æœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼Œä¸€æ˜¯ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œå®ƒçš„å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®ï¼Œæ‰€ä»¥è¦å»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äº-1ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚äºŒæ˜¯ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹NaNçš„è¯¯åˆ¤ã€‚ 12[NaN].indexOf(NaN)// -1 includesä½¿ç”¨çš„æ˜¯ä¸ä¸€æ ·çš„åˆ¤æ–­ç®—æ³•ï¼Œå°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚ 12[NaN].includes(NaN)// true ä¸‹é¢ä»£ç ç”¨æ¥æ£€æŸ¥å½“å‰ç¯å¢ƒæ˜¯å¦æ”¯æŒè¯¥æ–¹æ³•ï¼Œå¦‚æœä¸æ”¯æŒï¼Œéƒ¨ç½²ä¸€ä¸ªç®€æ˜“çš„æ›¿ä»£ç‰ˆæœ¬ã€‚ 123456const contains = (() =&gt; Array.prototype.includes ? (arr, value) =&gt; arr.includes(value) : (arr, value) =&gt; arr.some(el =&gt; el === value))();contains(['foo', 'bar'], 'baz'); // =&gt; false å¦å¤–ï¼ŒMap å’Œ Set æ•°æ®ç»“æ„æœ‰ä¸€ä¸ªhasæ–¹æ³•ï¼Œéœ€è¦æ³¨æ„ä¸includesåŒºåˆ†ã€‚ Map ç»“æ„çš„hasæ–¹æ³•ï¼Œæ˜¯ç”¨æ¥æŸ¥æ‰¾é”®åçš„ï¼Œæ¯”å¦‚Map.prototype.has(key)ã€WeakMap.prototype.has(key)ã€Reflect.has(target, propertyKey)ã€‚ Set ç»“æ„çš„hasæ–¹æ³•ï¼Œæ˜¯ç”¨æ¥æŸ¥æ‰¾å€¼çš„ï¼Œæ¯”å¦‚Set.prototype.has(value)ã€WeakSet.prototype.has(value)ã€‚ 9.æ•°ç»„å®ä¾‹çš„ flat()ï¼ŒflatMap()æ•°ç»„çš„æˆå‘˜æœ‰æ—¶è¿˜æ˜¯æ•°ç»„ï¼ŒArray.prototype.flat()ç”¨äºå°†åµŒå¥—çš„æ•°ç»„â€œæ‹‰å¹³â€ï¼Œå˜æˆä¸€ç»´çš„æ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¯¹åŸæ•°æ®æ²¡æœ‰å½±å“ã€‚ 12[1, 2, [3, 4]].flat()// [1, 2, 3, 4] ä¸Šé¢ä»£ç ä¸­ï¼ŒåŸæ•°ç»„çš„æˆå‘˜é‡Œé¢æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œflat()æ–¹æ³•å°†å­æ•°ç»„çš„æˆå‘˜å–å‡ºæ¥ï¼Œæ·»åŠ åœ¨åŸæ¥çš„ä½ç½®ã€‚ flat()é»˜è®¤åªä¼šâ€œæ‹‰å¹³â€ä¸€å±‚ï¼Œå¦‚æœæƒ³è¦â€œæ‹‰å¹³â€å¤šå±‚çš„åµŒå¥—æ•°ç»„ï¼Œå¯ä»¥å°†flat()æ–¹æ³•çš„å‚æ•°å†™æˆä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæƒ³è¦æ‹‰å¹³çš„å±‚æ•°ï¼Œé»˜è®¤ä¸º1ã€‚ 12345[1, 2, [3, [4, 5]]].flat()// [1, 2, 3, [4, 5]][1, 2, [3, [4, 5]]].flat(2)// [1, 2, 3, 4, 5] ä¸Šé¢ä»£ç ä¸­ï¼Œflat()çš„å‚æ•°ä¸º2ï¼Œè¡¨ç¤ºè¦â€œæ‹‰å¹³â€ä¸¤å±‚çš„åµŒå¥—æ•°ç»„ã€‚ å¦‚æœä¸ç®¡æœ‰å¤šå°‘å±‚åµŒå¥—ï¼Œéƒ½è¦è½¬æˆä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥ç”¨Infinityå…³é”®å­—ä½œä¸ºå‚æ•°ã€‚ 12[1, [2, [3]]].flat(Infinity)// [1, 2, 3] å¦‚æœåŸæ•°ç»„æœ‰ç©ºä½ï¼Œflat()æ–¹æ³•ä¼šè·³è¿‡ç©ºä½ã€‚ 12[1, 2, , 4, 5].flat()// [1, 2, 4, 5] flatMap()æ–¹æ³•å¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ˆç›¸å½“äºæ‰§è¡ŒArray.prototype.map()ï¼‰ï¼Œç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œflat()æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œä¸æ”¹å˜åŸæ•°ç»„ã€‚ 123// ç›¸å½“äº [[2, 4], [3, 6], [4, 8]].flat()[2, 3, 4].flatMap((x) =&gt; [x, x * 2])// [2, 4, 3, 6, 4, 8] flatMap()åªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„ã€‚ 123// ç›¸å½“äº [[[2]], [[4]], [[6]], [[8]]].flat()[1, 2, 3, 4].flatMap(x =&gt; [[x * 2]])// [[2], [4], [6], [8]] ä¸Šé¢ä»£ç ä¸­ï¼Œéå†å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªåŒå±‚çš„æ•°ç»„ï¼Œä½†æ˜¯é»˜è®¤åªèƒ½å±•å¼€ä¸€å±‚ï¼Œå› æ­¤flatMap()è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªåµŒå¥—æ•°ç»„ã€‚ flatMap()æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªéå†å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰æ•°ç»„æˆå‘˜ã€å½“å‰æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼ˆä»é›¶å¼€å§‹ï¼‰ã€åŸæ•°ç»„ã€‚ 123arr.flatMap(function callback(currentValue[, index[, array]]) { // ...}[, thisArg]) flatMap()æ–¹æ³•è¿˜å¯ä»¥æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œç”¨æ¥ç»‘å®šéå†å‡½æ•°é‡Œé¢çš„thisã€‚ 10.æ•°ç»„çš„ç©ºä½ES6æ˜ç¡®è§„å®šå°†ç©ºä½è½¬ä¸ºundefined Array.fromæ–¹æ³•ä¼šå°†æ•°ç»„çš„ç©ºä½ï¼Œè½¬ä¸ºundefinedï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä¼šå¿½ç•¥ç©ºä½ã€‚ 12Array.from(['a',,'b'])// [ &quot;a&quot;, undefined, &quot;b&quot; ] æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰ä¹Ÿä¼šå°†ç©ºä½è½¬ä¸ºundefinedã€‚ 12[...['a',,'b']]// [ &quot;a&quot;, undefined, &quot;b&quot; ] copyWithin()ä¼šè¿ç©ºä½ä¸€èµ·æ‹·è´ã€‚ 1[,'a','b',,].copyWithin(2,0) // [,&quot;a&quot;,,&quot;a&quot;] fill()ä¼šå°†ç©ºä½è§†ä¸ºæ­£å¸¸çš„æ•°ç»„ä½ç½®ã€‚ 1new Array(3).fill('a') // [&quot;a&quot;,&quot;a&quot;,&quot;a&quot;] for...ofå¾ªç¯ä¹Ÿä¼šéå†ç©ºä½ã€‚ 123456let arr = [, ,];for (let i of arr) { console.log(1);}// 1// 1 ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„arræœ‰ä¸¤ä¸ªç©ºä½ï¼Œfor...ofå¹¶æ²¡æœ‰å¿½ç•¥å®ƒä»¬ã€‚å¦‚æœæ”¹æˆmapæ–¹æ³•éå†ï¼Œç©ºä½æ˜¯ä¼šè·³è¿‡çš„ã€‚ 11.Array.prototype.sort() çš„æ’åºç¨³å®šæ€§æ’åºç¨³å®šæ€§ï¼ˆstable sortingï¼‰æ˜¯æ’åºç®—æ³•çš„é‡è¦å±æ€§ï¼ŒæŒ‡çš„æ˜¯æ’åºå…³é”®å­—ç›¸åŒçš„é¡¹ç›®ï¼Œæ’åºå‰åçš„é¡ºåºä¸å˜ã€‚ 1234567891011121314const arr = [ 'peach', 'straw', 'apple', 'spork'];const stableSorting = (s1, s2) =&gt; { if (s1[0] &lt; s2[0]) return -1; return 1;};arr.sort(stableSorting)// [&quot;apple&quot;, &quot;peach&quot;, &quot;straw&quot;, &quot;spork&quot;] ä¸Šé¢ä»£ç å¯¹æ•°ç»„arræŒ‰ç…§é¦–å­—æ¯è¿›è¡Œæ’åºã€‚æ’åºç»“æœä¸­ï¼Œstrawåœ¨sporkçš„å‰é¢ï¼Œè·ŸåŸå§‹é¡ºåºä¸€è‡´ï¼Œæ‰€ä»¥æ’åºç®—æ³•stableSortingæ˜¯ç¨³å®šæ’åºã€‚ 1234567const unstableSorting = (s1, s2) =&gt; { if (s1[0] &lt;= s2[0]) return -1; return 1;};arr.sort(unstableSorting)// [&quot;apple&quot;, &quot;peach&quot;, &quot;spork&quot;, &quot;straw&quot;] ä¸Šé¢ä»£ç ä¸­ï¼Œæ’åºç»“æœæ˜¯sporkåœ¨strawå‰é¢ï¼Œè·ŸåŸå§‹é¡ºåºç›¸åï¼Œæ‰€ä»¥æ’åºç®—æ³•unstableSortingæ˜¯ä¸ç¨³å®šçš„ã€‚ å¸¸è§çš„æ’åºç®—æ³•ä¹‹ä¸­ï¼Œæ’å…¥æ’åºã€åˆå¹¶æ’åºã€å†’æ³¡æ’åºç­‰éƒ½æ˜¯ç¨³å®šçš„ï¼Œå †æ’åºã€å¿«é€Ÿæ’åºç­‰æ˜¯ä¸ç¨³å®šçš„ã€‚ä¸ç¨³å®šæ’åºçš„ä¸»è¦ç¼ºç‚¹æ˜¯ï¼Œå¤šé‡æ’åºæ—¶å¯èƒ½ä¼šäº§ç”Ÿé—®é¢˜ã€‚å‡è®¾æœ‰ä¸€ä¸ªå§“å’Œåçš„åˆ—è¡¨ï¼Œè¦æ±‚æŒ‰ç…§â€œå§“æ°ä¸ºä¸»è¦å…³é”®å­—ï¼Œåå­—ä¸ºæ¬¡è¦å…³é”®å­—â€è¿›è¡Œæ’åºã€‚å¼€å‘è€…å¯èƒ½ä¼šå…ˆæŒ‰åå­—æ’åºï¼Œå†æŒ‰å§“æ°è¿›è¡Œæ’åºã€‚å¦‚æœæ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œè¿™æ ·å°±å¯ä»¥è¾¾åˆ°â€œå…ˆå§“æ°ï¼Œååå­—â€çš„æ’åºæ•ˆæœã€‚å¦‚æœæ˜¯ä¸ç¨³å®šçš„ï¼Œå°±ä¸è¡Œã€‚ æ—©å…ˆçš„ ECMAScript æ²¡æœ‰è§„å®šï¼ŒArray.prototype.sort()çš„é»˜è®¤æ’åºç®—æ³•æ˜¯å¦ç¨³å®šï¼Œç•™ç»™æµè§ˆå™¨è‡ªå·±å†³å®šï¼Œè¿™å¯¼è‡´æŸäº›å®ç°æ˜¯ä¸ç¨³å®šçš„ã€‚ES2019 æ˜ç¡®è§„å®šï¼ŒArray.prototype.sort()çš„é»˜è®¤æ’åºç®—æ³•å¿…é¡»ç¨³å®šã€‚è¿™ä¸ªè§„å®šå·²ç»åšåˆ°äº†ï¼Œç°åœ¨ JavaScript å„ä¸ªä¸»è¦å®ç°çš„é»˜è®¤æ’åºç®—æ³•éƒ½æ˜¯ç¨³å®šçš„ã€‚","link":"/JavaScript/17.%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"åŸå‹ä¸åŸå‹é“¾","text":"1.prototypeJavaScriptä¸­ï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸ç”Ÿä¿±æ¥çš„ç‰¹è´¨ï¼Œç‰¹åˆ«å¼ºè°ƒï¼Œæ˜¯å‡½æ•°ï¼Œæ™®é€šå¯¹è±¡æ˜¯æ²¡æœ‰è¿™ä¸ªå±æ€§çš„ 1234567891011function Person() {}// è™½ç„¶å†™åœ¨æ³¨é‡Šé‡Œé¢ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯// prototype æ˜¯å‡½æ•°æ‰ä¼šæœ‰çš„å±æ€§ ï¼ˆå“ˆå“ˆå“ˆï¼Œçœ‹æ¥åœ¨JavaScriptä¸­å‡½æ•°æœç„¶æ˜¯æœ‰ç‰¹æƒçš„â€¦â€¦ï¼‰Person.prototype.name = &quot;Kevin&quot;;var person1 = new Person();var person2 = new Person();console.log(person1.name) // Kevinconsole.log(person2.name) // Kevin ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ„é€ å‡½æ•°Personï¼Œå¹¶ä¸”åœ¨å®ä¾‹åŸå‹ä¸Šé¢æ·»åŠ äº†ä¸€ä¸ªnameå±æ€§èµ‹å€¼ä¸º&quot;Kevin&quot;; ç„¶ååˆ†åˆ«åˆ›å»ºäº†ä¸¤ä¸ªå®ä¾‹å¯¹è±¡:person1ã€person2; å½“æˆ‘ä»¬æ‰“å°ä¸¤ä¸ªå®ä¾‹å¯¹è±¡ä¸Šnameå±æ€§æ—¶å‡è¾“å‡ºäº†Kevin(å¯ä»¥äº²è‡ªè¯•ä¸€ä¸‹)ã€‚ æˆ‘ä»¬ä¸ç¦ç–‘æƒ‘ï¼Œè¿™ä¸ªPerson.prototypeåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆåœ¨ä¸Šé¢æ·»åŠ å±æ€§ï¼Œåœ¨ æ„é€ å‡½æ•°çš„å®ä¾‹åŒ–å¯¹è±¡ä¸Šéƒ½èƒ½è®¿é—®åˆ°å‘¢ï¼Ÿ å…¶å® Personè¿™ä¸ªå‡½æ•°çš„prototypeå±æ€§æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡(å³:Person.prototypeä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡)ã€‚è¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„å®ä¾‹çš„åŸå‹ã€‚ä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„person1å’Œperson2çš„åŸå‹(å³å®ä¾‹åŒ–çš„å¯¹è±¡çš„__proto__å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹)ã€‚ é‚£ä¹ˆä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿå³ï¼š æ¯ä¸ªJavaScriptå¯¹è±¡(nullé™¤å¤–)ï¼Œåœ¨åˆ›å»ºçš„æ—¶å€™éƒ½ä¼šä¸ä¹‹å…³è”å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹ç»§æ‰¿å±æ€§ ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰ç›´æ¥åœ¨person1å’Œperson2ä¸­æ·»åŠ nameå±æ€§ ä½†æ˜¯è¿™ä¸¤ä¸ªå¯¹è±¡ å´èƒ½å¤Ÿè®¿é—®nameå±æ€§,å°±æ˜¯è¿™ä¸ªé“ç†ã€‚ æˆ‘ä»¬ç”¨ä¸€å¼ å›¾è¡¨ç¤ºæ„é€ å‡½æ•°å’Œå®ä¾‹åŸå‹ä¹‹é—´çš„å…³ç³»: å°ç»“ åœ¨JavaScriptä¸­ï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½ä¼šæœ‰ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å®ƒçš„å®ä¾‹åŸå‹å¯¹è±¡ï¼Œè€Œæ¯ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œå°±ä¼šå…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå…³è”çš„å¯¹è±¡ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ tipsï¼šnewå…³é”®å­—çš„å†…éƒ¨æ‰§è¡Œæœºåˆ¶ åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ å°†è¿™ä¸ªç©ºå¯¹è±¡çš„åŸå‹å¯¹è±¡æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹ å°†æ„é€ å‡½æ•°çš„thisæŒ‡å‘è¿™ä¸ªç©ºå¯¹è±¡å¹¶æ‰§è¡Œ è¿”å›è¿™ä¸ªç©ºå¯¹è±¡ æ‰‹å†™ä¸€ä¸ªnew 123456789function myNew(...newArgs) { const [Fn,...arg] = newAtgs; // åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡å¹¶å°†è¿™ä¸ªå¯¹è±¡çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„å®ä¾‹åŸå‹ const obj = Object.create(Fn.prototype); // å°†æ„é€ å‡½æ•°çš„thisæŒ‡å‘ç©ºå¯¹è±¡å¹¶æ‰§è¡Œæ„é€ å‡½æ•° Fn.apply(obj, arg); // è¿”å›è¿™ä¸ªå¯¹è±¡ return obj;} 2.__proto__æ¯ä¸€ä¸ªJavaScriptå¯¹è±¡(nullé™¤å¤–)ï¼Œéƒ½æœ‰ä¸€ä¸ª__proto__å±æ€§ï¼Œä½œä¸ºå®ä¾‹å¯¹è±¡å’Œå®ä¾‹åŸå‹ä¹‹é—´é“¾æ¥çš„æ¡¥æ¢ è¿™é‡Œå¼ºè°ƒï¼Œæ˜¯å¯¹è±¡ï¼ŒåŒæ ·ï¼Œå› ä¸ºå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿæœ‰è¿™ä¸ªå±æ€§ 1234567function Person() {}var person = new Person();console.log(person.__proto__ === Person.prototype); //true; æœ‰äº†ç¬¬äºŒä¸ªå±æ€§çš„å¸®åŠ©ï¼Œæˆ‘ä»¬å°±èƒ½æ›´åŠ å…¨é¢çš„ç†è§£è¿™å¼ å…³ç³»å›¾äº†ï¼š é€šè¿‡ä¸Šé¢çš„å…³ç³»å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,æ„é€ å‡½æ•°Person å’Œå®ä¾‹å¯¹è±¡person åˆ†åˆ«é€šè¿‡ prototypeå’Œ__proto__ å’Œå®ä¾‹åŸå‹Person.prototypeè¿›è¡Œå…³è”ï¼Œæ ¹æ®ç®­å¤´æŒ‡å‘ æˆ‘ä»¬ä¸ç¦è¦æœ‰ç–‘é—®ï¼šå®ä¾‹åŸå‹æ˜¯å¦æœ‰å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æˆ–è€…å®ä¾‹å‘¢ï¼Ÿ è¿™æ—¶å€™è¯¥è¯·å‡ºæˆ‘ä»¬çš„ç¬¬ä¸‰ä¸ªå±æ€§äº†ï¼šconstructor 3.constructorå®ä¾‹åŸå‹æŒ‡å‘å®ä¾‹çš„å±æ€§å€’æ˜¯æ²¡æœ‰,å› ä¸ºä¸€ä¸ªæ„é€ å‡½æ•°å¯èƒ½ä¼šç”Ÿæˆå¾ˆå¤šä¸ªå®ä¾‹ï¼Œä½†æ˜¯åŸå‹æŒ‡å‘æ„é€ å‡½æ•°çš„å±æ€§å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„constructorâ€”â€”æ¯ä¸€ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚ æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼š 1234function Person() {}console.log(Person === Person.prototype.constructor); // true å¥½äº†åˆ°è¿™é‡Œæˆ‘ä»¬å†å®Œå–„ä¸‹å…³ç³»å›¾ï¼š 4.å®ä¾‹ä¸åŸå‹å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚ æˆ‘ä»¬å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314 function Person() { } Person.prototype.name = 'Kevin'; var person = new Person(); person.name = 'Daisy'; console.log(person.name) // Daisy delete person.name; console.log(person.name) // Kevinå¤åˆ¶ä»£ç  åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®ä¾‹personæ·»åŠ äº†name å±æ€§ï¼Œå½“æˆ‘ä»¬æ‰“å°person.nameçš„æ—¶å€™ï¼Œç»“æœè‡ªç„¶ä¸ºDaisy ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº†personä¸‹é¢çš„nameå±æ€§åï¼Œè¯»å–person.nameï¼Œä¾ç„¶èƒ½å¤ŸæˆåŠŸè¾“å‡ºKevinï¼Œå®é™…æƒ…å†µæ˜¯ä» person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±æ€§å°±ä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ person.__proto__ ï¼Œä¹Ÿå°±æ˜¯ Person.prototypeä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº† name å±æ€§ï¼Œç»“æœä¸º Kevinã€‚ ä½†æ˜¯æˆ‘ä»¬ä¸ç¦æœ‰ç–‘é—®ï¼Œå¦‚æœä¸‡ä¸€æ²¡æœ‰æ‰¾åˆ°è¯¥æ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€å±‚çš„å…³ç³» åŸå‹çš„åŸå‹ 5.åŸå‹ä¸åŸå‹é“¾æˆ‘ä»¬å‰é¢æåˆ°è¿‡ï¼ŒåŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œé‚£è‚¯å®šæœ‰åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°å°±æ˜¯Object() 123const obj = new Object()obj.name = 'jiacheng';console.log(obj.name) // jiacheng å…¶å®åŸå‹å¯¹è±¡å°±æ˜¯é€šè¿‡Objectæ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œç»“åˆä¹‹å‰æˆ‘ä»¬æ‰€è¯´çš„ï¼Œå®ä¾‹__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype æ‰€ä»¥æˆ‘ä»¬å†ä¸°å¯Œä¸€ä¸‹æˆ‘ä»¬çš„å…³ç³»å›¾ï¼› åˆ°äº†è¿™é‡Œæˆ‘ä»¬å¯¹äº æ„é€ å‡½æ•°ã€å®ä¾‹å¯¹è±¡ã€å®ä¾‹åŸå‹ä¹‹é—´çš„å…³ç³»åˆæœ‰äº†è¿›ä¸€æ­¥çš„è®¤è¯†ã€‚ è¯´äº†è¿™ä¹ˆå¤šï¼Œç»ˆäºå¯ä»¥ä»‹ç»åŸå‹é“¾äº†ã€‚ 6.åŸå‹é“¾é‚£Object.prototypeçš„åŸå‹å‘¢ï¼ŸObjectæ˜¯æ ¹èŠ‚ç‚¹å¯¹è±¡ï¼Œå†å¾€ä¸ŠæŸ¥æ‰¾å°±æ˜¯null 1console.log(Object.prototype.__proto__ === null) // true ç„¶è€Œ null ç©¶ç«Ÿä»£è¡¨äº†ä»€ä¹ˆå‘¢ï¼Ÿ å¼•ç”¨é˜®ä¸€å³°è€å¸ˆçš„ ã€Šundefinedä¸nullçš„åŒºåˆ«ã€‹ å°±æ˜¯ï¼š null è¡¨ç¤ºâ€œæ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚ æ‰€ä»¥ Object.prototype.proto çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚ æ‰€ä»¥æŸ¥æ‰¾å±æ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚ æˆ‘ä»¬å¯ä»¥å°†null ä¹ŸåŠ å…¥æœ€åçš„å…³ç³»å›¾ä¸­ï¼Œè¿™æ ·å°±æ¯”è¾ƒå®Œæ•´äº†ã€‚ ä¸Šå›¾ä¸­ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ï¼Œä¹Ÿå°±æ˜¯çº¢è‰²çš„è¿™æ¡çº¿ æ¢å¥è¯æ¥è¯´ï¼ŒåŸå‹é“¾å°±æ˜¯__proto__è¿™ä¸ªå±æ€§è¿æ¥çš„è·¯å¾„ 7.è¡¥å……æœ€åï¼Œè¡¥å……ä¸‰ç‚¹å¤§å®¶å¯èƒ½ä¸ä¼šæ³¨æ„åˆ°çš„åœ°æ–¹ï¼š constructoré¦–å…ˆæ˜¯constructorï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š 123456function Person() {}var person = new Person();console.log(person.constructor === Person); // true å½“è·å–person.constructoræ—¶ï¼Œå…¶å® person ä¸­å¹¶æ²¡æœ‰constructor å±æ€§,å½“ä¸èƒ½è¯»å–åˆ°constructorå±æ€§æ—¶ï¼Œä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ Person.prototypeä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š 1person.constructor === Person.prototype.constructor __proto__å…¶æ¬¡æ˜¯ proto ï¼Œç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŸå‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äº Person.prototype ä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäº Object.prototype ï¼Œä¸å…¶è¯´æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª getter/setterï¼Œå½“ä½¿ç”¨ obj.proto æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›äº† Object.getPrototypeOf(obj)ã€‚ çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿæœ€åæ˜¯å…³äºç»§æ‰¿ï¼Œå‰é¢æˆ‘ä»¬è®²åˆ°â€œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€˜ç»§æ‰¿â€™å±æ€§â€ï¼Œå®é™…ä¸Šï¼Œç»§æ‰¿æ˜¯ä¸€ä¸ªååˆ†å…·æœ‰è¿·æƒ‘æ€§çš„è¯´æ³•ï¼Œå¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­çš„è¯ï¼Œå°±æ˜¯ï¼š ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ JavaScript é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼ŒJavaScript åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ï¼Œæ‰€ä»¥ä¸å…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚ æ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘æˆ‘ä»¬çŸ¥é“æ„é€ å‡½æ•°çš„prototypeå±æ€§æŒ‡å‘å®ƒçš„å®ä¾‹åŸå‹ï¼Œä½†æ„é€ å‡½æ•°åŒæ ·æ˜¯é€šè¿‡Function()è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºæ¥çš„ï¼Œæ‰€ä»¥å®ƒçš„__proto__å±æ€§æŒ‡å‘Function.prototype 1console.log(fn.__proto__ === Function.prototype); // true åŒæ ·çš„Objectå’ŒFunctionçš„__proto__å±æ€§ä¹Ÿæ˜¯æŒ‡å‘Function.prototype 12console.log(Object.__proto__ === Function.prototype); // trueconsole.log(Function.__proto__ === Function.prototype); // true 8.ç»ƒä¹ é¢˜ç¬¬ä¸€é¢˜1234567891011121314151617var F = function() {};Object.prototype.a = function() { console.log('a');};Function.prototype.b = function() { console.log('b');}var f = new F();f.a(); // af.b(); // errorF.a(); // aF.b(); // b ç¬¬äºŒé¢˜1234567891011121314var A = function() {};A.prototype.n = 1;var b = new A();A.prototype = { n: 2, m: 3}var c = new A();console.log(b.n); // 1console.log(b.m); // undefinedconsole.log(c.n); // 2console.log(c.m); // 3 ç¬¬ä¸‰é¢˜12345678910var foo = {}, F = function(){};Object.prototype.a = 'value a';Function.prototype.b = 'value b';console.log(foo.a); // value aconsole.log(foo.b); // undefinedconsole.log(F.a); // value aconsole.log(F.b); // value b ç¬¬å››é¢˜12345678910111213141516function A() {}function B(a) { this.a = a; // æœ‰å®ä¾‹å±æ€§æ—¶ï¼Œè®¿é—®ä¼šä¼˜å…ˆè°ƒç”¨å®ä¾‹å±æ€§ï¼Œç„¶åè°ƒç”¨åŸå‹ä¸Šçš„å±æ€§}function C(a) { if (a) { this.a = a; }}A.prototype.a = 1;B.prototype.a = 1;C.prototype.a = 1;console.log(new A().a); // 1console.log(new B().a); // undefinedconsole.log(new C(2).a); // 2 ç¬¬äº”é¢˜1console.log(123['toString'].length + 123) // 124","link":"/JavaScript/19.%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/"},{"title":"å¯¹è±¡çš„æ‰©å±•","text":"1.å±æ€§çš„ç®€æ´è¡¨ç¤ºæ³•ES6å…è®¸åœ¨å¤§æ‹¬å·é‡Œé¢ï¼Œç›´æ¥å†™å…¥å˜é‡å’Œå‡½æ•°ï¼Œä½œä¸ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³• 1234567const foo = 'bar';const baz = {foo};baz // {foo: &quot;bar&quot;}// ç­‰åŒäºconst baz = {foo: foo}; å±æ€§çš„èµ‹å€¼å™¨ï¼ˆsetterï¼‰å’Œå–å€¼å™¨ï¼ˆgetterï¼‰ï¼Œäº‹å®ä¸Šä¹Ÿæ˜¯é‡‡ç”¨è¿™ç§å†™æ³•ã€‚ 1234567891011121314const cart = { _wheels: 4, get wheels () { return this._wheels; }, set wheels (value) { if (value &lt; this._wheels) { throw new Error('æ•°å€¼å¤ªå°äº†ï¼'); } this._wheels = value; }} 2.å±æ€§è¡¨è¾¾å¼JavaScript å®šä¹‰å¯¹è±¡çš„å±æ€§ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ã€‚ 12345// æ–¹æ³•ä¸€obj.foo = true;// æ–¹æ³•äºŒobj['a' + 'bc'] = 123; ä¸Šé¢ä»£ç çš„æ–¹æ³•ä¸€æ˜¯ç›´æ¥ç”¨æ ‡è¯†ç¬¦ä½œä¸ºå±æ€§åï¼Œæ–¹æ³•äºŒæ˜¯ç”¨è¡¨è¾¾å¼ä½œä¸ºå±æ€§åï¼Œè¿™æ—¶è¦å°†è¡¨è¾¾å¼æ”¾åœ¨æ–¹æ‹¬å·ä¹‹å†…ã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨å­—é¢é‡æ–¹å¼å®šä¹‰å¯¹è±¡ï¼ˆä½¿ç”¨å¤§æ‹¬å·ï¼‰ï¼Œåœ¨ ES5 ä¸­åªèƒ½ä½¿ç”¨æ–¹æ³•ä¸€ï¼ˆæ ‡è¯†ç¬¦ï¼‰å®šä¹‰å±æ€§ã€‚ 1234var obj = { foo: true, abc: 123}; ES6 å…è®¸å­—é¢é‡å®šä¹‰å¯¹è±¡æ—¶ï¼Œç”¨æ–¹æ³•äºŒï¼ˆè¡¨è¾¾å¼ï¼‰ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼Œå³æŠŠè¡¨è¾¾å¼æ”¾åœ¨æ–¹æ‹¬å·å†…ã€‚ 123456let propKey = 'foo';let obj = { [propKey]: true, ['a' + 'bc']: 123}; 3.å±æ€§çš„å¯æšä¸¾æ€§å’Œéå†å¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæè¿°å¯¹è±¡ï¼ˆDescriptorï¼‰ï¼Œç”¨æ¥æ§åˆ¶è¯¥å±æ€§çš„è¡Œä¸ºã€‚Object.getOwnPropertyDescriptoræ–¹æ³•å¯ä»¥è·å–è¯¥å±æ€§çš„æè¿°å¯¹è±¡ã€‚ 12345678let obj = { foo: 123 };Object.getOwnPropertyDescriptor(obj, 'foo')// {// value: 123,// writable: true,// enumerable: true,// configurable: true// } ç›®å‰ï¼Œæœ‰å››ä¸ªæ“ä½œä¼šå¿½ç•¥enumerableä¸ºfalseçš„å±æ€§ã€‚ for...inå¾ªç¯ï¼šåªéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾çš„å±æ€§ã€‚ Object.keys()ï¼šè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§çš„é”®åã€‚ JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚ Object.assign()ï¼š å¿½ç•¥enumerableä¸ºfalseçš„å±æ€§ï¼Œåªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚ è¿™å››ä¸ªæ“ä½œä¹‹ä¸­ï¼Œå‰ä¸‰ä¸ªæ˜¯ ES5 å°±æœ‰çš„ï¼Œæœ€åä¸€ä¸ªObject.assign()æ˜¯ ES6 æ–°å¢çš„ã€‚å…¶ä¸­ï¼Œåªæœ‰for...inä¼šè¿”å›ç»§æ‰¿çš„å±æ€§ï¼Œå…¶ä»–ä¸‰ä¸ªæ–¹æ³•éƒ½ä¼šå¿½ç•¥ç»§æ‰¿çš„å±æ€§ï¼Œåªå¤„ç†å¯¹è±¡è‡ªèº«çš„å±æ€§ã€‚å®é™…ä¸Šï¼Œå¼•å…¥â€œå¯æšä¸¾â€ï¼ˆenumerableï¼‰è¿™ä¸ªæ¦‚å¿µçš„æœ€åˆç›®çš„ï¼Œå°±æ˜¯è®©æŸäº›å±æ€§å¯ä»¥è§„é¿æ‰for...inæ“ä½œï¼Œä¸ç„¶æ‰€æœ‰å†…éƒ¨å±æ€§å’Œæ–¹æ³•éƒ½ä¼šè¢«éå†åˆ°ã€‚æ¯”å¦‚ï¼Œå¯¹è±¡åŸå‹çš„toStringæ–¹æ³•ï¼Œä»¥åŠæ•°ç»„çš„lengthå±æ€§ï¼Œå°±é€šè¿‡â€œå¯æšä¸¾æ€§â€ï¼Œä»è€Œé¿å…è¢«for...inéå†åˆ°ã€‚ 12345Object.getOwnPropertyDescriptor(Object.prototype, 'toString').enumerable// falseObject.getOwnPropertyDescriptor([], 'length').enumerable// false ä¸Šé¢ä»£ç ä¸­ï¼ŒtoStringå’Œlengthå±æ€§çš„enumerableéƒ½æ˜¯falseï¼Œå› æ­¤for...inä¸ä¼šéå†åˆ°è¿™ä¸¤ä¸ªç»§æ‰¿è‡ªåŸå‹çš„å±æ€§ã€‚ å¦å¤–ï¼ŒES6 è§„å®šï¼Œæ‰€æœ‰ Class çš„åŸå‹çš„æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„ã€‚ 12Object.getOwnPropertyDescriptor(class {foo() {}}.prototype, 'foo').enumerable// false æ€»çš„æ¥è¯´ï¼Œæ“ä½œä¸­å¼•å…¥ç»§æ‰¿çš„å±æ€§ä¼šè®©é—®é¢˜å¤æ‚åŒ–ï¼Œå¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬åªå…³å¿ƒå¯¹è±¡è‡ªèº«çš„å±æ€§ã€‚æ‰€ä»¥ï¼Œå°½é‡ä¸è¦ç”¨for...inå¾ªç¯ï¼Œè€Œç”¨Object.keys()ä»£æ›¿ã€‚ å¯ä»¥é€šè¿‡Object.defineProperty()æ¥åˆ›å»ºå¯¹è±¡å±æ€§çš„æè¿° 1234Object.defineProperty({}, 'invisible', { enumerable: false, value: 'hello'}) 4.å±æ€§çš„éå†ES6 ä¸€å…±æœ‰ 5 ç§æ–¹æ³•å¯ä»¥éå†å¯¹è±¡çš„å±æ€§ã€‚ ï¼ˆ1ï¼‰forâ€¦in for...inå¾ªç¯éå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å« Symbol å±æ€§ï¼‰ã€‚ ï¼ˆ2ï¼‰Object.keys(obj) Object.keysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…æ‹¬å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ˆä¸å« Symbol å±æ€§ï¼‰çš„é”®åã€‚ ï¼ˆ3ï¼‰Object.getOwnPropertyNames(obj) Object.getOwnPropertyNamesè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å±æ€§ï¼ˆä¸å« Symbol å±æ€§ï¼Œä½†æ˜¯åŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ï¼‰çš„é”®åã€‚ ï¼ˆ4ï¼‰Object.getOwnPropertySymbols(obj) Object.getOwnPropertySymbolsè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰ Symbol å±æ€§çš„é”®åã€‚ ï¼ˆ5ï¼‰Reflect.ownKeys(obj) Reflect.ownKeysè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰é”®åï¼Œä¸ç®¡é”®åæ˜¯ Symbol æˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ã€‚ ä»¥ä¸Šçš„ 5 ç§æ–¹æ³•éå†å¯¹è±¡çš„é”®åï¼Œéƒ½éµå®ˆåŒæ ·çš„å±æ€§éå†çš„æ¬¡åºè§„åˆ™ã€‚ é¦–å…ˆéå†æ‰€æœ‰æ•°å€¼é”®ï¼ŒæŒ‰ç…§æ•°å€¼å‡åºæ’åˆ—ã€‚ å…¶æ¬¡éå†æ‰€æœ‰å­—ç¬¦ä¸²é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—ã€‚ æœ€åéå†æ‰€æœ‰ Symbol é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—ã€‚ 12Reflect.ownKeys({ [Symbol()]:0, b:0, 10:0, 2:0, a:0 })// ['2', '10', 'b', 'a', Symbol()] ä¸Šé¢ä»£ç ä¸­ï¼ŒReflect.ownKeysæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†å‚æ•°å¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚è¿™ä¸ªæ•°ç»„çš„å±æ€§æ¬¡åºæ˜¯è¿™æ ·çš„ï¼Œé¦–å…ˆæ˜¯æ•°å€¼å±æ€§2å’Œ10ï¼Œå…¶æ¬¡æ˜¯å­—ç¬¦ä¸²å±æ€§bå’Œaï¼Œæœ€åæ˜¯ Symbol å±æ€§ã€‚ 5.Object.is()ES5 æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œåªæœ‰ä¸¤ä¸ªè¿ç®—ç¬¦ï¼šç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰å’Œä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ã€‚å®ƒä»¬éƒ½æœ‰ç¼ºç‚¹ï¼Œå‰è€…ä¼šè‡ªåŠ¨è½¬æ¢æ•°æ®ç±»å‹ï¼Œåè€…çš„NaNä¸ç­‰äºè‡ªèº«ï¼Œä»¥åŠ+0ç­‰äº-0ã€‚JavaScript ç¼ºä¹ä¸€ç§è¿ç®—ï¼Œåœ¨æ‰€æœ‰ç¯å¢ƒä¸­ï¼Œåªè¦ä¸¤ä¸ªå€¼æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬å°±åº”è¯¥ç›¸ç­‰ã€‚ ES6 æå‡ºâ€œSame-value equalityâ€ï¼ˆåŒå€¼ç›¸ç­‰ï¼‰ç®—æ³•ï¼Œç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚Object.iså°±æ˜¯éƒ¨ç½²è¿™ä¸ªç®—æ³•çš„æ–°æ–¹æ³•ã€‚å®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸ä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ===ï¼‰çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´ã€‚ 1234Object.is('foo', 'foo')// trueObject.is({}, {})// false ä¸åŒä¹‹å¤„åªæœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯+0ä¸ç­‰äº-0ï¼ŒäºŒæ˜¯NaNç­‰äºè‡ªèº«ã€‚ 12345+0 === -0 //trueNaN === NaN // falseObject.is(+0, -0) // falseObject.is(NaN, NaN) // true 6.Object.assign()Object.assign()æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰ã€‚ 1234567const target = { a: 1 };const source1 = { b: 2 };const source2 = { c: 3 };Object.assign(target, source1, source2);target // {a:1, b:2, c:3} Object.assign()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ã€‚ æ³¨æ„ï¼Œå¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œæˆ–å¤šä¸ªæºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚ 1234567const target = { a: 1, b: 1 };const source1 = { b: 2, c: 2 };const source2 = { c: 3 };Object.assign(target, source1, source2);target // {a:1, b:2, c:3} 7.Object.getOwnPropertyDescriptors()ES2017 å¼•å…¥äº†Object.getOwnPropertyDescriptors()æ–¹æ³•ï¼Œè¿”å›æŒ‡å®šå¯¹è±¡æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆéç»§æ‰¿å±æ€§ï¼‰çš„æè¿°å¯¹è±¡ã€‚ 12345678910111213141516const obj = { foo: 123, get bar() { return 'abc' }};Object.getOwnPropertyDescriptors(obj)// { foo:// { value: 123,// writable: true,// enumerable: true,// configurable: true },// bar:// { get: [Function: get bar],// set: undefined,// enumerable: true,// configurable: true } } 8.__proto__ï¼ŒObject.setPrototypeOf()ï¼ŒObject.getPrototypeOf()__proto__å±æ€§__proto__å±æ€§ï¼ˆå‰åå„ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼‰ï¼Œç”¨æ¥è¯»å–æˆ–è®¾ç½®å½“å‰å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨ï¼ˆåŒ…æ‹¬ IE11ï¼‰éƒ½éƒ¨ç½²äº†è¿™ä¸ªå±æ€§ã€‚ 123456789// es5 çš„å†™æ³•const obj = { method: function() { ... }};obj.__proto__ = someOtherObj;// es6 çš„å†™æ³•var obj = Object.create(someOtherObj);obj.method = function() { ... }; è¯¥å±æ€§æ²¡æœ‰å†™å…¥ ES6 çš„æ­£æ–‡ï¼Œè€Œæ˜¯å†™å…¥äº†é™„å½•ï¼ŒåŸå› æ˜¯__proto__å‰åçš„åŒä¸‹åˆ’çº¿ï¼Œè¯´æ˜å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ­£å¼çš„å¯¹å¤–çš„ APIï¼Œåªæ˜¯ç”±äºæµè§ˆå™¨å¹¿æ³›æ”¯æŒï¼Œæ‰è¢«åŠ å…¥äº† ES6ã€‚æ ‡å‡†æ˜ç¡®è§„å®šï¼Œåªæœ‰æµè§ˆå™¨å¿…é¡»éƒ¨ç½²è¿™ä¸ªå±æ€§ï¼Œå…¶ä»–è¿è¡Œç¯å¢ƒä¸ä¸€å®šéœ€è¦éƒ¨ç½²ï¼Œè€Œä¸”æ–°çš„ä»£ç æœ€å¥½è®¤ä¸ºè¿™ä¸ªå±æ€§æ˜¯ä¸å­˜åœ¨çš„ã€‚å› æ­¤ï¼Œæ— è®ºä»è¯­ä¹‰çš„è§’åº¦ï¼Œè¿˜æ˜¯ä»å…¼å®¹æ€§çš„è§’åº¦ï¼Œéƒ½ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸‹é¢çš„Object.setPrototypeOf()ï¼ˆå†™æ“ä½œï¼‰ã€Object.getPrototypeOf()ï¼ˆè¯»æ“ä½œï¼‰ã€Object.create()ï¼ˆç”Ÿæˆæ“ä½œï¼‰ä»£æ›¿ã€‚ Object.setPrototypeOf()Object.setPrototypeOfæ–¹æ³•çš„ä½œç”¨ä¸__proto__ç›¸åŒï¼Œç”¨æ¥è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ï¼Œè¿”å›å‚æ•°å¯¹è±¡æœ¬èº«ã€‚å®ƒæ˜¯ ES6 æ­£å¼æ¨èçš„è®¾ç½®åŸå‹å¯¹è±¡çš„æ–¹æ³•ã€‚ 12345// æ ¼å¼Object.setPrototypeOf(object, prototype)// ç”¨æ³•const o = Object.setPrototypeOf({}, null); è¯¥æ–¹æ³•ç­‰åŒäºä¸‹é¢çš„å‡½æ•°ã€‚ 1234function setPrototypeOf(obj, proto) { obj.__proto__ = proto; return obj;} ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 12345678910let proto = {};let obj = { x: 10 };Object.setPrototypeOf(obj, proto);proto.y = 20;proto.z = 40;obj.x // 10obj.y // 20obj.z // 40 ä¸Šé¢ä»£ç å°†protoå¯¹è±¡è®¾ä¸ºobjå¯¹è±¡çš„åŸå‹ï¼Œæ‰€ä»¥ä»objå¯¹è±¡å¯ä»¥è¯»å–protoå¯¹è±¡çš„å±æ€§ã€‚ å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºå¯¹è±¡ã€‚ä½†æ˜¯ç”±äºè¿”å›çš„è¿˜æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ‰€ä»¥è¿™ä¸ªæ“ä½œä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæœã€‚ 123Object.setPrototypeOf(1, {}) === 1 // trueObject.setPrototypeOf('foo', {}) === 'foo' // trueObject.setPrototypeOf(true, {}) === true // true ç”±äºundefinedå’Œnullæ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯undefinedæˆ–nullï¼Œå°±ä¼šæŠ¥é”™ã€‚ 12345Object.setPrototypeOf(undefined, {})// TypeError: Object.setPrototypeOf called on null or undefinedObject.setPrototypeOf(null, {})// TypeError: Object.setPrototypeOf called on null or undefined Object.getPrototypeOf()è¯¥æ–¹æ³•ä¸Object.setPrototypeOfæ–¹æ³•é…å¥—ï¼Œç”¨äºè¯»å–ä¸€ä¸ªå¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚ 1Object.getPrototypeOf(obj); ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚ 123456789101112function Rectangle() { // ...}const rec = new Rectangle();Object.getPrototypeOf(rec) === Rectangle.prototype// trueObject.setPrototypeOf(rec, Object.prototype);Object.getPrototypeOf(rec) === Rectangle.prototype// false 9.Object.keys()ï¼ŒObject.values()ï¼ŒObject.entries()ES5 å¼•å…¥äº†Object.keysæ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯å‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†ï¼ˆenumerableï¼‰å±æ€§çš„é”®åã€‚ 123var obj = { foo: 'bar', baz: 42 };Object.keys(obj)// [&quot;foo&quot;, &quot;baz&quot;] ES2017 å¼•å…¥äº†è·ŸObject.keysé…å¥—çš„Object.valueså’ŒObject.entriesï¼Œä½œä¸ºéå†ä¸€ä¸ªå¯¹è±¡çš„è¡¥å……æ‰‹æ®µï¼Œä¾›for...ofå¾ªç¯ä½¿ç”¨ã€‚ 1234567891011121314let {keys, values, entries} = Object;let obj = { a: 1, b: 2, c: 3 };for (let key of keys(obj)) { console.log(key); // 'a', 'b', 'c'}for (let value of values(obj)) { console.log(value); // 1, 2, 3}for (let [key, value] of entries(obj)) { console.log([key, value]); // ['a', 1], ['b', 2], ['c', 3]} 10.Object.fromEntries()Object.fromEntries()æ–¹æ³•æ˜¯Object.entries()çš„é€†æ“ä½œï¼Œç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡ã€‚ 12345Object.fromEntries([ ['foo', 'bar'], ['baz', 42]])// { foo: &quot;bar&quot;, baz: 42 } è¯¥æ–¹æ³•çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯å°†é”®å€¼å¯¹çš„æ•°æ®ç»“æ„è¿˜åŸä¸ºå¯¹è±¡ï¼Œå› æ­¤ç‰¹åˆ«é€‚åˆå°† Map ç»“æ„è½¬ä¸ºå¯¹è±¡ã€‚ 12345678910111213// ä¾‹ä¸€const entries = new Map([ ['foo', 'bar'], ['baz', 42]]);Object.fromEntries(entries)// { foo: &quot;bar&quot;, baz: 42 }// ä¾‹äºŒconst map = new Map().set('foo', true).set('bar', false);Object.fromEntries(map)// { foo: true, bar: false } è¯¥æ–¹æ³•çš„ä¸€ä¸ªç”¨å¤„æ˜¯é…åˆURLSearchParamså¯¹è±¡ï¼Œå°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡ã€‚ 12Object.fromEntries(new URLSearchParams('foo=bar&amp;baz=qux'))// { foo: &quot;bar&quot;, baz: &quot;qux&quot; }","link":"/JavaScript/18.%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"åŸºç¡€è¯­æ³•æ•´ç†","text":"1.æ•°æ®ç±»å‹JavaScriptæ•°æ®ç±»å‹åŒ…æ‹¬7ç§åŸºæœ¬ç±»å‹å’Œ1ç§å¼•ç”¨ç±»å‹ åŸºæœ¬ç±»å‹ Number JavaScriptçš„Numberç±»å‹æ˜¯é‡‡ç”¨IEEE754æ ¼å¼æ¥è¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹çš„å€¼ï¼ŒNumberç±»å‹çš„å€¼ä¸€èˆ¬é»˜è®¤æ˜¯åè¿›åˆ¶è¡¨ç¤ºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è¡¨ç¤ºå…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶ä»¥0ä¸ºé¦–ä½ï¼Œåå…­è¿›åˆ¶ä»¥0xä¸ºé¦–ä½ï¼Œä½†æ— è®ºæ˜¯å‡ è¿›åˆ¶ï¼Œåœ¨è¿ç®—æ—¶éƒ½æ˜¯ä»¥åè¿›åˆ¶çš„æ–¹å¼è¿›è¡Œè¿ç®— åŒç²¾åº¦64ä½æµ®ç‚¹æ ¼å¼ æ•°å€¼èŒƒå›´ï¼š-2^53-1~2^53-1 æµ®ç‚¹æ•°å€¼ï¼šæµ®ç‚¹æ•°å€¼æœ€é«˜ç²¾åº¦æ˜¯17ä½ï¼Œè¶…å‡ºçš„ä½æ•°ä¼šè¢«æˆªæ‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ0.1+0.2 !== 0.3ï¼Œåœ¨è¿ç®—æ—¶ï¼Œå…ˆå°†æ•°å€¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œè¿ç®—ç»“æŸåè½¬æ¢å›æ¥ï¼Œæœ€åå¾—åˆ°çš„å€¼æ˜¯0.300000000004,æ‰€ä»¥ä¸ç›¸ç­‰ NaNï¼šNaNç”¨äºè¡¨ç¤ºä¸€ä¸ªæœ¬æ¥è¦è¿”å›æ•°å€¼çš„æ“ä½œæ•°æœªè¿”å›æ•°å€¼çš„æƒ…å†µï¼Œä»¥é˜²æ­¢æŠ›å‡ºé”™è¯¯ï¼ŒNaNä¸ä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬å…¶æœ¬èº«ã€‚isNaN()è¿™ä¸ªå‡½æ•°å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå‚æ•°æ˜¯å¦æ˜¯æ•°å€¼ï¼Œè‹¥ä¸æ˜¯æ•°å€¼ï¼Œåˆ™ä¼šå°è¯•è½¬æ¢ä¸ºæ•°å€¼ï¼Œæ— æ³•è½¬æ¢çš„æƒ…å†µä¼šè¿”å›falseï¼Œè¿™ä¸ªå‡½æ•°é€‚ç”¨äºå¯¹è±¡ï¼Œåœ¨å‚æ•°æ˜¯å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šé¦–å…ˆè°ƒç”¨å¯¹è±¡çš„valueof()æ–¹æ³•ï¼Œå¦‚æœä¸èƒ½è½¬ä¸ºæ•°å€¼ï¼Œåˆ™ä¼šè°ƒç”¨toString()æ–¹æ³• æ•°å€¼çš„è½¬æ¢ï¼šè¿™é‡ŒæŒ‡æ˜¾ç¤ºè½¬æ¢ï¼Œä¸»è¦é€šè¿‡ä¸‰ä¸ªæ–¹æ³•è¿›è¡Œè½¬æ¢ï¼šNumber() parseInt()ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è½¬æ¢çš„å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¿›åˆ¶ï¼ŒparseFloat()åªä¼šè½¬æ¢ä¸ºåè¿›åˆ¶ String å­—ç¬¦ä¸²æ˜¯éå¸¸å¸¸ç”¨çš„ç±»å‹ï¼Œä¸»è¦éœ€è¦æ³¨æ„ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœéœ€è¦æ”¹å˜ä¸€ä¸ªå­—ç¬¦ä¸²çš„å€¼ï¼Œé‚£ä¹ˆå°±éœ€è¦é”€æ¯åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚ç¬¬äºŒä¸ªæ˜¯åœ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼ŒtoString()å’ŒString()ï¼Œåè€…å…¶å®æ˜¯è°ƒç”¨å‰è€… Boolean Booleanåªæœ‰ä¸¤ä¸ªå€¼ï¼Œå³trueå’Œfalseï¼Œè¯¥ç±»å‹çš„å­—é¢å€¼æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œåªæœ‰å…¨å°å†™æ‰æ˜¯booleançš„å€¼ï¼Œå…¶ä»–çš„éƒ½æ˜¯æ ‡è¯†ç¬¦ã€‚Booleanç±»å‹æœ¬èº«åŒ…å«ä¸€ä¸ªBoolean()æ–¹æ³•ï¼Œå¯ä»¥å°†å…¶ä»–ç±»å‹è½¬æ¢ä¸ºBooleanç±»å‹ã€‚ Symbol(ES6) ES6æ–°å¢çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¯ä»¥é¿å…å¯¹è±¡å±æ€§å‘½åå†²çªï¼Œå¤šä¸ªæ¨¡å—å…±äº«ç‹¬ä¸€çš„å±æ€§ BigInt(ES2020) ç”¨äºè¡¨ç¤ºå¯¹ä»»æ„é•¿åº¦æ•´æ•°çš„æ”¯æŒ åˆ›å»ºBigIntï¼šåœ¨ä¸€ä¸ªæ•´æ•°å­—é¢é‡åé¢åŠ næˆ–è€…è°ƒç”¨BigIntå‡½æ•° ä¸è¦æŠŠBigIntå’ŒNumberæ•°å­—ç±»å‹æ··ç”¨ BigIntä¸æ”¯æŒä¸€å…ƒåŠ æ³• Null nullçš„ä¸»è¦ä½œç”¨æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦å­˜å‚¨äº†å¯¹è±¡çš„å¼•ç”¨ ä½¿ç”¨typeofæ“ä½œç¬¦å¯¹nullå€¼è¿›è¡Œæ£€æµ‹æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªobjectå€¼ï¼Œè¿™æ˜¯å› ä¸ºnullä»é€»è¾‘çš„è§’åº¦æ¥è¯´è¡¨ç¤ºä¸€ä¸ªç©ºæŒ‡é’ˆå¯¹è±¡ã€‚ åœ¨åˆ›å»ºä¸€ä¸ªå˜é‡ç”¨æ¥ä¿å­˜å¯¹è±¡çš„æ—¶å€™ï¼Œå»ºè®®å°†å˜é‡åˆå§‹åŒ–ä¸ºnull undefined ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå·²ç»å£°æ˜ä½†æ²¡æœ‰è¢«åˆå§‹åŒ–çš„å˜é‡ å¼•ç”¨ç±»å‹ object æœ‰ä¸€å¥è¯å«åšJavaScriptä¸€åˆ‡çš†å¯¹è±¡ï¼Œå¯¹è±¡æ˜¯JavaScriptçš„åŸºç¡€ æ‰€å…·æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼š constructorï¼šæ‰§å‘å¯¹åº”çš„æ„é€ å‡½æ•° hasOwnProperty()ï¼šç”¨æ¥æ£€æŸ¥å½“å‰å¯¹è±¡å®ä¾‹(ä¸æ˜¯åŸå‹)æ˜¯å¦å…·æœ‰æŸä¸ªå±æ€§ isPrototypeOf()ï¼šæ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸­ prototypeIsEnumberable()ï¼šæ˜¯å¦å…è®¸for-inæšä¸¾ toLocalString() toString() valueOf() åŒ…æ‹¬äº†Array Function Date RegExp Error ç±»å‹åˆ¤æ–­ typeof()ï¼šé™¤äº†nullä»¥å¤–çš„åŸºç¡€ç±»å‹éƒ½èƒ½åˆ¤æ–­ï¼Œå¼•ç”¨ç±»å‹å¯ä»¥åˆ¤æ–­function Object.prototype.toString.call()ï¼šå¯ä»¥æ£€æµ‹å‡ºæ‰€æœ‰æ•°æ®ç±»å‹ instanceofï¼šæŸ¥æ‰¾è¯¥å±æ€§æ˜¯å¦å±äºåŸå‹é“¾ä¸Šçš„æŸä¸ªæ„é€ å‡½æ•° constructorï¼šé€šè¿‡æ„é€ å‡½æ•°å»åˆ¤æ–­ 2.æ·±æ‹·è´ä¸æµ…æ‹·è´ æ·±æ‹·è´å±‚å±‚æ‹·è´ï¼Œæµ…æ‹·è´åªæ‹·è´ç¬¬ä¸€å±‚ï¼Œæ·±å±‚åªæ˜¯å¼•ç”¨ åœ¨æ·±æ‹·è´ä¸­ï¼Œæ–°å¯¹è±¡ä¸­çš„æ›´æ”¹ä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ã€‚è€Œæµ…æ‹·è´æ–°å¯¹è±¡ä¸­çš„æ›´æ”¹åŸå§‹å¯¹è±¡ä¹Ÿä¼šè·Ÿç€æ›´æ”¹ æ·±æ‹·è´ä¸­ï¼ŒåŸå§‹å¯¹è±¡ä¸ä¸æ–°å¯¹è±¡å…±äº«ç›¸åŒçš„å±æ€§ï¼Œæµ…æ‹·è´ä¸­ï¼Œä»–ä»¬å…·æœ‰ç›¸åŒçš„å±æ€§ 3.é—­åŒ…é—­åŒ…æ˜¯ä¸€ä¸ªèƒ½è¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•° ä¼˜ç‚¹ï¼šä½¿å¤–éƒ¨èƒ½è®¿é—®åˆ°å±€éƒ¨çš„å˜é‡ ç¼ºç‚¹ï¼šä½¿ç”¨ä¸å½“å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼é—®é¢˜ 1234567891011function a () { let num = 0 // è¿™æ˜¯ä¸ªé—­åŒ… return function () { return ++num }}const b = a()console.log(b()) // 1console.log(b()) // 2 4.å˜é‡æå‡ä½¿ç”¨varå…³é”®å­—å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ 12345678console.log(name) // undefinedvar name = &quot;hjc&quot;if(false) { var age = 23;}console.log(age) // undefined å‡½æ•°æå‡ 1234567console.log(fun) // function fun() {}function fun() {}if (false) { function fun2(){}}console.log(fun2) // undefined ä¸ä¼šæŠ¥é”™ ä¼˜å…ˆçº§ï¼šå‡½æ•°æå‡ &gt; å˜é‡æå‡ 5.isNaNå’ŒNumber.isNaN()çš„åŒºåˆ« isNaNï¼šé™¤äº†åˆ¤æ–­NaNä¸ºtrueï¼Œè¿˜ä¼šæŠŠä¸èƒ½è½¬æˆæ•°å­—çš„åˆ¤æ–­ä¸ºtrue Number.isNaNï¼šåªæœ‰åˆ¤æ–­NaNæ—¶ä¸ºtrueï¼Œå…¶ä½™æƒ…å†µéƒ½ä¸ºfalse 6.éå†å¯¹è±¡æ—¶ï¼Œå¦‚ä½•é¿å…éå†å‡ºåŸå‹ä¸Šçš„å±æ€§ ä½¿ç”¨hasOwnProperty() 1234567891011121314function Person(name) { this.name = name;}Person.prototype.age = 22;const person = new Person('jiacheng');for(const key in person) { console.log(key) // name age}for(const key in person) { person.hasoOwnProperty(key) &amp;&amp; console.log(key) // name} 7.valueofä¸toString valueOfåå‘äºè¿ç®—ï¼ŒtoStringåå‘äºæ˜¾ç¤º å¯¹è±¡è½¬æ¢æ—¶ï¼Œä¼šä¼˜å…ˆè°ƒç”¨toString å¼ºè½¬å­—ç¬¦ä¸²ä¼˜å…ˆè°ƒç”¨toStringï¼Œå¼ºè½¬æ•°å­—ä¼˜å…ˆè°ƒç”¨valueOf æ­£å¸¸æƒ…å†µä¸‹ä¼˜å…ˆè°ƒç”¨toStringï¼Œè¿ç®—æ“ä½œç¬¦æƒ…å†µä¸‹ä¼˜å…ˆè°ƒç”¨valueOf è°ƒç”¨valueOf è°ƒç”¨è€… è¿”å›å€¼ è¿”å›å€¼ç±»å‹ Array æ•°ç»„æœ¬èº« Array Boolean å¸ƒå°”å€¼ Boolean Date æ¯«ç§’æ•° Number Function å‡½æ•°æœ¬èº« Function Number æ•°å­—å€¼ Number Object å¯¹è±¡æœ¬èº« Object String å­—ç¬¦ä¸² String è°ƒç”¨toString è°ƒç”¨è€… è¿”å›å€¼ è¿”å›å€¼ç±»å‹ Array æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œç›¸å½“äºArray.join() String Boolean è½¬å­—ç¬¦ä¸²â€™trueâ€™ã€â€™falseâ€™ String Date å­—ç¬¦ä¸²æ—¥æœŸï¼Œå¦‚â€™Fri Dec 23 2016 11:24:47 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)â€™ String Number æ•°å­—å­—ç¬¦ä¸² String Object â€˜[object Object]â€™ String String å­—ç¬¦ä¸² String 8.JavaScriptå˜é‡åœ¨å†…å­˜ä¸­çš„å…·ä½“å­˜å‚¨å½¢å¼ åŸºæœ¬æ•°æ®ç±»å‹ï¼šå­˜åœ¨æ ˆå†…å­˜ä¸­ å¼•ç”¨æ•°æ®ç±»å‹ï¼šæŒ‡é’ˆå­˜åœ¨æ ˆå†…å­˜ä¸­ï¼ŒæŒ‡å‘å †å†…å­˜ä¸­ä¸€å—åœ°å€ï¼Œå†…å®¹å­˜åœ¨å †å†…å­˜ä¸­ 9.JavaScriptè£…ç®±å’Œæ‹†ç®±è£…ç®±ï¼šæŠŠåŸºæœ¬æ•°æ®ç±»å‹è½¬åŒ–ä¸ºå¯¹åº”çš„å¼•ç”¨æ•°æ®ç±»å‹çš„æ“ä½œ åœ¨å£°æ˜ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œè‹¥è¦è°ƒç”¨å¯¹åº”å¼•ç”¨æ•°æ®ç±»å‹ä¸Šé¢çš„apiï¼Œåˆ™ç›´æ¥è°ƒç”¨å³å¯ 123456789var a = 'jiacheng'var index = a.indexOf('j')console.log(index) // 0// è£…ç®±æ“ä½œ 1.åˆ›å»ºStringç±»å‹çš„ä¸€ä¸ªå®ä¾‹ï¼›2.åœ¨å®ä¾‹ä¸Šè°ƒç”¨æŒ‡å®šçš„æ–¹æ³•ï¼›3.é”€æ¯è¿™ä¸ªå®ä¾‹var temp = new String('jiacheng');var index = temp.indexOf('j');temp = null;console.log(index) æ‹†ç®±ï¼šå°†å¼•ç”¨æ•°æ®ç±»å‹è½¬åŒ–ä¸ºå¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹çš„æ“ä½œ é€šè¿‡valueOfå’ŒtoStringæ–¹æ³•å®ç°æ‹†ç®±æ“ä½œ 123456789var objNum = new Number(123);var objStr =new String(&quot;123&quot;);console.log( typeof objNum ); //objectconsole.log( typeof objStr ); //objectconsole.log( typeof objNum.valueOf() ); //numberconsole.log( typeof objStr.valueOf() ); //stringconsole.log( typeof objNum.toString() ); // stringconsole.log( typeof objStr.toString() ); // string æ³¨æ„ï¼šä»ES6å¼€å§‹è¯­æ³•ç¦æ­¢æ˜¾ç¤ºåœ°å®ä¾‹åŒ–åŸºæœ¬æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„åŒ…è£…ç±»ï¼Œå› æ­¤Symbolå’ŒBigIntçš„æ„é€ å‡½æ•°æ— æ³•è¢«newå…³é”®å­—å®ä¾‹åŒ– 10. nullå’Œundefinedçš„å¼‚åŒç‚¹ç›¸åŒçš„ éƒ½æ˜¯ç©ºå˜é‡ å¯¹åº”çš„å¸ƒå°”å€¼éƒ½ä¸ºfalse null == undefinedä¸ºtrue ä¸åŒç‚¹ typeofåˆ¤æ–­nullä¸ºobjectï¼Œåˆ¤æ–­undefinedä¸ºundefined nullè½¬ä¸ºnumberç±»å‹ä¸º0ï¼Œundefinedè½¬æˆnumberç±»å‹ä¸ºNaN nullè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡æœªåˆå§‹åŒ–ï¼Œundefinedè¡¨ç¤ºåˆå§‹åŒ–äº†ä½†ä¸ºèµ‹å€¼ null === undefinedä¸ºfalse 11.å¦‚ä½•åˆ¤æ–­æ•°æ®ç±»å‹ typeof xxxï¼šèƒ½åˆ¤æ–­å‡ºnumberï¼Œstringï¼Œundefinedï¼Œbooleanï¼Œsymbolï¼Œbigintï¼Œobjectï¼Œfunctionï¼ˆnullæ˜¯objectï¼‰ Object.prototype.toString.call(xxx)ï¼šèƒ½åˆ¤æ–­å‡ºå¤§éƒ¨åˆ†ç±»å‹ Array.isArray(xxx)ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„ 12.ä¸ºä»€ä¹ˆtypeof nullæ˜¯objectä¸åŒçš„æ•°æ®ç±»å‹åœ¨åº•å±‚éƒ½æ˜¯é€šè¿‡äºŒè¿›åˆ¶æ¥è¡¨ç¤ºçš„ï¼ŒäºŒè¿›åˆ¶çš„å‰ä¸‰ä½å…¨æ˜¯0çš„ä¼šè¢«åˆ¤æ–­ä¸ºobjectï¼Œè€Œnullçš„åº•å±‚å…¨æ˜¯0ï¼Œæ‰€ä»¥ä¼šè¢«åˆ¤æ–­ä¸ºobject 13ã€== ä¸ === çš„åŒºåˆ«ï¼Ÿ ==ï¼šåœ¨æ¯”è¾ƒè¿‡ç¨‹ä¸­ä¼šå­˜åœ¨éšå¼è½¬æ¢ ===ï¼šéœ€è¦ç±»å‹ç›¸åŒï¼Œå€¼ç›¸åŒï¼Œæ‰èƒ½ä¸ºtrue 14ã€JavaScriptçš„éšå¼è½¬æ¢è§„åˆ™ï¼Ÿ 1ã€è½¬æˆstringç±»å‹ï¼š +ï¼ˆå­—ç¬¦ä¸²è¿æ¥ç¬¦ï¼‰ 2ã€è½¬æˆnumberç±»å‹ï¼š++/â€“(è‡ªå¢è‡ªå‡è¿ç®—ç¬¦) + - * / %(ç®—æœ¯è¿ç®—ç¬¦) &gt; &lt; &gt;= &lt;= == != === !== (å…³ç³»è¿ç®—ç¬¦) 3ã€è½¬æˆbooleanç±»å‹ï¼š!ï¼ˆé€»è¾‘éè¿ç®—ç¬¦) 15.åŒç­‰å·å·¦å³ä¸¤è¾¹çš„è½¬æ¢è§„åˆ™ null == undefinedä¸ºtrue å¦‚æœæœ‰ä¸€ä¸ªä¸ºbooleanï¼Œåˆ™åœ¨æ¯”è¾ƒä¹‹å‰ä¼šå…ˆè½¬æ¢æˆnumberç±»å‹å†æ¯”è¾ƒï¼Œtrueè½¬ä¸º1ï¼Œfalseè½¬ä¸º0 å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯æ•°å€¼ï¼Œåœ¨æ¯”è¾ƒç›¸ç­‰æ€§ä¹‹å‰å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°ä¸æ˜¯ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„toString()æ–¹æ³•ï¼Œç”¨å¾—åˆ°çš„åŸºæœ¬ç±»å‹å€¼æŒ‰ç…§å‰é¢çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒ 16. undefined &gt;= undefinedä¸ºä»€ä¹ˆæ˜¯falseæŒ‰ç…§éšå¼è½¬æ¢è§„åˆ™ï¼Œå¯ä»¥è½¬ä¸ºNaN &gt;=NaNï¼Œæ‰€ä»¥æ˜¯false 17.null &gt;= nullä¸ºä»€ä¹ˆæ˜¯trueæŒ‰ç…§éšå¼è½¬æ¢è§„åˆ™ï¼Œå¯ä»¥è½¬ä¸º 0 &gt;= 0 ï¼Œæ‰€ä»¥ä¸ºtrue 18.[] == ![] ä¸ºä»€ä¹ˆæ˜¯trueæŒ‰ç…§åŒç­‰å·å·¦å³ä¸¤è¾¹çš„è½¬æ¢è§„åˆ™ ! ä¼˜å…ˆçº§é«˜äº ==ï¼Œ[]ä¸æ˜¯å‡å€¼ï¼Œæ‰€ä»¥å…ˆè½¬æ¢æˆ ![] == false å³è¾¹ä¸ºå¸ƒå°”å€¼ï¼Œfalseå…ˆè½¬æ•°å­—0ï¼Œæ‰€ä»¥å¯è½¬æ¢ä¸º[] == 0 å·¦è¾¹ä¸ºå¯¹è±¡ï¼Œ[]è°ƒç”¨toStringè½¬ä¸º ''ï¼Œè½¬æ¢ä¸º'' == 0 å·¦è¾¹ä¸ºå­—ç¬¦ä¸²ï¼Œ''è½¬æ¢ä¸º0ï¼Œæœ€ç»ˆä¸º 0 == 0 19.0.1 + 0.2 === 0.3ï¼Œå¯¹å—ï¼Ÿä¸å¯¹ï¼ŒJavaScriptçš„è®¡ç®—å­˜åœ¨ç²¾åº¦ä¸¢å¤±é—®é¢˜ åŸå› ï¼šJavaScriptä¸­å°æ•°æ˜¯æµ®ç‚¹æ•°ï¼Œéœ€è½¬äºŒè¿›åˆ¶è¿›è¡Œè¿ç®—ï¼Œæœ‰äº›å°æ•°æ— æ³•ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œæ‰€ä»¥åªèƒ½å–è¿‘ä¼¼å€¼ï¼Œæ‰€ä»¥é€ æˆè¯¯å·® è§£å†³æ–¹æ³•ï¼š å…ˆå˜æˆæ•´æ•°è¿ç®—ï¼Œç„¶åå†å˜å›å°æ•° toFixed() æ€§èƒ½ä¸å¥½ï¼Œä¸æ¨è 20.ä»€ä¹ˆæ˜¯åŒ¿åå‡½æ•°å°±æ˜¯æ²¡æœ‰å‡½æ•°åçš„å‡½æ•° 21.ç»‘å®šç‚¹å‡»äº‹ä»¶æœ‰å‡ ç§æ–¹å¼ xxx.onclick = function (){} &lt;xxx onclick=&quot;&quot;&gt;&lt;/xxx&gt; xxx.addEventListence('click', function(){}, false) 22. addEventListenceçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¹²å˜›çš„ç¬¬ä¸‰ä¸ªå˜é‡ä¼ ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œæ˜¯å¦è¦é˜»æ­¢å†’æ³¡ï¼Œé»˜è®¤æ˜¯falseï¼Œä¸é˜»æ­¢å†’æ³¡ 23.å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼çš„åŒºåˆ« å‡½æ•°å£°æ˜ï¼šäº«å—å‡½æ•°æå‡ å‡½æ•°è¡¨è¾¾å¼ï¼šå½’äºç±»å˜é‡å£°æ˜ï¼Œäº«å—å˜é‡æå‡ å‡½æ•°æå‡ä¼˜å…ˆçº§ &gt; å˜é‡æå‡ä¼˜å…ˆçº§ 123456console.log(fun) // fun () {}// å‡½æ•°è¡¨è¾¾å¼var fun = function(name) {}// å‡½æ•°å£°æ˜function fun () {}console.log(fun) // fun (name) {} 24.JavaScriptäº‹ä»¶æµæ¨¡å‹ äº‹ä»¶å†’æ³¡ï¼šç”±å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œå¹¶å¾€ä¸Šä¼ æ’­ äº‹ä»¶æ•è·ï¼šç”±æœ€ä¸å…·ä½“çš„å…ƒç´ æ¥æ”¶ï¼Œå¹¶å¾€ä¸‹ä¼ æ’­ DOMäº‹ä»¶æµï¼šæ•è·é˜¶æ®µ -&gt; ç›®æ ‡é˜¶æ®µ -&gt; å†’æ³¡é˜¶æ®µ 25.Ajax Axios Fetch Ajaxï¼šæ˜¯å¯¹XMLHttpRequestå¯¹è±¡ï¼ˆXHRï¼‰çš„å°è£… Axiosï¼šæ˜¯åŸºäºPromiseå¯¹XHRå¯¹è±¡çš„å°è£… Fetchï¼šæ˜¯windowçš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿæ˜¯åŸºäºPromiseï¼Œä½†æ˜¯ä¸XHRæ— å…³ï¼Œä¸æ”¯æŒIE 26.loadã€$(document).readyã€DOMContentLoadedçš„åŒºåˆ«ï¼ŸDOMæ–‡æ¡£åŠ è½½çš„æ­¥éª¤ä¸ºï¼š è§£æHTMLç»“æ„ã€‚ åŠ è½½å¤–éƒ¨è„šæœ¬å’Œæ ·å¼è¡¨æ–‡ä»¶ã€‚ è§£æå¹¶æ‰§è¡Œè„šæœ¬ä»£ç ã€‚ DOMæ ‘æ„å»ºå®Œæˆã€‚// DOMContentLoadedè§¦å‘ã€$(document).readyè§¦å‘ åŠ è½½å›¾ç‰‡ç­‰å¤–éƒ¨æ–‡ä»¶ã€‚ é¡µé¢åŠ è½½å®Œæ¯•ã€‚// loadè§¦å‘ 27.é˜»ä½äº‹ä»¶å†’æ³¡1234567function stopBubble(e) { if (e.stopPropagation) { e.stopPropagation() } else { window.event.cancelBubble = true; }} 28.é˜»ä½äº‹ä»¶é»˜è®¤è¡Œä¸º æ¯”å¦‚è¯´é“¾æ¥aï¼Œinput typeä¸ºsubmitç­‰ 123456function stopDefault(e) { if (e.preventDefault) { e.preventDefault(); } else { window.event.returnValue = false;} 29.äº‹ä»¶å§”æ‰˜å½“æ‰€æœ‰å­å…ƒç´ éƒ½éœ€è¦ç»‘å®šç›¸åŒçš„äº‹ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠäº‹ä»¶ç»‘å®šåœ¨çˆ¶å…ƒç´ ä¸Šï¼Œè¿™å°±æ˜¯äº‹ä»¶å§”æ‰˜ï¼Œä¼˜ç‚¹æœ‰ï¼š ç»‘å®šåœ¨çˆ¶å…ƒç´ ä¸Šåªéœ€è¦ç»‘å®šä¸€æ¬¡ï¼ŒèŠ‚çœæ€§èƒ½ å­å…ƒç´ ä¸éœ€è¦æ¯ä¸ªéƒ½å»ç»‘å®šåŒä¸€äº‹ä»¶ å¦‚æœåç»­åˆæœ‰æ–°çš„å­å…ƒç´ æ·»åŠ ï¼Œä¼šç”±äºäº‹ä»¶å§”æ‰˜çš„åŸå› ï¼Œè‡ªåŠ¨æ¥æ”¶åˆ°çˆ¶å…ƒç´ çš„äº‹ä»¶ç›‘å¬ 30.å¦‚ä½•å®ç°æ•°ç»„å»é‡1234// ä½¿ç”¨ Set å»é‡function quchong (arr) { return [...new Set(arr)]} 31.NaNæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹ NaNä¸ç­‰äºè‡ªèº«ï¼Œä¹Ÿå°±æ˜¯ NaN === NaN ä¸º false NaNä¸ºå‡å€¼ï¼Œè½¬å¸ƒå°”å€¼ä¸ºfalse NaNæœ¬è´¨æ˜¯ä¸€ä¸ªnumberï¼Œtypeof NaN === number 32.å¤„ç†å¼‚æ­¥çš„æ–¹æ³•æœ‰å“ªäº› å›è°ƒå‡½æ•° Promise äº‹ä»¶ç›‘å¬ å‘å¸ƒè®¢é˜… Generator(async/await) 33.åˆ›å»ºä¸€ä¸ªå¯¹è±¡new Objectåˆ›å»º12const obj = new Object()obj.name = 'Sunshine_Lin' å­—é¢é‡åˆ›å»º1const obj = { name: 'Sunshin_Lin' } å·¥å‚æ¨¡å¼åˆ›å»º123456function createObj(name) { const obj = new Object() obj.name = name return obj}const obj = createObj('Sunshine_Lin') æ„é€ å‡½æ•°åˆ›å»º1234function Person(name) { this.name = name}const person = new Person('Sunshine_Lin') 34.thisæŒ‡å‘çš„å››ç§æƒ…å†µ æŒ‡å‘newæ“ä½œç¬¦åˆ›å»ºçš„å®ä¾‹ 12345function Person(name) { this.name = name; console.log(this)}const person = new Person('jiacheng') // thisæŒ‡å‘å½“å‰personçš„å®ä¾‹å¯¹è±¡ æŒ‡å‘window 12345function() { console.log(this);}fn() // æŒ‡å‘window æŒ‡å‘å¯¹è±¡è°ƒç”¨æ–¹æ³• 1234567const target = { fn: function () { console.log(this) }}target.fn() // targetconst fn = target.fnfn() // æµè§ˆå™¨windowï¼Œnodeé‡Œglobal call apply bindæ”¹å˜this 123456789101112131415161718const obj1 = { name: 'é»„å®¶ç¨‹', sayName: function() { console.log(this.name) }}const obj2 = { name: 'jiacheng_huang'}// æ”¹å˜sayNameçš„thisæŒ‡å‘obj2obj1.sayName.call(obj2) // jiacheng_huang// æ”¹å˜sayNameçš„thisæŒ‡å‘obj2obj1.sayName.apply(obj2) // jiacheng_huang// æ”¹å˜sayNameçš„thisæŒ‡å‘obj2const fn = obj1.sayName.bind(obj2)fn() // jiacheng_huang 35ã€æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ æ–¹æ³• ä½œç”¨ æ˜¯å¦å½±å“åŸæ•°ç»„ push åœ¨æ•°ç»„åæ·»åŠ å…ƒç´ ï¼Œè¿”å›æ•°ç»„é•¿åº¦ âœ… pop åˆ é™¤æ•°ç»„æœ€åä¸€é¡¹ï¼Œè¿”å›è¢«åˆ é™¤é¡¹ âœ… shift åˆ é™¤æ•°ç»„ç¬¬ä¸€é¡¹ï¼Œå¹¶è¿”å›æ•°ç»„ âœ… unshift æ•°ç»„å¼€å¤´æ·»åŠ å…ƒç´ ï¼Œè¿”å›æ·»åŠ çš„å…ƒç´  âœ… reserve åè½¬ä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›ä¿®æ”¹åçš„æ•°ç»„ âœ… sort æ’åºä¸€ä¸ªæ•°ç»„ï¼Œè¿”å›ä¿®æ”¹åçš„æ•°ç»„ âœ… splice æˆªå–æ•°ç»„ï¼Œè¿”å›è¢«æˆªå–çš„åŒºé—´ âœ… join å°†ä¸€ä¸ªæ•°ç»„æ‰€æœ‰å…ƒç´ è¿æ¥æˆå­—ç¬¦ä¸²å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸² âŒ concat arr1.concat(arr2, arr3) è¿æ¥æ•°ç»„ âŒ map æ“ä½œæ•°ç»„æ¯ä¸€é¡¹å¹¶è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ âŒ forEach éå†æ•°ç»„ï¼Œæ²¡æœ‰è¿”å›å€¼ âŒ find å¯¹æ•°ç»„è¿›è¡Œç­›é€‰ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´  âŒ filter å¯¹æ•°ç»„æ‰€æœ‰é¡¹è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å›ç¬¦åˆè§„åˆ™çš„æ–°æ•°ç»„ âŒ every æ•°ç»„æ¯ä¸€é¡¹éƒ½ç¬¦åˆè§„åˆ™æ‰è¿”å›true âŒ some æ•°ç»„æœ‰ç¬¦åˆè§„åˆ™çš„ä¸€é¡¹å°±è¿”å›true âŒ reduce æ¥æ”¶ä¸Šä¸€ä¸ªreturnå’Œæ•°ç»„çš„ä¸‹ä¸€é¡¹ âŒ flat æ•°ç»„æ‰å¹³åŒ– âŒ slice æˆªå–æ•°ç»„ï¼Œè¿”å›è¢«æˆªå–çš„åŒºé—´ âŒ 36ã€Mathçš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ æ–¹æ³• ä½œç”¨ Math.max(arr) å–arrä¸­çš„æœ€å¤§å€¼ Math.min(arr) å–arrä¸­çš„æœ€å°å€¼ Math.ceil(å°æ•°) å°æ•°å‘ä¸Šå–æ•´ Math.floor(å°æ•°) å°æ•°å‘ä¸‹å–æ•´ Math.round(å°æ•°) å°æ•°å››èˆäº”å…¥ Math.sqrt(num) å¯¹numè¿›è¡Œå¼€æ–¹ Math.pow(num, m) å¯¹numå–mæ¬¡å¹‚ Math.random() * num å–[0,num)çš„éšæœºæ•° 37ã€å“ªäº›å› ç´ å¯¼è‡´å†…å­˜æ³„æ¼ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿè¯·çœ‹æˆ‘è¿™ç¯‡æ–‡ç« å“ªæ˜¯å¤§ç¥ï¼Ÿåªæ˜¯ç”¨ä»–äººä¸ƒå¤•çº¦ä¼šæ—¶é—´ï¼Œæ•´ç†ã€ŒJSé¿å…å†…å­˜æ³„æ¼ã€ç½¢äº† 38ã€è®²è®²JavaScriptçš„åƒåœ¾å›æ”¶æœºåˆ¶çœ‹æˆ‘è¿™ç¯‡æ–‡ç« ï¼šèµ ä½ 13å¼ å›¾ï¼ŒåŠ©ä½ 20åˆ†é’Ÿæ‰“è´¥äº†ã€ŒV8åƒåœ¾å›æ”¶æœºåˆ¶ã€ 39ã€JSä¸­æœ‰å“ªäº›ä¸åŒç±»å‹çš„å¼¹å‡ºæ¡†ï¼Ÿåœ¨JSä¸­æœ‰ä¸‰ç§ç±»å‹çš„å¼¹å‡ºæ¡†å¯ç”¨ï¼Œåˆ†åˆ«æ˜¯ï¼š Alert Confirm Prompt 40. å¦‚ä½•å°† JS æ—¥æœŸè½¬æ¢ä¸ºISOæ ‡å‡†toISOString() æ–¹æ³•ç”¨äºå°†jsæ—¥æœŸè½¬æ¢ä¸ºISOæ ‡å‡†ã€‚ å®ƒä½¿ç”¨ISOæ ‡å‡†å°†js Dateå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚ï¼š 12345var date = new Date();var n = date.toISOString();console.log(n);// YYYY-MM-DDTHH:mm:ss.sssZå¤åˆ¶ä»£ç  41ã€å¦‚ä½•åœ¨JSä¸­ç¼–ç å’Œè§£ç  URLencodeURI() å‡½æ•°ç”¨äºåœ¨JSä¸­å¯¹URLè¿›è¡Œç¼–ç ã€‚å®ƒå°†urlå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°å¹¶è¿”å›ç¼–ç çš„å­—ç¬¦ä¸²ã€‚ æ³¨æ„ï¼š encodeURI()ä¸ä¼šç¼–ç ç±»ä¼¼è¿™æ ·å­—ç¬¦ï¼š / ? : @ &amp; = + $ #ï¼Œå¦‚æœéœ€è¦ç¼–ç è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨encodeURIComponent()ã€‚ ç”¨æ³•ï¼š 12var uri = &quot;my profile.php?name=sammer&amp;occupation=pÄntiNG&quot;;var encoded_uri = encodeURI(uri); decodeURI() å‡½æ•°ç”¨äºè§£ç jsä¸­çš„URLã€‚å®ƒå°†ç¼–ç çš„urlå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°å¹¶è¿”å›å·²è§£ç çš„å­—ç¬¦ä¸²ï¼Œç”¨æ³•ï¼š 123var uri = &quot;my profile.php?name=sammer&amp;occupation=pÄntiNG&quot;;var encoded_uri = encodeURI(uri);decodeURI(encoded_uri); 42ã€ä»€ä¹ˆæ˜¯BOMï¼Ÿæœ‰å“ªäº›apiï¼ŸBOMå°±æ˜¯browser object modelï¼Œæµè§ˆå™¨å¯¹è±¡æ¨¡å‹ api ä½œç”¨ ä»£è¡¨æ–¹æ³•æˆ–å±æ€§ window.history æ“çºµæµè§ˆå™¨çš„è®°å½• history.back() history.go(-1) window.innerHeight è·å–æµè§ˆå™¨çª—å£çš„é«˜åº¦ window.innerWidth è·å–æµè§ˆå™¨çª—å£çš„å®½åº¦ window.location æ“ä½œåˆ·æ–°æŒ‰é’®å’Œåœ°å€æ  location.hostï¼šè·å–åŸŸåå’Œç«¯å£ location.hostnameï¼šè·å–ä¸»æœºå location.portï¼šè·å–ç«¯å£å· location.pathnameï¼šè·å–urlçš„è·¯å¾„ location.searchï¼šè·å–?å¼€å§‹çš„éƒ¨åˆ† location.hrefï¼šè·å–æ•´ä¸ªurl location.hashï¼šè·å–#å¼€å§‹çš„éƒ¨åˆ† location.originï¼šè·å–å½“å‰åŸŸå location.navigatorï¼šè·å–å½“å‰æµè§ˆå™¨ä¿¡æ¯ 43ã€BOM å’Œ DOM çš„å…³ç³»BOMå…¨ç§°Browser Object Modelï¼Œå³æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼Œä¸»è¦å¤„ç†æµè§ˆå™¨çª—å£å’Œæ¡†æ¶ã€‚ DOMå…¨ç§°Document Object Modelï¼Œå³æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œæ˜¯ HTML å’ŒXML çš„åº”ç”¨ç¨‹åºæ¥å£ï¼ˆAPIï¼‰ï¼Œéµå¾ªW3C çš„æ ‡å‡†ï¼Œæ‰€æœ‰æµè§ˆå™¨å…¬å…±éµå®ˆçš„æ ‡å‡†ã€‚ JSæ˜¯é€šè¿‡è®¿é—®BOMï¼ˆBrowser Object Modelï¼‰å¯¹è±¡æ¥è®¿é—®ã€æ§åˆ¶ã€ä¿®æ”¹å®¢æˆ·ç«¯(æµè§ˆå™¨)ï¼Œç”±äºBOMçš„windowåŒ…å«äº†documentï¼Œwindowå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•æ˜¯ç›´æ¥å¯ä»¥ä½¿ç”¨è€Œä¸”è¢«æ„ŸçŸ¥çš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨windowå¯¹è±¡çš„documentå±æ€§ï¼Œé€šè¿‡documentå±æ€§å°±å¯ä»¥è®¿é—®ã€æ£€ç´¢ã€ä¿®æ”¹XHTMLæ–‡æ¡£å†…å®¹ä¸ç»“æ„ã€‚å› ä¸ºdocumentå¯¹è±¡åˆæ˜¯DOMçš„æ ¹èŠ‚ç‚¹ã€‚ å¯ä»¥è¯´ï¼ŒBOMåŒ…å«äº†DOM(å¯¹è±¡)ï¼Œæµè§ˆå™¨æä¾›å‡ºæ¥ç»™äºˆè®¿é—®çš„æ˜¯BOMå¯¹è±¡ï¼Œä»BOMå¯¹è±¡å†è®¿é—®åˆ°DOMå¯¹è±¡ï¼Œä»è€Œjså¯ä»¥æ“ä½œæµè§ˆå™¨ä»¥åŠæµè§ˆå™¨è¯»å–åˆ°çš„æ–‡æ¡£ã€‚ 44ã€JSä¸­çš„substr()å’Œsubstring()å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«substr() å‡½æ•°çš„å½¢å¼ä¸ºsubstr(startIndex,length)ã€‚ å®ƒä»startIndexè¿”å›å­å­—ç¬¦ä¸²å¹¶è¿”å›â€™lengthâ€™ä¸ªå­—ç¬¦æ•°ã€‚ 12var s = &quot;hello&quot;;( s.substr(1,4) == &quot;ello&quot; ) // true substring() å‡½æ•°çš„å½¢å¼ä¸ºsubstring(startIndex,endIndex)ã€‚ å®ƒè¿”å›ä»startIndexåˆ°endIndex - 1çš„å­å­—ç¬¦ä¸²ã€‚ 123var s = &quot;hello&quot;;( s.substring(1,4) == &quot;ell&quot; ) // trueå¤åˆ¶ä»£ç  45ã€è§£é‡Šä¸€ä¸‹ â€œuse strictâ€ ?â€œuse strictâ€æ˜¯Es5ä¸­å¼•å…¥çš„jsæŒ‡ä»¤ã€‚ ä½¿ç”¨â€œuse strictâ€æŒ‡ä»¤çš„ç›®çš„æ˜¯å¼ºåˆ¶æ‰§è¡Œä¸¥æ ¼æ¨¡å¼ä¸‹çš„ä»£ç ã€‚ åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå’±ä»¬ä¸èƒ½åœ¨ä¸å£°æ˜å˜é‡çš„æƒ…å†µä¸‹ä½¿ç”¨å˜é‡ã€‚ æ—©æœŸç‰ˆæœ¬çš„jså¿½ç•¥äº†â€œuse strictâ€ã€‚ 46.ES5ç»§æ‰¿æ–¹å¼ å®šä¹‰ä¸€ä¸ªç±» 123456789101112// å®šä¹‰ä¸€ä¸ªç±»function Animal(name) { this.name = name || 'Animal'; // å®ä¾‹æ–¹æ³• this.sleep = function() { console.log(this.name + 'æ­£åœ¨ç¡è§‰'); }}// åŸå‹æ–¹æ³•Animal.prototype.eat = function(food) { console.log(this.name + 'æ­£åœ¨åƒ' + food)} 1.åŸå‹é“¾ç»§æ‰¿æ ¸å¿ƒï¼šå°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹ ä¼˜ç‚¹ å®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ° ç®€å•ï¼Œæ˜“äºå®ç° ç¼ºç‚¹ å­ç±»è¦æƒ³æ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨new Animal()è¿™æ ·çš„è¯­å¥ä¹‹åï¼Œä¸èƒ½æ”¾åœ¨æ„é€ å™¨ä¸­ åŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« å®ç°å­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ ä¸æ”¯æŒå¤šç»§æ‰¿ 12345678910111213function Cat() { }Cat.prototype = new Animal();Cat.prototype.name = 'cat';var cat = new Cat();console.log(cat.name);cat.eat('fish'); // catæ­£åœ¨åƒfishcat.sleep(); // catæ­£åœ¨ç¡è§‰console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // true 2.æ„é€ ç»§æ‰¿æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å™¨æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»ï¼ˆæ²¡ç”¨åˆ°åŸå‹ï¼‰ ä¼˜ç‚¹ è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸­ï¼Œå­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜ åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•° å¯ä»¥å®ç°å¤šç»§æ‰¿(callå¤šä¸ªçˆ¶ç±»å¯¹è±¡) ç¼ºç‚¹ å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹ åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³• æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ 123456789101112function Cat(name) { Animal.call(this); this.name = name || 'Tom';}var cat = new Cat();console.log(cat.name); // Tomcat.sleep(); // Tomæ­£åœ¨ç¡è§‰cat.eat('fish'); // æŠ¥é”™console.log(cat instanceof Animal); // falseconsole.log(cat instanceof Cat); // true 3.å®ä¾‹ç»§æ‰¿æ ¸å¿ƒï¼šä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å› ä¼˜ç‚¹ï¼š ä¸é™åˆ¶è°ƒç”¨æ–¹å¼ï¼Œä¸ç®¡æ˜¯new å­ç±»()è¿˜æ˜¯å­ç±»()ï¼Œè¿”å›çš„å¯¹è±¡å…·æœ‰ç›¸åŒæ•ˆæœ ç¼ºç‚¹ï¼š å®ä¾‹æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®ä¾‹ ä¸æ”¯æŒå¤šç»§æ‰¿ 123456789101112131415161718function Cat(name) { var instance = new Animal(); instance.name = name || 'Tom'; return instance;}var cat = new Cat();console.log(cat.name); // Tomcat.sleep(); // Tomæ­£åœ¨ç¡è§‰cat.eat('fish'); // Tomæ­£åœ¨åƒfishconsole.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // false 4.æ‹·è´ç»§æ‰¿æ ¸å¿ƒï¼šä¸€ä¸ªä¸€ä¸ªæ‹·è´ ä¼˜ç‚¹ æ”¯æŒå¤šç»§æ‰¿ ç¼ºç‚¹ å› ä¸ºè¦ä¸€ä¸ªä¸€ä¸ªæ‹·è´ï¼Œæ‰€ä»¥æ•ˆç‡å¾ˆä½ æ— æ³•è·å–çˆ¶ç±»çš„ä¸å¯æšä¸¾æ–¹æ³• 12345678910111213141516function Cat(name) { var animal = new Animal(); for (var p in animal) { Cat.prototype[p] = animal[p]; } this.name = name || 'Tom'}var cat = new Cat();console.log(cat.name); // Tomcat.sleep() // Tomæ­£åœ¨ç¡è§‰ï¼cat.eat('fish'); // Tomæ­£åœ¨åƒfishconsole.log(cat instanceof Animal); // falseconsole.log(cat instanceof Cat); // true 5.ç»„åˆç»§æ‰¿(åŸå‹é“¾ç»§æ‰¿+æ„é€ ç»§æ‰¿)æ ¸å¿ƒï¼šé€šè¿‡çˆ¶ç±»æ„é€ ï¼Œç»§æ‰¿çˆ¶ç±»çš„å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„ä¼˜ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨ ä¼˜ç‚¹ å¼¥è¡¥äº†æ„é€ ç»§æ‰¿çš„ç¼ºé™·ï¼Œå¯ä»¥ç»§æ‰¿å®ä¾‹çš„å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§/æ–¹æ³• æ—¢æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ å¯ä»¥å‘çˆ¶ç±»ä¼ å‚ å‡½æ•°å¯ä»¥å¤ç”¨ ç¼ºç‚¹ è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ 123456789101112131415function Cat(name) { Animal.call(this); this.name = name || 'Tom';}Cat.prototype = new Animal();Cat.prototype.constructor = Cat;var cat = new Cat();console.log(cat.name); // Tomcat.sleep() // Tomæ­£åœ¨ç¡è§‰ï¼cat.eat('fish'); // Tomæ­£åœ¨åƒfishconsole.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // true 6.å¯„ç”Ÿç»„åˆç»§æ‰¿æ ¸å¿ƒï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œè¿™æ ·ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ æ—¶ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…ç»§æ‰¿ç»„åˆçš„ç¼ºç‚¹ ä¼˜ç‚¹ å‡ ä¹å®Œç¾ ç¼ºç‚¹ å®ç°å¤æ‚ 123456789101112131415161718function Cat(name) { Animal.call(this); this.name = name || 'Tom';}// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„æ„é€ å‡½æ•°var Super = function () { }Super.prototype = Animal.prototype;// å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹Cat.prototype = new Super();// Test Codevar cat = new Cat();console.log(cat.name); // Tomcat.sleep() // Tomæ­£åœ¨ç¡è§‰ï¼cat.eat('fish') // // Tomæ­£åœ¨åƒfishconsole.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); //true","link":"/JavaScript/1.%E8%AF%AD%E6%B3%95%E6%95%B4%E7%90%86/"},{"title":"å­—ç¬¦ä¸²æ–°å¢è¯­æ³•","text":"1.å­—ç¬¦çš„Unicodeè¡¨ç¤ºæ³•(äº†è§£)ES6å¢å¼ºäº†å¯¹Unicodeçš„æ”¯æŒï¼Œå…è®¸é‡‡ç”¨\\uxxxxå½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æœç›´æ¥åœ¨\\uåé¢è·Ÿä¸Šè¶…è¿‡0xFFFFçš„æ•°å€¼ï¼ˆæ¯”å¦‚\\u20BB7ï¼‰ï¼ŒJavaScript ä¼šç†è§£æˆ\\u20BB+7ã€‚ç”±äº\\u20BBæ˜¯ä¸€ä¸ªä¸å¯æ‰“å°å­—ç¬¦ï¼Œæ‰€ä»¥åªä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼ï¼Œåé¢è·Ÿç€ä¸€ä¸ª7ã€‚ ES6 å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›ï¼Œåªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦ã€‚ 1234567891011&quot;\\u{20BB7}&quot;// &quot;ğ ®·&quot;&quot;\\u{41}\\u{42}\\u{43}&quot;// &quot;ABC&quot;let hello = 123;hell\\u{6F} // 123'\\u{1F680}' === '\\uD83D\\uDE80'// true ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€åä¸€ä¸ªä¾‹å­è¡¨æ˜ï¼Œå¤§æ‹¬å·è¡¨ç¤ºæ³•ä¸å››å­—èŠ‚çš„ UTF-16 ç¼–ç æ˜¯ç­‰ä»·çš„ã€‚ æœ‰äº†è¿™ç§è¡¨ç¤ºæ³•ä¹‹åï¼ŒJavaScript å…±æœ‰ 6 ç§æ–¹æ³•å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚ 12345'\\z' === 'z' // true'\\172' === 'z' // true'\\x7A' === 'z' // true'\\u007A' === 'z' // true'\\u{7A}' === 'z' // true 2.å­—ç¬¦ä¸²éå†æ¥å£ES6ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†éå†æ¥å£(Iterator)ï¼Œä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢«for...ofå¾ªç¯éå†ï¼Œä¹Ÿå¯ä»¥è¢«æ•°ç»„å½¢å¼çš„è§£æ„è¯†åˆ« 12345678910111213const str = 'hello';const [a, b, c, d, e] = 'hello';for (const i of str) { console.log(i); // h e l l o}console.log(a); // hconsole.log(b); // econsole.log(c); // lconsole.log(d); // lconsole.log(e); // o 3.JSON.stringify()çš„æ”¹é€ æ ¹æ®æ ‡å‡†ï¼ŒJSON æ•°æ®å¿…é¡»æ˜¯ UTF-8 ç¼–ç ã€‚ä½†æ˜¯ï¼Œç°åœ¨çš„JSON.stringify()æ–¹æ³•æœ‰å¯èƒ½è¿”å›ä¸ç¬¦åˆ UTF-8 æ ‡å‡†çš„å­—ç¬¦ä¸²ã€‚ å…·ä½“æ¥è¯´ï¼ŒUTF-8 æ ‡å‡†è§„å®šï¼Œ0xD800åˆ°0xDFFFä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œ\\uD834\\uDF06æ˜¯ä¸¤ä¸ªç ç‚¹ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨ä¸€èµ·é…å¯¹ä½¿ç”¨ï¼Œä»£è¡¨å­—ç¬¦ğŒ†ã€‚è¿™æ˜¯ä¸ºäº†è¡¨ç¤ºç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚å•ç‹¬ä½¿ç”¨\\uD834å’Œ\\uDF06è¿™ä¸¤ä¸ªç ç‚¹æ˜¯ä¸åˆæ³•çš„ï¼Œæˆ–è€…é¢ å€’é¡ºåºä¹Ÿä¸è¡Œï¼Œå› ä¸º\\uDF06\\uD834å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚ JSON.stringify()çš„é—®é¢˜åœ¨äºï¼Œå®ƒå¯èƒ½è¿”å›0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ã€‚ 1JSON.stringify('\\u{D834}') // &quot;\\u{D834}&quot; ä¸ºäº†ç¡®ä¿è¿”å›çš„æ˜¯åˆæ³•çš„ UTF-8 å­—ç¬¦ï¼ŒES2019 æ”¹å˜äº†JSON.stringify()çš„è¡Œä¸ºã€‚å¦‚æœé‡åˆ°0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ï¼Œæˆ–è€…ä¸å­˜åœ¨çš„é…å¯¹å½¢å¼ï¼Œå®ƒä¼šè¿”å›è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œç•™ç»™åº”ç”¨è‡ªå·±å†³å®šä¸‹ä¸€æ­¥çš„å¤„ç†ã€‚ 12JSON.stringify('\\u{D834}') // &quot;&quot;\\\\uD834&quot;&quot;JSON.stringify('\\uDF06\\uD834') // &quot;&quot;\\\\udf06\\\\ud834&quot;&quot; 4.æ¨¡æ¿å­—ç¬¦ä¸²æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œæ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·(`)æ ‡è¯†ï¼Œå®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œé¡µå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ 12345678910111213// æ™®é€šå­—ç¬¦ä¸²`In JavaScript '\\n' is a line-feed.`// å¤šè¡Œå­—ç¬¦ä¸²`In JavaScript this is not legal.`console.log(`string text line 1string text line 2`);// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡let name = &quot;Bob&quot;, time = &quot;today&quot;;`Hello ${name}, how are you ${time}?` ä¸Šé¢ä»£ç ä¸­çš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œéƒ½æ˜¯ç”¨åå¼•å·è¡¨ç¤ºã€‚å¦‚æœåœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­éœ€è¦ä½¿ç”¨åå¼•å·ï¼Œåˆ™å‰é¢è¦ç”¨åæ–œæ è½¬ä¹‰ã€‚ 1let greeting = `\\`Yo\\` World!`; æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ï¼Œéœ€è¦å°†å˜é‡åå†™åœ¨${}ä¹‹ä¸­ã€‚ 123456789101112function authorize(user, action) { if (!user.hasPrivilege(action)) { throw new Error( // ä¼ ç»Ÿå†™æ³•ä¸º // 'User ' // + user.name // + ' is not authorized to do ' // + action // + '.' `User ${user.name} is not authorized to do ${action}.`); }} ç”±äºæ¨¡æ¿å­—ç¬¦ä¸²çš„å¤§æ‹¬å·å†…éƒ¨ï¼Œå°±æ˜¯æ‰§è¡Œ JavaScript ä»£ç ï¼Œå› æ­¤å¦‚æœå¤§æ‹¬å·å†…éƒ¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°†ä¼šåŸæ ·è¾“å‡ºã€‚ 12`Hello ${'World'}`// &quot;Hello World&quot; æ¨¡æ¿å­—ç¬¦ä¸²ç”šè‡³è¿˜èƒ½åµŒå¥—ã€‚ 12345678const tmpl = addrs =&gt; ` &lt;table&gt; ${addrs.map(addr =&gt; ` &lt;tr&gt;&lt;td&gt;${addr.first}&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;${addr.last}&lt;/td&gt;&lt;/tr&gt; `).join('')} &lt;/table&gt;`; ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²çš„å˜é‡ä¹‹ä¸­ï¼ŒåˆåµŒå…¥äº†å¦ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ã€‚ 123456789101112131415const data = [ { first: '&lt;Jane&gt;', last: 'Bond' }, { first: 'Lars', last: '&lt;Croft&gt;' },];console.log(tmpl(data));// &lt;table&gt;//// &lt;tr&gt;&lt;td&gt;&lt;Jane&gt;&lt;/td&gt;&lt;/tr&gt;// &lt;tr&gt;&lt;td&gt;Bond&lt;/td&gt;&lt;/tr&gt;//// &lt;tr&gt;&lt;td&gt;Lars&lt;/td&gt;&lt;/tr&gt;// &lt;tr&gt;&lt;td&gt;&lt;Croft&gt;&lt;/td&gt;&lt;/tr&gt;//// &lt;/table&gt; å¦‚æœéœ€è¦å¼•ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æœ¬èº«ï¼Œåœ¨éœ€è¦æ—¶æ‰§è¡Œï¼Œå¯ä»¥å†™æˆå‡½æ•°ã€‚ 12let func = (name) =&gt; `Hello ${name}!`;func('Jack') // &quot;Hello Jack!&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å†™æˆäº†ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå°±ç›¸å½“äºæ‰§è¡Œè¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²äº†ã€‚ 5.å­—ç¬¦ä¸²çš„æ–°å¢æ–¹æ³•String.fromCodePoint()ES6æä¾›äº†String.fromCodePoint()æ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ«å¤§äº0xFFFFçš„å­—ç¬¦å¹¶è¿”å›å¯¹åº”çš„å­—ç¬¦ä¸² 1234String.fromCodePoint(0x20BB7)// &quot;ğ ®·&quot;String.fromCodePoint(0x78, 0x1f680, 0x79) === 'x\\uD83D\\uDE80y'// true ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœString.fromCodePointæ–¹æ³•æœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™å®ƒä»¬ä¼šè¢«åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ã€‚ æ³¨æ„ï¼ŒfromCodePointæ–¹æ³•å®šä¹‰åœ¨Stringå¯¹è±¡ä¸Šï¼Œè€ŒcodePointAtæ–¹æ³•å®šä¹‰åœ¨å­—ç¬¦ä¸²çš„å®ä¾‹å¯¹è±¡ä¸Šã€‚ String.raw()ES6 è¿˜ä¸ºåŸç”Ÿçš„ String å¯¹è±¡ï¼Œæä¾›äº†ä¸€ä¸ªraw()æ–¹æ³•ã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰ï¼ˆå³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¾€å¾€ç”¨äºæ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†æ–¹æ³•ã€‚ 12345String.raw`Hi\\n${2+3}!`// å®é™…è¿”å› &quot;Hi\\\\n5!&quot;ï¼Œæ˜¾ç¤ºçš„æ˜¯è½¬ä¹‰åçš„ç»“æœ &quot;Hi\\n5!&quot;String.raw`Hi\\u000A!`;// å®é™…è¿”å› &quot;Hi\\\\u000A!&quot;ï¼Œæ˜¾ç¤ºçš„æ˜¯è½¬ä¹‰åçš„ç»“æœ &quot;Hi\\u000A!&quot; å¦‚æœåŸå­—ç¬¦ä¸²çš„æ–œæ å·²ç»è½¬ä¹‰ï¼Œé‚£ä¹ˆString.raw()ä¼šè¿›è¡Œå†æ¬¡è½¬ä¹‰ã€‚ 1234String.raw`Hi\\\\n`// è¿”å› &quot;Hi\\\\\\\\n&quot;String.raw`Hi\\\\n` === &quot;Hi\\\\\\\\n&quot; // true String.raw()æ–¹æ³•å¯ä»¥ä½œä¸ºå¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²çš„åŸºæœ¬æ–¹æ³•ï¼Œå®ƒä¼šå°†æ‰€æœ‰å˜é‡æ›¿æ¢ï¼Œè€Œä¸”å¯¹æ–œæ è¿›è¡Œè½¬ä¹‰ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ­¥ä½œä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨ã€‚ String.raw()æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ­£å¸¸çš„å‡½æ•°ï¼Œåªæ˜¯ä¸“ç”¨äºæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ã€‚å¦‚æœå†™æˆæ­£å¸¸å‡½æ•°çš„å½¢å¼ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªå…·æœ‰rawå±æ€§çš„å¯¹è±¡ï¼Œä¸”rawå±æ€§çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹åº”æ¨¡æ¿å­—ç¬¦ä¸²è§£æåçš„å€¼ã€‚ 123// `foo${1 + 2}bar`// ç­‰åŒäºString.raw({ raw: ['foo', 'bar'] }, 1 + 2) // &quot;foo3bar&quot; ä¸Šé¢ä»£ç ä¸­ï¼ŒString.raw()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„rawå±æ€§ç­‰åŒäºåŸå§‹çš„æ¨¡æ¿å­—ç¬¦ä¸²è§£æåå¾—åˆ°çš„æ•°ç»„ã€‚ ä½œä¸ºå‡½æ•°ï¼ŒString.raw()çš„ä»£ç å®ç°åŸºæœ¬å¦‚ä¸‹ã€‚ 12345678910String.raw = function (strings, ...values) { let output = ''; let index; for (index = 0; index &lt; values.length; index++) { output += strings.raw[index] + values[index]; } output += strings.raw[index] return output;} å®ä¾‹æ–¹æ³•ï¼šcodePointAt()JavaScript å†…éƒ¨ï¼Œå­—ç¬¦ä»¥ UTF-16 çš„æ ¼å¼å‚¨å­˜ï¼Œæ¯ä¸ªå­—ç¬¦å›ºå®šä¸º2ä¸ªå­—èŠ‚ã€‚å¯¹äºé‚£äº›éœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆUnicode ç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦ï¼‰ï¼ŒJavaScript ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚ 1234567var s = &quot;ğ ®·&quot;;s.length // 2s.charAt(0) // ''s.charAt(1) // ''s.charCodeAt(0) // 55362s.charCodeAt(1) // 57271 ä¸Šé¢ä»£ç ä¸­ï¼Œæ±‰å­—â€œğ ®·â€ï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªå­—ä¸æ˜¯â€œå‰ç¥¥â€çš„â€œå‰â€ï¼‰çš„ç ç‚¹æ˜¯0x20BB7ï¼ŒUTF-16 ç¼–ç ä¸º0xD842 0xDFB7ï¼ˆåè¿›åˆ¶ä¸º55362 57271ï¼‰ï¼Œéœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜ã€‚å¯¹äºè¿™ç§4ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼ŒJavaScript ä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¼šè¯¯åˆ¤ä¸º2ï¼Œè€Œä¸”charAt()æ–¹æ³•æ— æ³•è¯»å–æ•´ä¸ªå­—ç¬¦ï¼ŒcharCodeAt()æ–¹æ³•åªèƒ½åˆ†åˆ«è¿”å›å‰ä¸¤ä¸ªå­—èŠ‚å’Œåä¸¤ä¸ªå­—èŠ‚çš„å€¼ã€‚ ES6 æä¾›äº†codePointAt()æ–¹æ³•ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç† 4 ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚ 123456let s = 'ğ ®·a';s.codePointAt(0) // 134071s.codePointAt(1) // 57271s.codePointAt(2) // 97 codePointAt()æ–¹æ³•çš„å‚æ•°ï¼Œæ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼ˆä» 0 å¼€å§‹ï¼‰ã€‚ä¸Šé¢ä»£ç ä¸­ï¼ŒJavaScript å°†â€œğ ®·aâ€è§†ä¸ºä¸‰ä¸ªå­—ç¬¦ï¼ŒcodePointAt æ–¹æ³•åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œæ­£ç¡®åœ°è¯†åˆ«äº†â€œğ ®·â€ï¼Œè¿”å›äº†å®ƒçš„åè¿›åˆ¶ç ç‚¹ 134071ï¼ˆå³åå…­è¿›åˆ¶çš„20BB7ï¼‰ã€‚åœ¨ç¬¬äºŒä¸ªå­—ç¬¦ï¼ˆå³â€œğ ®·â€çš„åä¸¤ä¸ªå­—èŠ‚ï¼‰å’Œç¬¬ä¸‰ä¸ªå­—ç¬¦â€œaâ€ä¸Šï¼ŒcodePointAt()æ–¹æ³•çš„ç»“æœä¸charCodeAt()æ–¹æ³•ç›¸åŒã€‚ æ€»ä¹‹ï¼ŒcodePointAt()æ–¹æ³•ä¼šæ­£ç¡®è¿”å› 32 ä½çš„ UTF-16 å­—ç¬¦çš„ç ç‚¹ã€‚å¯¹äºé‚£äº›ä¸¤ä¸ªå­—èŠ‚å‚¨å­˜çš„å¸¸è§„å­—ç¬¦ï¼Œå®ƒçš„è¿”å›ç»“æœä¸charCodeAt()æ–¹æ³•ç›¸åŒã€‚ codePointAt()æ–¹æ³•è¿”å›çš„æ˜¯ç ç‚¹çš„åè¿›åˆ¶å€¼ï¼Œå¦‚æœæƒ³è¦åå…­è¿›åˆ¶çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨toString()æ–¹æ³•è½¬æ¢ä¸€ä¸‹ã€‚ 1234let s = 'ğ ®·a';s.codePointAt(0).toString(16) // &quot;20bb7&quot;s.codePointAt(2).toString(16) // &quot;61&quot; ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼ŒcodePointAt()æ–¹æ³•çš„å‚æ•°ï¼Œä»ç„¶æ˜¯ä¸æ­£ç¡®çš„ã€‚æ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦aåœ¨å­—ç¬¦ä¸²sçš„æ­£ç¡®ä½ç½®åºå·åº”è¯¥æ˜¯ 1ï¼Œä½†æ˜¯å¿…é¡»å‘codePointAt()æ–¹æ³•ä¼ å…¥ 2ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨for...ofå¾ªç¯ï¼Œå› ä¸ºå®ƒä¼šæ­£ç¡®è¯†åˆ« 32 ä½çš„ UTF-16 å­—ç¬¦ã€‚ 123456let s = 'ğ ®·a';for (let ch of s) { console.log(ch.codePointAt(0).toString(16));}// 20bb7// 61 å¦ä¸€ç§æ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰è¿›è¡Œå±•å¼€è¿ç®—ã€‚ 123456let arr = [...'ğ ®·a']; // arr.length === 2arr.forEach( ch =&gt; console.log(ch.codePointAt(0).toString(16)));// 20bb7// 61 codePointAt()æ–¹æ³•æ˜¯æµ‹è¯•ä¸€ä¸ªå­—ç¬¦ç”±ä¸¤ä¸ªå­—èŠ‚è¿˜æ˜¯ç”±å››ä¸ªå­—èŠ‚ç»„æˆçš„æœ€ç®€å•æ–¹æ³•ã€‚ 123function is32Bit(c) { return c.codePointAt(0) &gt; 0xFFFF;} å®ä¾‹æ–¹æ³•ï¼šnormalize()è®¸å¤šæ¬§æ´²è¯­è¨€æœ‰è¯­è°ƒç¬¦å·å’Œé‡éŸ³ç¬¦å·ã€‚ä¸ºäº†è¡¨ç¤ºå®ƒä»¬ï¼ŒUnicode æä¾›äº†ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯ç›´æ¥æä¾›å¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼Œæ¯”å¦‚Ç‘ï¼ˆ\\u01D1ï¼‰ã€‚å¦ä¸€ç§æ˜¯æä¾›åˆæˆç¬¦å·ï¼ˆcombining characterï¼‰ï¼Œå³åŸå­—ç¬¦ä¸é‡éŸ³ç¬¦å·çš„åˆæˆï¼Œä¸¤ä¸ªå­—ç¬¦åˆæˆä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚Oï¼ˆ\\u004Fï¼‰å’ŒË‡ï¼ˆ\\u030Cï¼‰åˆæˆÇ‘ï¼ˆ\\u004F\\u030Cï¼‰ã€‚ è¿™ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼Œåœ¨è§†è§‰å’Œè¯­ä¹‰ä¸Šéƒ½ç­‰ä»·ï¼Œä½†æ˜¯ JavaScript ä¸èƒ½è¯†åˆ«ã€‚ 1234'\\u01D1'==='\\u004F\\u030C' //false'\\u01D1'.length // 1'\\u004F\\u030C'.length // 2 ä¸Šé¢ä»£ç è¡¨ç¤ºï¼ŒJavaScript å°†åˆæˆå­—ç¬¦è§†ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œå¯¼è‡´ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ä¸ç›¸ç­‰ã€‚ ES6 æä¾›å­—ç¬¦ä¸²å®ä¾‹çš„normalize()æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–ã€‚ 12'\\u01D1'.normalize() === '\\u004F\\u030C'.normalize()// true normalizeæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°æ¥æŒ‡å®šnormalizeçš„æ–¹å¼ï¼Œå‚æ•°çš„å››ä¸ªå¯é€‰å€¼å¦‚ä¸‹ã€‚ NFCï¼Œé»˜è®¤å‚æ•°ï¼Œè¡¨ç¤ºâ€œæ ‡å‡†ç­‰ä»·åˆæˆâ€ï¼ˆNormalization Form Canonical Compositionï¼‰ï¼Œè¿”å›å¤šä¸ªç®€å•å­—ç¬¦çš„åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œæ ‡å‡†ç­‰ä»·â€æŒ‡çš„æ˜¯è§†è§‰å’Œè¯­ä¹‰ä¸Šçš„ç­‰ä»·ã€‚ NFDï¼Œè¡¨ç¤ºâ€œæ ‡å‡†ç­‰ä»·åˆ†è§£â€ï¼ˆNormalization Form Canonical Decompositionï¼‰ï¼Œå³åœ¨æ ‡å‡†ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚ NFKCï¼Œè¡¨ç¤ºâ€œå…¼å®¹ç­‰ä»·åˆæˆâ€ï¼ˆNormalization Form Compatibility Compositionï¼‰ï¼Œè¿”å›åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œå…¼å®¹ç­‰ä»·â€æŒ‡çš„æ˜¯è¯­ä¹‰ä¸Šå­˜åœ¨ç­‰ä»·ï¼Œä½†è§†è§‰ä¸Šä¸ç­‰ä»·ï¼Œæ¯”å¦‚â€œå›â€å’Œâ€œå–œå–œâ€ã€‚ï¼ˆè¿™åªæ˜¯ç”¨æ¥ä¸¾ä¾‹ï¼Œnormalizeæ–¹æ³•ä¸èƒ½è¯†åˆ«ä¸­æ–‡ã€‚ï¼‰ NFKDï¼Œè¡¨ç¤ºâ€œå…¼å®¹ç­‰ä»·åˆ†è§£â€ï¼ˆNormalization Form Compatibility Decompositionï¼‰ï¼Œå³åœ¨å…¼å®¹ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚ 12'\\u004F\\u030C'.normalize('NFC').length // 1'\\u004F\\u030C'.normalize('NFD').length // 2 ä¸Šé¢ä»£ç è¡¨ç¤ºï¼ŒNFCå‚æ•°è¿”å›å­—ç¬¦çš„åˆæˆå½¢å¼ï¼ŒNFDå‚æ•°è¿”å›å­—ç¬¦çš„åˆ†è§£å½¢å¼ã€‚ ä¸è¿‡ï¼Œnormalizeæ–¹æ³•ç›®å‰ä¸èƒ½è¯†åˆ«ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šå­—ç¬¦çš„åˆæˆã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯åªèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šè¿‡ Unicode ç¼–å·åŒºé—´åˆ¤æ–­ã€‚ å®ä¾‹æ–¹æ³•ï¼šincludes(), startsWith(), endsWith()ä¼ ç»Ÿä¸Šï¼ŒJavaScript åªæœ‰indexOfæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6 åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚ **includes()**ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚ **startsWith()**ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ **endsWith()**ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 12345let s = 'Hello world!';s.startsWith('Hello') // trues.endsWith('!') // trues.includes('o') // true è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚ 12345let s = 'Hello world!';s.startsWith('world', 6) // trues.endsWith('Hello', 5) // trues.includes('Hello', 6) // false ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°næ—¶ï¼ŒendsWithçš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰nä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚ å®ä¾‹æ–¹æ³•ï¼šrepeat()repeatæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚ 123'x'.repeat(3) // &quot;xxx&quot;'hello'.repeat(2) // &quot;hellohello&quot;'na'.repeat(0) // &quot;&quot; å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¼šè¢«å–æ•´ã€‚ 1'na'.repeat(2.9) // &quot;nana&quot; å¦‚æœrepeatçš„å‚æ•°æ˜¯è´Ÿæ•°æˆ–è€…Infinityï¼Œä¼šæŠ¥é”™ã€‚ 1234'na'.repeat(Infinity)// RangeError'na'.repeat(-1)// RangeError ä½†æ˜¯ï¼Œå¦‚æœå‚æ•°æ˜¯ 0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œåˆ™ç­‰åŒäº 0ï¼Œè¿™æ˜¯å› ä¸ºä¼šå…ˆè¿›è¡Œå–æ•´è¿ç®—ã€‚0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œå–æ•´ä»¥åç­‰äº-0ï¼Œrepeatè§†åŒä¸º 0ã€‚ 1'na'.repeat(-0.9) // &quot;&quot; å‚æ•°NaNç­‰åŒäº 0ã€‚ 1'na'.repeat(NaN) // &quot;&quot; å¦‚æœrepeatçš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå…ˆè½¬æ¢æˆæ•°å­—ã€‚ 12'na'.repeat('na') // &quot;&quot;'na'.repeat('3') // &quot;nanana&quot; å®ä¾‹æ–¹æ³•ï¼špadStart()ï¼ŒpadEnd()ES2017 å¼•å…¥äº†å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚padStart()ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼ŒpadEnd()ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚ 12345'x'.padStart(5, 'ab') // 'ababx''x'.padStart(4, 'ab') // 'abax''x'.padEnd(5, 'ab') // 'xabab''x'.padEnd(4, 'ab') // 'xaba' ä¸Šé¢ä»£ç ä¸­ï¼ŒpadStart()å’ŒpadEnd()ä¸€å…±æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²è¡¥å…¨ç”Ÿæ•ˆçš„æœ€å¤§é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚ å¦‚æœåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç­‰äºæˆ–å¤§äºæœ€å¤§é•¿åº¦ï¼Œåˆ™å­—ç¬¦ä¸²è¡¥å…¨ä¸ç”Ÿæ•ˆï¼Œè¿”å›åŸå­—ç¬¦ä¸²ã€‚ 12'xxx'.padStart(2, 'ab') // 'xxx''xxx'.padEnd(2, 'ab') // 'xxx' å¦‚æœç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²ï¼Œä¸¤è€…çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æœ€å¤§é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚ 12'abc'.padStart(10, '0123456789')// '0123456abc' å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ã€‚ 12'x'.padStart(4) // ' x''x'.padEnd(4) // 'x ' padStart()çš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°ã€‚ä¸‹é¢ä»£ç ç”Ÿæˆ 10 ä½çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚ 123'1'.padStart(10, '0') // &quot;0000000001&quot;'12'.padStart(10, '0') // &quot;0000000012&quot;'123456'.padStart(10, '0') // &quot;0000123456&quot; å¦ä¸€ä¸ªç”¨é€”æ˜¯æç¤ºå­—ç¬¦ä¸²æ ¼å¼ã€‚ 12'12'.padStart(10, 'YYYY-MM-DD') // &quot;YYYY-MM-12&quot;'09-12'.padStart(10, 'YYYY-MM-DD') // &quot;YYYY-09-12&quot; å®ä¾‹æ–¹æ³•ï¼štrimStart()ï¼ŒtrimEnd()ES2019å¯¹å­—ç¬¦ä¸²å®ä¾‹æ–°å¢äº†trimStart()å’ŒtrimEnd()è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å®ƒä»¬çš„è¡Œä¸ºä¸trim()ä¸€è‡´ï¼ŒtrimStart()æ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨çš„ç©ºæ ¼ï¼ŒtrimEnd()æ¶ˆé™¤å°¾éƒ¨çš„ç©ºæ ¼ã€‚å®ƒä»¬è¿”å›çš„éƒ½æ˜¯æ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚ 12345const s = ' abc ';s.trim() // &quot;abc&quot;s.trimStart() // &quot;abc &quot;s.trimEnd() // &quot; abc&quot; ä¸Šé¢ä»£ç ä¸­ï¼ŒtrimStart()åªæ¶ˆé™¤å¤´éƒ¨çš„ç©ºæ ¼ï¼Œä¿ç•™å°¾éƒ¨çš„ç©ºæ ¼ã€‚trimEnd()ä¹Ÿæ˜¯ç±»ä¼¼è¡Œä¸ºã€‚ é™¤äº†ç©ºæ ¼é”®ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯¹å­—ç¬¦ä¸²å¤´éƒ¨ï¼ˆæˆ–å°¾éƒ¨ï¼‰çš„ tab é”®ã€æ¢è¡Œç¬¦ç­‰ä¸å¯è§çš„ç©ºç™½ç¬¦å·ä¹Ÿæœ‰æ•ˆã€‚ æµè§ˆå™¨è¿˜éƒ¨ç½²äº†é¢å¤–çš„ä¸¤ä¸ªæ–¹æ³•ï¼ŒtrimLeft()æ˜¯trimStart()çš„åˆ«åï¼ŒtrimRight()æ˜¯trimEnd()çš„åˆ«å å®ä¾‹æ–¹æ³•ï¼šmatchAll()matchAll()æ–¹æ³•è¿”å›ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å½“å‰å­—ç¬¦ä¸²çš„æ‰€æœ‰åŒ¹é…ï¼Œè¯¦è§ã€Šæ­£åˆ™çš„æ‰©å±•ã€‹çš„ä¸€ç« ã€‚ å®ä¾‹æ–¹æ³•ï¼šreplaceAll()å†å²ä¸Šï¼Œå­—ç¬¦ä¸²çš„å®ä¾‹æ–¹æ³•replace()åªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ã€‚ 12'aabbcc'.replace('b', '_')// 'aa_bcc' ä¸Šé¢ä¾‹å­ä¸­ï¼Œreplace()åªå°†ç¬¬ä¸€ä¸ªbæ›¿æ¢æˆäº†ä¸‹åˆ’çº¿ã€‚ å¦‚æœè¦æ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ï¼Œä¸å¾—ä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„gä¿®é¥°ç¬¦ã€‚ 12'aabbcc'.replace(/b/g, '_')// 'aa__cc' æ­£åˆ™è¡¨è¾¾å¼æ¯•ç«Ÿä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿å’Œç›´è§‚ï¼ŒES2021 å¼•å…¥äº†replaceAll()æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰åŒ¹é…ã€‚ 12'aabbcc'.replaceAll('b', '_')// 'aa__cc' å®ƒçš„ç”¨æ³•ä¸replace()ç›¸åŒï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šæ”¹å˜åŸå­—ç¬¦ä¸²ã€‚ 1String.prototype.replaceAll(searchValue, replacement) ä¸Šé¢ä»£ç ä¸­ï¼ŒsearchValueæ˜¯æœç´¢æ¨¡å¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…¨å±€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¸¦æœ‰gä¿®é¥°ç¬¦ï¼‰ã€‚ å¦‚æœsearchValueæ˜¯ä¸€ä¸ªä¸å¸¦æœ‰gä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ŒreplaceAll()ä¼šæŠ¥é”™ã€‚è¿™ä¸€ç‚¹è·Ÿreplace()ä¸åŒã€‚ 12345// ä¸æŠ¥é”™'aabbcc'.replace(/b/, '_')// æŠ¥é”™'aabbcc'.replaceAll(/b/, '_') ä¸Šé¢ä¾‹å­ä¸­ï¼Œ/b/ä¸å¸¦æœ‰gä¿®é¥°ç¬¦ï¼Œä¼šå¯¼è‡´replaceAll()æŠ¥é”™ã€‚ replaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°replacementæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ›¿æ¢çš„æ–‡æœ¬ï¼Œå…¶ä¸­å¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚ $&amp;ï¼šåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ $ `ï¼šåŒ¹é…ç»“æœå‰é¢çš„æ–‡æœ¬ã€‚ $'ï¼šåŒ¹é…ç»“æœåé¢çš„æ–‡æœ¬ã€‚ $nï¼šåŒ¹é…æˆåŠŸçš„ç¬¬nç»„å†…å®¹ï¼Œnæ˜¯ä»1å¼€å§‹çš„è‡ªç„¶æ•°ã€‚è¿™ä¸ªå‚æ•°ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ $$ï¼šæŒ‡ä»£ç¾å…ƒç¬¦å·$ã€‚ ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚ 12345678910111213141516171819202122232425// $&amp; è¡¨ç¤ºåŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå³`b`æœ¬èº«// æ‰€ä»¥è¿”å›ç»“æœä¸åŸå­—ç¬¦ä¸²ä¸€è‡´'abbc'.replaceAll('b', '$&amp;')// 'abbc'// $` è¡¨ç¤ºåŒ¹é…ç»“æœä¹‹å‰çš„å­—ç¬¦ä¸²// å¯¹äºç¬¬ä¸€ä¸ª`b`ï¼Œ$` æŒ‡ä»£`a`// å¯¹äºç¬¬äºŒä¸ª`b`ï¼Œ$` æŒ‡ä»£`ab`'abbc'.replaceAll('b', '$`')// 'aaabc'// $' è¡¨ç¤ºåŒ¹é…ç»“æœä¹‹åçš„å­—ç¬¦ä¸²// å¯¹äºç¬¬ä¸€ä¸ª`b`ï¼Œ$' æŒ‡ä»£`bc`// å¯¹äºç¬¬äºŒä¸ª`b`ï¼Œ$' æŒ‡ä»£`c`'abbc'.replaceAll('b', `$'`)// 'abccc'// $1 è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªç»„åŒ¹é…ï¼ŒæŒ‡ä»£`ab`// $2 è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬äºŒä¸ªç»„åŒ¹é…ï¼ŒæŒ‡ä»£`bc`'abbc'.replaceAll(/(ab)(bc)/g, '$2$1')// 'bcab'// $$ æŒ‡ä»£ $'abc'.replaceAll('b', '$$')// 'a$c' replaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°replacementé™¤äº†ä¸ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°searchValueåŒ¹é…çš„æ–‡æœ¬ã€‚ 12'aabbcc'.replaceAll('b', () =&gt; '_')// 'aa__cc' ä¸Šé¢ä¾‹å­ä¸­ï¼ŒreplaceAll()çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šæ›¿æ¢æ‰æ‰€æœ‰bçš„åŒ¹é…ã€‚ è¿™ä¸ªæ›¿æ¢å‡½æ•°å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ•æ‰åˆ°æ˜¯ç»„åŒ¹é…ï¼ˆæœ‰å¤šå°‘ä¸ªç»„åŒ¹é…ï¼Œå°±æœ‰å¤šå°‘ä¸ªå¯¹åº”çš„å‚æ•°ï¼‰ã€‚æ­¤å¤–ï¼Œæœ€åè¿˜å¯ä»¥æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼Œå€’æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„å†…å®¹åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯åŸå­—ç¬¦ä¸²ã€‚ 123456789const str = '123abc456';const regex = /(\\d+)([a-z]+)(\\d+)/g;function replacer(match, p1, p2, p3, offset, string) { return [p1, p2, p3].join(' - ');}str.replaceAll(regex, replacer)// 123 - abc - 456 ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸‰ä¸ªç»„åŒ¹é…ï¼Œæ‰€ä»¥replacer()å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°matchæ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼ˆå³å­—ç¬¦ä¸²123abc456ï¼‰ï¼Œåé¢ä¸‰ä¸ªå‚æ•°p1ã€p2ã€p3åˆ™ä¾æ¬¡ä¸ºä¸‰ä¸ªç»„åŒ¹é…ã€‚","link":"/JavaScript/10.%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"æ•°å€¼çš„æ‰©å±•","text":"1.äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºå‘ES6æä¾›äº†äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶æ•°å€¼çš„æ–°å†™æ³•ï¼ŒäºŒè¿›åˆ¶ä½¿ç”¨0b(0B)å…«è¿›åˆ¶ä½¿ç”¨0o(0O)æ¥è¡¨ç¤º 120b111110111 === 503 // true0o767 === 503 // true å¦‚æœè¦å°†0bå’Œ0oå‰ç¼€çš„å­—ç¬¦ä¸²æ•°å€¼è½¬ä¸ºåè¿›åˆ¶ï¼Œè¦ä½¿ç”¨Numberæ–¹æ³•ã€‚ 12Number('0b111') // 7Number('0o10') // 8 2.æ•°å€¼åˆ†éš”ç¬¦ES2021ä¸­ï¼Œå…è®¸JavaScriptçš„æ•°å€¼ä½¿ç”¨ä¸‹åˆ’çº¿(_)ä½œä¸ºåˆ†éš”ç¬¦ 1let num = 1_000_000_000_000 è¿™ä¸ªæ•°å€¼åˆ†éš”ç¬¦æ²¡æœ‰æŒ‡å®šé—´éš”çš„ä½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œä¹Ÿå¯ä»¥æ¯ä¸€ä½ã€æ¯ä¸¤ä½ã€æ¯å››ä½æ·»åŠ ä¸€ä¸ªã€‚ 1234123_00 === 12_300 // true12345_00 === 123_4500 // true12345_00 === 1_234_500 // true å°æ•°å’Œç§‘å­¦è®¡æ•°æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å€¼åˆ†éš”ç¬¦ã€‚ 12345// å°æ•°0.000_001// ç§‘å­¦è®¡æ•°æ³•1e10_000 æ•°å€¼åˆ†éš”ç¬¦æœ‰å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚ ä¸èƒ½æ”¾åœ¨æ•°å€¼çš„æœ€å‰é¢ï¼ˆleadingï¼‰æˆ–æœ€åé¢ï¼ˆtrailingï¼‰ã€‚ ä¸èƒ½ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„åˆ†éš”ç¬¦è¿åœ¨ä¸€èµ·ã€‚ å°æ•°ç‚¹çš„å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ã€‚ ç§‘å­¦è®¡æ•°æ³•é‡Œé¢ï¼Œè¡¨ç¤ºæŒ‡æ•°çš„eæˆ–Eå‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ã€‚ ä¸‹é¢ä¸‰ä¸ªå°†å­—ç¬¦ä¸²è½¬æˆæ•°å€¼çš„å‡½æ•°ï¼Œä¸æ”¯æŒæ•°å€¼åˆ†éš”ç¬¦ã€‚ä¸»è¦åŸå› æ˜¯è¯­è¨€çš„è®¾è®¡è€…è®¤ä¸ºï¼Œæ•°å€¼åˆ†éš”ç¬¦ä¸»è¦æ˜¯ä¸ºäº†ç¼–ç æ—¶ä¹¦å†™æ•°å€¼çš„æ–¹ä¾¿ï¼Œè€Œä¸æ˜¯ä¸ºäº†å¤„ç†å¤–éƒ¨è¾“å…¥çš„æ•°æ®ã€‚ Number() parseInt() parseFloat() 12Number('123_456') // NaNparseInt('123_456') // 123 3.Number.isFinite()å’ŒNumber.isNaN()ES6 åœ¨Numberå¯¹è±¡ä¸Šï¼Œæ–°æä¾›äº†Number.isFinite()å’ŒNumber.isNaN()ä¸¤ä¸ªæ–¹æ³•ã€‚ Number.isFinite()ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰ï¼Œå³ä¸æ˜¯Infinityã€‚ 12345678Number.isFinite(15); // trueNumber.isFinite(0.8); // trueNumber.isFinite(NaN); // falseNumber.isFinite(Infinity); // falseNumber.isFinite(-Infinity); // falseNumber.isFinite('foo'); // falseNumber.isFinite('15'); // falseNumber.isFinite(true); // false æ³¨æ„ï¼Œå¦‚æœå‚æ•°ç±»å‹ä¸æ˜¯æ•°å€¼ï¼ŒNumber.isFiniteä¸€å¾‹è¿”å›falseã€‚ Number.isNaN()ç”¨æ¥æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºNaNã€‚ 1234567Number.isNaN(NaN) // trueNumber.isNaN(15) // falseNumber.isNaN('15') // falseNumber.isNaN(true) // falseNumber.isNaN(9/NaN) // trueNumber.isNaN('true' / 0) // trueNumber.isNaN('true' / 'true') // true å¦‚æœå‚æ•°ç±»å‹ä¸æ˜¯NaNï¼ŒNumber.isNaNä¸€å¾‹è¿”å›falseã€‚ å®ƒä»¬ä¸ä¼ ç»Ÿçš„å…¨å±€æ–¹æ³•isFinite()å’ŒisNaN()çš„åŒºåˆ«åœ¨äºï¼Œä¼ ç»Ÿæ–¹æ³•å…ˆè°ƒç”¨Number()å°†éæ•°å€¼çš„å€¼è½¬ä¸ºæ•°å€¼ï¼Œå†è¿›è¡Œåˆ¤æ–­ï¼Œè€Œè¿™ä¸¤ä¸ªæ–°æ–¹æ³•åªå¯¹æ•°å€¼æœ‰æ•ˆï¼ŒNumber.isFinite()å¯¹äºéæ•°å€¼ä¸€å¾‹è¿”å›false, Number.isNaN()åªæœ‰å¯¹äºNaNæ‰è¿”å›trueï¼ŒéNaNä¸€å¾‹è¿”å›falseã€‚ 12345678910isFinite(25) // trueisFinite(&quot;25&quot;) // trueNumber.isFinite(25) // trueNumber.isFinite(&quot;25&quot;) // falseisNaN(NaN) // trueisNaN(&quot;NaN&quot;) // trueNumber.isNaN(NaN) // trueNumber.isNaN(&quot;NaN&quot;) // falseNumber.isNaN(1) // false 4.Number.parseInt(), Number.parseFloat()ES6 å°†å…¨å±€æ–¹æ³•parseInt()å’ŒparseFloat()ï¼Œç§»æ¤åˆ°Numberå¯¹è±¡ä¸Šé¢ï¼Œè¡Œä¸ºå®Œå…¨ä¿æŒä¸å˜ã€‚ 1234567// ES5çš„å†™æ³•parseInt('12.34') // 12parseFloat('123.45#') // 123.45// ES6çš„å†™æ³•Number.parseInt('12.34') // 12Number.parseFloat('123.45#') // 123.45 è¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯é€æ­¥å‡å°‘å…¨å±€æ€§æ–¹æ³•ï¼Œä½¿å¾—è¯­è¨€é€æ­¥æ¨¡å—åŒ–ã€‚ 12Number.parseInt === parseInt // trueNumber.parseFloat === parseFloat // true 5.Number.isInteger()Number.isInteger()ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚ 12Number.isInteger(25) // trueNumber.isInteger(25.1) // false JavaScript å†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°é‡‡ç”¨çš„æ˜¯åŒæ ·çš„å‚¨å­˜æ–¹æ³•ï¼Œæ‰€ä»¥ 25 å’Œ 25.0 è¢«è§†ä¸ºåŒä¸€ä¸ªå€¼ã€‚ 12Number.isInteger(25) // trueNumber.isInteger(25.0) // true å¦‚æœå‚æ•°ä¸æ˜¯æ•°å€¼ï¼ŒNumber.isIntegerè¿”å›falseã€‚ 1234Number.isInteger() // falseNumber.isInteger(null) // falseNumber.isInteger('15') // falseNumber.isInteger(true) // false æ³¨æ„ï¼Œç”±äº JavaScript é‡‡ç”¨ IEEE 754 æ ‡å‡†ï¼Œæ•°å€¼å­˜å‚¨ä¸º64ä½åŒç²¾åº¦æ ¼å¼ï¼Œæ•°å€¼ç²¾åº¦æœ€å¤šå¯ä»¥è¾¾åˆ° 53 ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆ1 ä¸ªéšè—ä½ä¸ 52 ä¸ªæœ‰æ•ˆä½ï¼‰ã€‚å¦‚æœæ•°å€¼çš„ç²¾åº¦è¶…è¿‡è¿™ä¸ªé™åº¦ï¼Œç¬¬54ä½åŠåé¢çš„ä½å°±ä¼šè¢«ä¸¢å¼ƒï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒNumber.isIntegerå¯èƒ½ä¼šè¯¯åˆ¤ã€‚ 1Number.isInteger(3.0000000000000002) // true ä¸Šé¢ä»£ç ä¸­ï¼ŒNumber.isIntegerçš„å‚æ•°æ˜æ˜ä¸æ˜¯æ•´æ•°ï¼Œä½†æ˜¯ä¼šè¿”å›trueã€‚åŸå› å°±æ˜¯è¿™ä¸ªå°æ•°çš„ç²¾åº¦è¾¾åˆ°äº†å°æ•°ç‚¹å16ä¸ªåè¿›åˆ¶ä½ï¼Œè½¬æˆäºŒè¿›åˆ¶ä½è¶…è¿‡äº†53ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¯¼è‡´æœ€åçš„é‚£ä¸ª2è¢«ä¸¢å¼ƒäº†ã€‚ ç±»ä¼¼çš„æƒ…å†µè¿˜æœ‰ï¼Œå¦‚æœä¸€ä¸ªæ•°å€¼çš„ç»å¯¹å€¼å°äºNumber.MIN_VALUEï¼ˆ5E-324ï¼‰ï¼Œå³å°äº JavaScript èƒ½å¤Ÿåˆ†è¾¨çš„æœ€å°å€¼ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸º 0ã€‚è¿™æ—¶ï¼ŒNumber.isIntegerä¹Ÿä¼šè¯¯åˆ¤ã€‚ 12Number.isInteger(5E-324) // falseNumber.isInteger(5E-325) // true ä¸Šé¢ä»£ç ä¸­ï¼Œ5E-325ç”±äºå€¼å¤ªå°ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸º0ï¼Œå› æ­¤è¿”å›trueã€‚ æ€»ä¹‹ï¼Œå¦‚æœå¯¹æ•°æ®ç²¾åº¦çš„è¦æ±‚è¾ƒé«˜ï¼Œä¸å»ºè®®ä½¿ç”¨Number.isInteger()åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚ 6.Number.EPSILONå’ŒNumber.isSafeInteager() æœ€å°ç²¾åº¦å€¼ ES6åœ¨Numberå¯¹è±¡ä¸Šé¢ï¼Œæ–°å¢äº†ä¸€ä¸ªæå°çš„å¸¸é‡Number.EPSILONå®ƒè¡¨ç¤º1ä¸å¤§äº1çš„æœ€å°æµ®ç‚¹æ•°ä¹‹é—´çš„å·® å¯¹äº 64 ä½æµ®ç‚¹æ•°æ¥è¯´ï¼Œå¤§äº 1 çš„æœ€å°æµ®ç‚¹æ•°ç›¸å½“äºäºŒè¿›åˆ¶çš„1.00..001ï¼Œå°æ•°ç‚¹åé¢æœ‰è¿ç»­ 51 ä¸ªé›¶ã€‚è¿™ä¸ªå€¼å‡å» 1 ä¹‹åï¼Œå°±ç­‰äº 2 çš„ -52 æ¬¡æ–¹ã€‚ 123456Number.EPSILON === Math.pow(2, -52)// trueNumber.EPSILON// 2.220446049250313e-16Number.EPSILON.toFixed(20)// &quot;0.00000000000000022204&quot; å¼•å…¥ä¸€ä¸ªè¿™ä¹ˆå°çš„é‡çš„ç›®çš„ï¼Œåœ¨äºä¸ºæµ®ç‚¹æ•°è®¡ç®—ï¼Œè®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´ã€‚æˆ‘ä»¬çŸ¥é“æµ®ç‚¹æ•°è®¡ç®—æ˜¯ä¸ç²¾ç¡®çš„ã€‚ 123456780.1 + 0.2// 0.300000000000000040.1 + 0.2 - 0.3// 5.551115123125783e-175.551115123125783e-17.toFixed(20)// '0.00000000000000005551' ä¸Šé¢ä»£ç è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆæ¯”è¾ƒ0.1 + 0.2ä¸0.3å¾—åˆ°çš„ç»“æœæ˜¯falseã€‚ 10.1 + 0.2 === 0.3 // false Number.EPSILONå¯ä»¥ç”¨æ¥è®¾ç½®â€œèƒ½å¤Ÿæ¥å—çš„è¯¯å·®èŒƒå›´â€ã€‚æ¯”å¦‚ï¼Œè¯¯å·®èŒƒå›´è®¾ä¸º 2 çš„-50 æ¬¡æ–¹ï¼ˆå³Number.EPSILON * Math.pow(2, 2)ï¼‰ï¼Œå³å¦‚æœä¸¤ä¸ªæµ®ç‚¹æ•°çš„å·®å°äºè¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸ç­‰ã€‚ 125.551115123125783e-17 &lt; Number.EPSILON * Math.pow(2, 2)// true å› æ­¤ï¼ŒNumber.EPSILONçš„å®è´¨æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´ã€‚ 123456789function withinErrorMargin (left, right) { return Math.abs(left - right) &lt; Number.EPSILON * Math.pow(2, 2);}0.1 + 0.2 === 0.3 // falsewithinErrorMargin(0.1 + 0.2, 0.3) // true1.1 + 1.3 === 2.4 // falsewithinErrorMargin(1.1 + 1.3, 2.4) // true ä¸Šé¢çš„ä»£ç ä¸ºæµ®ç‚¹æ•°è¿ç®—ï¼Œéƒ¨ç½²äº†ä¸€ä¸ªè¯¯å·®æ£€æŸ¥å‡½æ•°ã€‚ å®‰å…¨æ•´æ•° JavaScript èƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨-2^53åˆ°2^53ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªå€¼ã€‚ ES6 å¼•å…¥äº†Number.MAX_SAFE_INTEGERå’ŒNumber.MIN_SAFE_INTEGERè¿™ä¸¤ä¸ªå¸¸é‡ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªèŒƒå›´çš„ä¸Šä¸‹é™ã€‚ 123456789Number.MAX_SAFE_INTEGER === Math.pow(2, 53) - 1// trueNumber.MAX_SAFE_INTEGER === 9007199254740991// trueNumber.MIN_SAFE_INTEGER === -Number.MAX_SAFE_INTEGER// trueNumber.MIN_SAFE_INTEGER === -9007199254740991// true Number.isSafeInteger()åˆ™æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦è½åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…ã€‚ æ³¨æ„ï¼šå®é™…ä½¿ç”¨è¿™ä¸ªAPIæ—¶ï¼Œå¿…é¡»æ³¨æ„éªŒè¯è¿ç®—çš„ç»“æœæ˜¯å¦è½åœ¨å®‰å…¨æ•´æ•°çš„èŒƒå›´å†…ï¼Œä¸è¦åªéªŒè¯è¿ç®—ç»“æœï¼Œè€Œè¦åŒæ—¶éªŒè¯å‚ä¸è¿ç®—çš„æ¯ä¸ªå€¼ 123456789Number.isSafeInteger(9007199254740993)// falseNumber.isSafeInteger(990)// trueNumber.isSafeInteger(9007199254740993 - 990)// true9007199254740993 - 990// è¿”å›ç»“æœ 9007199254740002// æ­£ç¡®ç­”æ¡ˆåº”è¯¥æ˜¯ 9007199254740003 ä¸Šé¢ä»£ç ä¸­ï¼Œ9007199254740993ä¸æ˜¯ä¸€ä¸ªå®‰å…¨æ•´æ•°ï¼Œä½†æ˜¯Number.isSafeIntegerä¼šè¿”å›ç»“æœï¼Œæ˜¾ç¤ºè®¡ç®—ç»“æœæ˜¯å®‰å…¨çš„ã€‚è¿™æ˜¯å› ä¸ºï¼Œè¿™ä¸ªæ•°è¶…å‡ºäº†ç²¾åº¦èŒƒå›´ï¼Œå¯¼è‡´åœ¨è®¡ç®—æœºå†…éƒ¨ï¼Œä»¥9007199254740992çš„å½¢å¼å‚¨å­˜ã€‚","link":"/JavaScript/11.%E6%95%B0%E5%80%BC%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"Mathçš„æ‰©å±•","text":"1.Math.trunc()ç”¨äºå»é™¤ä¸€ä¸ªæ•°å€¼çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ† 12345Math.trunc(4.1) // 4Math.trunc(4.9) // 4Math.trunc(-4.1) // -4Math.trunc(-4.9) // -4Math.trunc(-0.1234) // -0 å¯¹äºéæ•°å€¼ï¼Œä¼šå…ˆè°ƒç”¨Numberæ–¹æ³•å°†å…¶è½¬ä¸ºæ•°å€¼ 123456789Math.trunc('123.456') // 123Math.trunc(true) //1Math.trunc(false) // 0Math.trunc(null) // 0Math.trunc(NaN); // NaNMath.trunc('foo'); // NaNMath.trunc(); // NaNMath.trunc(undefined) // NaN å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚ 123Math.trunc = Math.trunc || function(x) { return x &lt; 0 ? Math.ceil(x) : Math.floor(x);}; 2.Math.sign()ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ï¼Œè´Ÿæ•°ï¼Œè¿˜æ˜¯é›¶ã€‚å¯¹äºéæ•°å€¼ï¼Œä¼šå…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ å®ƒä¼šè¿”å›äº”ç§å€¼ å‚æ•°ä¸ºæ­£æ•°ï¼Œè¿”å›+1ï¼› å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›-1ï¼› å‚æ•°ä¸º 0ï¼Œè¿”å›0ï¼› å‚æ•°ä¸º-0ï¼Œè¿”å›-0; å…¶ä»–å€¼ï¼Œè¿”å›NaNã€‚ 12345Math.sign(-5) // -1Math.sign(5) // +1Math.sign(0) // +0Math.sign(-0) // -0Math.sign(NaN) // NaN å¦‚æœå‚æ•°æ˜¯éæ•°å€¼ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºæ•°å€¼ã€‚å¯¹äºé‚£äº›æ— æ³•è½¬ä¸ºæ•°å€¼çš„å€¼ï¼Œä¼šè¿”å›NaNã€‚ 12345678Math.sign('') // 0Math.sign(true) // +1Math.sign(false) // 0Math.sign(null) // 0Math.sign('9') // +1Math.sign('foo') // NaNMath.sign() // NaNMath.sign(undefined) // NaN 3.Math.cbrt()ç”¨äºè®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹ï¼Œå¯¹äºéæ•°å€¼ï¼Œä¼šå…ˆè°ƒç”¨Numberæ–¹æ³•å°†å…¶è½¬ä¸ºæ•°å€¼ 1234567Math.cbrt(-1) // -1Math.cbrt(0) // 0Math.cbrt(1) // 1Math.cbrt(2) // 1.2599210498948732Math.cbrt('8') // 2Math.cbrt('hello') // NaN 4.Math.clz32()å°†å‚æ•°è½¬ä¸º 32 ä½æ— ç¬¦å·æ•´æ•°çš„å½¢å¼ï¼Œç„¶åè¿”å›è¿™ä¸ª 32 ä½å€¼é‡Œé¢æœ‰å¤šå°‘ä¸ªå‰å¯¼ 0ã€‚ 12345Math.clz32(0) // 32Math.clz32(1) // 31Math.clz32(1000) // 22Math.clz32(0b01000000000000000000000000000000) // 1Math.clz32(0b00100000000000000000000000000000) // 2 ä¸Šé¢ä»£ç ä¸­ï¼Œ0 çš„äºŒè¿›åˆ¶å½¢å¼å…¨ä¸º 0ï¼Œæ‰€ä»¥æœ‰ 32 ä¸ªå‰å¯¼ 0ï¼›1 çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯0b1ï¼Œåªå  1 ä½ï¼Œæ‰€ä»¥ 32 ä½ä¹‹ä¸­æœ‰ 31 ä¸ªå‰å¯¼ 0ï¼›1000 çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯0b1111101000ï¼Œä¸€å…±æœ‰ 10 ä½ï¼Œæ‰€ä»¥ 32 ä½ä¹‹ä¸­æœ‰ 22 ä¸ªå‰å¯¼ 0ã€‚ clz32è¿™ä¸ªå‡½æ•°åå°±æ¥è‡ªâ€count leading zero bits in 32-bit binary representation of a numberâ€œï¼ˆè®¡ç®—ä¸€ä¸ªæ•°çš„ 32 ä½äºŒè¿›åˆ¶å½¢å¼çš„å‰å¯¼ 0 çš„ä¸ªæ•°ï¼‰çš„ç¼©å†™ã€‚ å·¦ç§»è¿ç®—ç¬¦ï¼ˆ&lt;&lt;ï¼‰ä¸Math.clz32æ–¹æ³•ç›´æ¥ç›¸å…³ã€‚ 12345Math.clz32(0) // 32Math.clz32(1) // 31Math.clz32(1 &lt;&lt; 1) // 30Math.clz32(1 &lt;&lt; 2) // 29Math.clz32(1 &lt;&lt; 29) // 2 å¯¹äºå°æ•°ï¼ŒMath.clz32æ–¹æ³•åªè€ƒè™‘æ•´æ•°éƒ¨åˆ†ã€‚ 12Math.clz32(3.2) // 30Math.clz32(3.9) // 30 å¯¹äºç©ºå€¼æˆ–å…¶ä»–ç±»å‹çš„å€¼ï¼ŒMath.clz32æ–¹æ³•ä¼šå°†å®ƒä»¬å…ˆè½¬ä¸ºæ•°å€¼ï¼Œç„¶åå†è®¡ç®—ã€‚ 12345678Math.clz32() // 32Math.clz32(NaN) // 32Math.clz32(Infinity) // 32Math.clz32(null) // 32Math.clz32('foo') // 32Math.clz32([]) // 32Math.clz32({}) // 32Math.clz32(true) // 31 5.Math.imul()Math.imulæ–¹æ³•è¿”å›ä¸¤ä¸ªæ•°ä»¥ 32 ä½å¸¦ç¬¦å·æ•´æ•°å½¢å¼ç›¸ä¹˜çš„ç»“æœï¼Œè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª 32 ä½çš„å¸¦ç¬¦å·æ•´æ•°ã€‚ 123Math.imul(2, 4) // 8Math.imul(-1, 8) // -8Math.imul(-2, -2) // 4 å¦‚æœåªè€ƒè™‘æœ€å 32 ä½ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒMath.imul(a, b)ä¸a * bçš„ç»“æœæ˜¯ç›¸åŒçš„ï¼Œå³è¯¥æ–¹æ³•ç­‰åŒäº(a * b)|0çš„æ•ˆæœï¼ˆè¶…è¿‡ 32 ä½çš„éƒ¨åˆ†æº¢å‡ºï¼‰ã€‚ä¹‹æ‰€ä»¥éœ€è¦éƒ¨ç½²è¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯å› ä¸º JavaScript æœ‰ç²¾åº¦é™åˆ¶ï¼Œè¶…è¿‡ 2 çš„ 53 æ¬¡æ–¹çš„å€¼æ— æ³•ç²¾ç¡®è¡¨ç¤ºã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹äºé‚£äº›å¾ˆå¤§çš„æ•°çš„ä¹˜æ³•ï¼Œä½ä½æ•°å€¼å¾€å¾€éƒ½æ˜¯ä¸ç²¾ç¡®çš„ï¼ŒMath.imulæ–¹æ³•å¯ä»¥è¿”å›æ­£ç¡®çš„ä½ä½æ•°å€¼ã€‚ 1(0x7fffffff * 0x7fffffff)|0 // 0 ä¸Šé¢è¿™ä¸ªä¹˜æ³•ç®—å¼ï¼Œè¿”å›ç»“æœä¸º 0ã€‚ä½†æ˜¯ç”±äºè¿™ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½éƒ½æ˜¯ 1ï¼Œæ‰€ä»¥è¿™ä¸ªç»“æœè‚¯å®šæ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºæ ¹æ®äºŒè¿›åˆ¶ä¹˜æ³•ï¼Œè®¡ç®—ç»“æœçš„äºŒè¿›åˆ¶æœ€ä½ä½åº”è¯¥ä¹Ÿæ˜¯ 1ã€‚è¿™ä¸ªé”™è¯¯å°±æ˜¯å› ä¸ºå®ƒä»¬çš„ä¹˜ç§¯è¶…è¿‡äº† 2 çš„ 53 æ¬¡æ–¹ï¼ŒJavaScript æ— æ³•ä¿å­˜é¢å¤–çš„ç²¾åº¦ï¼Œå°±æŠŠä½ä½çš„å€¼éƒ½å˜æˆäº† 0ã€‚Math.imulæ–¹æ³•å¯ä»¥è¿”å›æ­£ç¡®çš„å€¼ 1ã€‚ 1Math.imul(0x7fffffff, 0x7fffffff) // 1 6.Math.fround()Math.froundæ–¹æ³•è¿”å›ä¸€ä¸ªæ•°çš„32ä½å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼ã€‚ å¯¹äº32ä½å•ç²¾åº¦æ ¼å¼æ¥è¯´ï¼Œæ•°å€¼ç²¾åº¦æ˜¯24ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆ1 ä½éšè—ä½ä¸ 23 ä½æœ‰æ•ˆä½ï¼‰ï¼Œæ‰€ä»¥å¯¹äº -224 è‡³ 224 ä¹‹é—´çš„æ•´æ•°ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¿”å›ç»“æœä¸å‚æ•°æœ¬èº«ä¸€è‡´ã€‚ 123Math.fround(0) // 0Math.fround(1) // 1Math.fround(2 ** 24 - 1) // 16777215 å¦‚æœå‚æ•°çš„ç»å¯¹å€¼å¤§äº 224ï¼Œè¿”å›çš„ç»“æœä¾¿å¼€å§‹ä¸¢å¤±ç²¾åº¦ã€‚ 12Math.fround(2 ** 24) // 16777216Math.fround(2 ** 24 + 1) // 16777216 Math.froundæ–¹æ³•çš„ä¸»è¦ä½œç”¨ï¼Œæ˜¯å°†64ä½åŒç²¾åº¦æµ®ç‚¹æ•°è½¬ä¸º32ä½å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚å¦‚æœå°æ•°çš„ç²¾åº¦è¶…è¿‡24ä¸ªäºŒè¿›åˆ¶ä½ï¼Œè¿”å›å€¼å°±ä¼šä¸åŒäºåŸå€¼ï¼Œå¦åˆ™è¿”å›å€¼ä¸å˜ï¼ˆå³ä¸64ä½åŒç²¾åº¦å€¼ä¸€è‡´ï¼‰ã€‚ 12345678// æœªä¸¢å¤±æœ‰æ•ˆç²¾åº¦Math.fround(1.125) // 1.125Math.fround(7.25) // 7.25// ä¸¢å¤±ç²¾åº¦Math.fround(0.3) // 0.30000001192092896Math.fround(0.7) // 0.699999988079071Math.fround(1.0000000123) // 1 å¯¹äº NaN å’Œ Infinityï¼Œæ­¤æ–¹æ³•è¿”å›åŸå€¼ã€‚å¯¹äºå…¶å®ƒç±»å‹çš„éæ•°å€¼ï¼ŒMath.fround æ–¹æ³•ä¼šå…ˆå°†å…¶è½¬ä¸ºæ•°å€¼ï¼Œå†è¿”å›å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚ 12345678Math.fround(NaN) // NaNMath.fround(Infinity) // InfinityMath.fround('5') // 5Math.fround(true) // 1Math.fround(null) // 0Math.fround([]) // 0Math.fround({}) // NaN å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚ 123Math.fround = Math.fround || function (x) { return new Float32Array([x])[0];}; 7.Math.hypot()Math.hypotæ–¹æ³•è¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ã€‚ 1234567Math.hypot(3, 4); // 5Math.hypot(3, 4, 5); // 7.0710678118654755Math.hypot(); // 0Math.hypot(NaN); // NaNMath.hypot(3, 4, 'foo'); // NaNMath.hypot(3, 4, '5'); // 7.0710678118654755Math.hypot(-3); // 3 ä¸Šé¢ä»£ç ä¸­ï¼Œ3 çš„å¹³æ–¹åŠ ä¸Š 4 çš„å¹³æ–¹ï¼Œç­‰äº 5 çš„å¹³æ–¹ã€‚ å¦‚æœå‚æ•°ä¸æ˜¯æ•°å€¼ï¼ŒMath.hypotæ–¹æ³•ä¼šå°†å…¶è½¬ä¸ºæ•°å€¼ã€‚åªè¦æœ‰ä¸€ä¸ªå‚æ•°æ— æ³•è½¬ä¸ºæ•°å€¼ï¼Œå°±ä¼šè¿”å› NaNã€‚ 8.å¯¹æ•°æ–¹æ³•ES6 æ–°å¢äº† 4 ä¸ªå¯¹æ•°ç›¸å…³æ–¹æ³•ã€‚ ï¼ˆ1ï¼‰ Math.expm1() Math.expm1(x)è¿”å› ex - 1ï¼Œå³Math.exp(x) - 1ã€‚ 123Math.expm1(-1) // -0.6321205588285577Math.expm1(0) // 0Math.expm1(1) // 1.718281828459045 å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚ 123Math.expm1 = Math.expm1 || function(x) { return Math.exp(x) - 1;}; ï¼ˆ2ï¼‰Math.log1p() Math.log1p(x)æ–¹æ³•è¿”å›1 + xçš„è‡ªç„¶å¯¹æ•°ï¼Œå³Math.log(1 + x)ã€‚å¦‚æœxå°äº-1ï¼Œè¿”å›NaNã€‚ 1234Math.log1p(1) // 0.6931471805599453Math.log1p(0) // 0Math.log1p(-1) // -InfinityMath.log1p(-2) // NaN å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚ 123Math.log1p = Math.log1p || function(x) { return Math.log(1 + x);}; ï¼ˆ3ï¼‰Math.log10() Math.log10(x)è¿”å›ä»¥ 10 ä¸ºåº•çš„xçš„å¯¹æ•°ã€‚å¦‚æœxå°äº 0ï¼Œåˆ™è¿”å› NaNã€‚ 12345Math.log10(2) // 0.3010299956639812Math.log10(1) // 0Math.log10(0) // -InfinityMath.log10(-2) // NaNMath.log10(100000) // 5 å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚ 123Math.log10 = Math.log10 || function(x) { return Math.log(x) / Math.LN10;}; ï¼ˆ4ï¼‰Math.log2() Math.log2(x)è¿”å›ä»¥ 2 ä¸ºåº•çš„xçš„å¯¹æ•°ã€‚å¦‚æœxå°äº 0ï¼Œåˆ™è¿”å› NaNã€‚ 1234567Math.log2(3) // 1.584962500721156Math.log2(2) // 1Math.log2(1) // 0Math.log2(0) // -InfinityMath.log2(-2) // NaNMath.log2(1024) // 10Math.log2(1 &lt;&lt; 29) // 29 å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚ 123Math.log2 = Math.log2 || function(x) { return Math.log(x) / Math.LN2;}; 9.åŒæ›²å‡½æ•°æ–¹æ³•ES6 æ–°å¢äº† 6 ä¸ªåŒæ›²å‡½æ•°æ–¹æ³•ã€‚ Math.sinh(x) è¿”å›xçš„åŒæ›²æ­£å¼¦ï¼ˆhyperbolic sineï¼‰ Math.cosh(x) è¿”å›xçš„åŒæ›²ä½™å¼¦ï¼ˆhyperbolic cosineï¼‰ Math.tanh(x) è¿”å›xçš„åŒæ›²æ­£åˆ‡ï¼ˆhyperbolic tangentï¼‰ Math.asinh(x) è¿”å›xçš„ååŒæ›²æ­£å¼¦ï¼ˆinverse hyperbolic sineï¼‰ Math.acosh(x) è¿”å›xçš„ååŒæ›²ä½™å¼¦ï¼ˆinverse hyperbolic cosineï¼‰ Math.atanh(x) è¿”å›xçš„ååŒæ›²æ­£åˆ‡ï¼ˆinverse hyperbolic tangentï¼‰ 10.BigIntJavaScript åŸç”Ÿæä¾›BigIntå‡½æ•°ï¼Œå¯ä»¥ç”¨å®ƒç”Ÿæˆ BigInt ç±»å‹çš„æ•°å€¼ã€‚è½¬æ¢è§„åˆ™åŸºæœ¬ä¸Number()ä¸€è‡´ï¼Œå°†å…¶ä»–ç±»å‹çš„å€¼è½¬ä¸º BigIntã€‚ 1234BigInt(123) // 123nBigInt('123') // 123nBigInt(false) // 0nBigInt(true) // 1n BigInt()å‡½æ•°å¿…é¡»æœ‰å‚æ•°ï¼Œè€Œä¸”å‚æ•°å¿…é¡»å¯ä»¥æ­£å¸¸è½¬ä¸ºæ•°å€¼ï¼Œä¸‹é¢çš„ç”¨æ³•éƒ½ä¼šæŠ¥é”™ã€‚ 12345new BigInt() // TypeErrorBigInt(undefined) //TypeErrorBigInt(null) // TypeErrorBigInt('123n') // SyntaxErrorBigInt('abc') // SyntaxError ä¸Šé¢ä»£ç ä¸­ï¼Œå°¤å…¶å€¼å¾—æ³¨æ„å­—ç¬¦ä¸²123næ— æ³•è§£ææˆ Number ç±»å‹ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚ å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚ 12BigInt(1.5) // RangeErrorBigInt('1.5') // SyntaxError BigInt ç»§æ‰¿äº† Object å¯¹è±¡çš„ä¸¤ä¸ªå®ä¾‹æ–¹æ³•ã€‚ BigInt.prototype.toString() BigInt.prototype.valueOf() å®ƒè¿˜ç»§æ‰¿äº† Number å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹æ–¹æ³•ã€‚ BigInt.prototype.toLocaleString() æ­¤å¤–ï¼Œè¿˜æä¾›äº†ä¸‰ä¸ªé™æ€æ–¹æ³•ã€‚ BigInt.asUintN(width, BigInt)ï¼š ç»™å®šçš„ BigInt è½¬ä¸º 0 åˆ° 2width - 1 ä¹‹é—´å¯¹åº”çš„å€¼ã€‚ BigInt.asIntN(width, BigInt)ï¼šç»™å®šçš„ BigInt è½¬ä¸º -2width - 1 åˆ° 2width - 1 - 1 ä¹‹é—´å¯¹åº”çš„å€¼ã€‚ BigInt.parseInt(string[, radix])ï¼šè¿‘ä¼¼äºNumber.parseInt()ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæŒ‡å®šè¿›åˆ¶çš„ BigIntã€‚ 12345678const max = 2n ** (64n - 1n) - 1n;BigInt.asIntN(64, max)// 9223372036854775807nBigInt.asIntN(64, max + 1n)// -9223372036854775808nBigInt.asUintN(64, max + 1n)// 9223372036854775808n ä¸Šé¢ä»£ç ä¸­ï¼Œmaxæ˜¯64ä½å¸¦ç¬¦å·çš„ BigInt æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼ã€‚å¦‚æœå¯¹è¿™ä¸ªå€¼åŠ 1nï¼ŒBigInt.asIntN()å°†ä¼šè¿”å›ä¸€ä¸ªè´Ÿå€¼ï¼Œå› ä¸ºè¿™æ—¶æ–°å¢çš„ä¸€ä½å°†è¢«è§£é‡Šä¸ºç¬¦å·ä½ã€‚è€ŒBigInt.asUintN()æ–¹æ³•ç”±äºä¸å­˜åœ¨ç¬¦å·ä½ï¼Œæ‰€ä»¥å¯ä»¥æ­£ç¡®è¿”å›ç»“æœã€‚ å¦‚æœBigInt.asIntN()å’ŒBigInt.asUintN()æŒ‡å®šçš„ä½æ•°ï¼Œå°äºæ•°å€¼æœ¬èº«çš„ä½æ•°ï¼Œé‚£ä¹ˆå¤´éƒ¨çš„ä½å°†è¢«èˆå¼ƒã€‚ 1234const max = 2n ** (64n - 1n) - 1n;BigInt.asIntN(32, max) // -1nBigInt.asUintN(32, max) // 4294967295n ä¸Šé¢ä»£ç ä¸­ï¼Œmaxæ˜¯ä¸€ä¸ª64ä½çš„ BigIntï¼Œå¦‚æœè½¬ä¸º32ä½ï¼Œå‰é¢çš„32ä½éƒ½ä¼šè¢«èˆå¼ƒã€‚ ä¸‹é¢æ˜¯BigInt.parseInt()çš„ä¾‹å­ã€‚ 12345// Number.parseInt() ä¸ BigInt.parseInt() çš„å¯¹æ¯”Number.parseInt('9007199254740993', 10)// 9007199254740992BigInt.parseInt('9007199254740993', 10)// 9007199254740993n ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºæœ‰æ•ˆæ•°å­—è¶…å‡ºäº†æœ€å¤§é™åº¦ï¼ŒNumber.parseIntæ–¹æ³•è¿”å›çš„ç»“æœæ˜¯ä¸ç²¾ç¡®çš„ï¼Œè€ŒBigInt.parseIntæ–¹æ³•æ­£ç¡®è¿”å›äº†å¯¹åº”çš„ BigIntã€‚ å¯¹äºäºŒè¿›åˆ¶æ•°ç»„ï¼ŒBigInt æ–°å¢äº†ä¸¤ä¸ªç±»å‹BigUint64Arrayå’ŒBigInt64Arrayï¼Œè¿™ä¸¤ç§æ•°æ®ç±»å‹è¿”å›çš„éƒ½æ˜¯64ä½ BigIntã€‚DataViewå¯¹è±¡çš„å®ä¾‹æ–¹æ³•DataView.prototype.getBigInt64()å’ŒDataView.prototype.getBigUint64()ï¼Œè¿”å›çš„ä¹Ÿæ˜¯ BigIntã€‚ è½¬æ¢è§„åˆ™å¯ä»¥ä½¿ç”¨Boolean()ã€Number()å’ŒString()è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œå°† BigInt å¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ã€æ•°å€¼å’Œå­—ç¬¦ä¸²ç±»å‹ã€‚ 1234Boolean(0n) // falseBoolean(1n) // trueNumber(1n) // 1String(1n) // &quot;1&quot; ä¸Šé¢ä»£ç ä¸­ï¼Œæ³¨æ„æœ€åä¸€ä¸ªä¾‹å­ï¼Œè½¬ä¸ºå­—ç¬¦ä¸²æ—¶åç¼€nä¼šæ¶ˆå¤±ã€‚ å¦å¤–ï¼Œå–åè¿ç®—ç¬¦ï¼ˆ!ï¼‰ä¹Ÿå¯ä»¥å°† BigInt è½¬ä¸ºå¸ƒå°”å€¼ã€‚ 12!0n // true!1n // false æ•°å­¦è¿ç®—æ•°å­¦è¿ç®—æ–¹é¢ï¼ŒBigInt ç±»å‹çš„+ã€-ã€*å’Œ**è¿™å››ä¸ªäºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸ Number ç±»å‹çš„è¡Œä¸ºä¸€è‡´ã€‚é™¤æ³•è¿ç®—/ä¼šèˆå»å°æ•°éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°ã€‚ 129n / 5n// 1n å‡ ä¹æ‰€æœ‰çš„æ•°å€¼è¿ç®—ç¬¦éƒ½å¯ä»¥ç”¨åœ¨ BigIntï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚ ä¸å¸¦ç¬¦å·çš„å³ç§»ä½è¿ç®—ç¬¦&gt;&gt;&gt; ä¸€å…ƒçš„æ±‚æ­£è¿ç®—ç¬¦+ ä¸Šé¢ä¸¤ä¸ªè¿ç®—ç¬¦ç”¨åœ¨ BigInt ä¼šæŠ¥é”™ã€‚å‰è€…æ˜¯å› ä¸º&gt;&gt;&gt;è¿ç®—ç¬¦æ˜¯ä¸å¸¦ç¬¦å·çš„ï¼Œä½†æ˜¯ BigInt æ€»æ˜¯å¸¦æœ‰ç¬¦å·çš„ï¼Œå¯¼è‡´è¯¥è¿ç®—æ— æ„ä¹‰ï¼Œå®Œå…¨ç­‰åŒäºå³ç§»è¿ç®—ç¬¦&gt;&gt;ã€‚åè€…æ˜¯å› ä¸ºä¸€å…ƒè¿ç®—ç¬¦+åœ¨ asm.js é‡Œé¢æ€»æ˜¯è¿”å› Number ç±»å‹ï¼Œä¸ºäº†ä¸ç ´å asm.js å°±è§„å®š+1nä¼šæŠ¥é”™ã€‚ BigInt ä¸èƒ½ä¸æ™®é€šæ•°å€¼è¿›è¡Œæ··åˆè¿ç®—ã€‚ 11n + 1.3 // æŠ¥é”™ ä¸Šé¢ä»£ç æŠ¥é”™æ˜¯å› ä¸ºæ— è®ºè¿”å›çš„æ˜¯ BigInt æˆ– Numberï¼Œéƒ½ä¼šå¯¼è‡´ä¸¢å¤±ç²¾åº¦ä¿¡æ¯ã€‚æ¯”å¦‚(2n**53n + 1n) + 0.5è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å› BigInt ç±»å‹ï¼Œ0.5è¿™ä¸ªå°æ•°éƒ¨åˆ†ä¼šä¸¢å¤±ï¼›å¦‚æœè¿”å› Number ç±»å‹ï¼Œæœ‰æ•ˆç²¾åº¦åªèƒ½ä¿æŒ 53 ä½ï¼Œå¯¼è‡´ç²¾åº¦ä¸‹é™ã€‚ åŒæ ·çš„åŸå› ï¼Œå¦‚æœä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œä½†æ˜¯å¾—åˆ°çš„æ˜¯ä¸€ä¸ª BigIntï¼Œå°±ä¼šæŠ¥é”™ã€‚ 12345// é”™è¯¯çš„å†™æ³•Math.sqrt(4n) // æŠ¥é”™// æ­£ç¡®çš„å†™æ³•Math.sqrt(Number(4n)) // 2 ä¸Šé¢ä»£ç ä¸­ï¼ŒMath.sqrtçš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œå¦‚æœæ˜¯ BigInt å°±ä¼šæŠ¥é”™ï¼Œå¿…é¡»å…ˆç”¨Numberæ–¹æ³•è½¬ä¸€ä¸‹ç±»å‹ï¼Œæ‰èƒ½è¿›è¡Œè®¡ç®—ã€‚ asm.js é‡Œé¢ï¼Œ|0è·Ÿåœ¨ä¸€ä¸ªæ•°å€¼çš„åé¢ä¼šè¿”å›ä¸€ä¸ª32ä½æ•´æ•°ã€‚æ ¹æ®ä¸èƒ½ä¸ Number ç±»å‹æ··åˆè¿ç®—çš„è§„åˆ™ï¼ŒBigInt å¦‚æœä¸|0è¿›è¡Œè¿ç®—ä¼šæŠ¥é”™ã€‚ 11n | 0 // æŠ¥é”™ å…¶ä»–è¿ç®—BigInt å¯¹åº”çš„å¸ƒå°”å€¼ï¼Œä¸ Number ç±»å‹ä¸€è‡´ï¼Œå³0nä¼šè½¬ä¸ºfalseï¼Œå…¶ä»–å€¼è½¬ä¸ºtrueã€‚ 123456if (0n) { console.log('if');} else { console.log('else');}// else ä¸Šé¢ä»£ç ä¸­ï¼Œ0nå¯¹åº”falseï¼Œæ‰€ä»¥ä¼šè¿›å…¥elseå­å¥ã€‚ æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆæ¯”å¦‚&gt;ï¼‰å’Œç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰å…è®¸ BigInt ä¸å…¶ä»–ç±»å‹çš„å€¼æ··åˆè®¡ç®—ï¼Œå› ä¸ºè¿™æ ·åšä¸ä¼šæŸå¤±ç²¾åº¦ã€‚ 123450n &lt; 1 // true0n &lt; true // true0n == 0 // true0n == false // true0n === 0 // false BigInt ä¸å­—ç¬¦ä¸²æ··åˆè¿ç®—æ—¶ï¼Œä¼šå…ˆè½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œè¿ç®—ã€‚ 1'' + 123n // &quot;123&quot;","link":"/JavaScript/12.Math%E7%9A%84%E6%89%A9%E5%B1%95/"},{"title":"äº‹ä»¶æ¨¡å‹","text":"Javascriptäº‹ä»¶ä½¿å¾—Htmlç½‘é¡µå…·å¤‡äº’åŠ¨æ€§ï¼Œ å¸¸è§çš„åŠ è½½äº‹ä»¶ã€é¼ æ ‡äº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ç­‰ 1.äº‹ä»¶æ¨¡å‹JavaScriptäº‹ä»¶æµæ˜¯ä¸ºäº†æè¿°çˆ¶å­å…ƒç´ ä¹‹é—´äº‹ä»¶è§¦å‘çš„é¡ºåº Javascriptäº‹ä»¶æ¨¡å‹ä¸€å…±æœ‰ä¸‰ç§åˆ†åˆ«æ˜¯ åŸå§‹äº‹ä»¶æ¨¡å‹ï¼ˆDOM0çº§ï¼‰ æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒçš„ä¸€ç§äº‹ä»¶æ¨¡å‹ï¼Œ æ²¡æœ‰äº‹ä»¶æµï¼Œäº‹ä»¶ä¸€æ—¦å‘ç”Ÿé©¬ä¸Šè¿›è¡Œå¤„ç†ï¼Œæœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°åŸå§‹äº‹ä»¶æ¨¡å‹ ä»¥onå¼€å¤´çš„æ ‡ç­¾å±æ€§ 123456789&lt;p onclick=&quot;console.log('p')&quot;&gt; &lt;span onclick=&quot;console.log('span')&quot;&gt;clieck me&lt;/span&gt;&lt;/p&gt;&lt;!--æ ‡ç­¾å±æ€§å€¼æ˜¯äº‹ä»¶ç‚¹å‡»åè¦æ‰§è¡Œçš„javascriptä»£ç ï¼›æ˜¾ç¤ºä¸è¡Œä¸ºæ²¡æœ‰åˆ†ç¦»ï¼›æ²¡æ³•ä¸ºåŒä¸€ä¸ªäº‹ä»¶ç»‘å®šå¤šä¸ªå‡½æ•°äº‹ä»¶å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µ(å½“ç‚¹å‡»spanæ ‡ç­¾æ—¶ï¼Œconsoleä¾æ¬¡æ‰“å°spanã€p)--&gt; å…ƒç´ èŠ‚ç‚¹å¯¹è±¡çš„äº‹ä»¶å±æ€§ 123456789101112 var pDom = document.getElementById(&quot;p&quot;);pDom.onclick = sayHello;function sayHello() { console.log(&quot;hello world&quot;) } /** èŠ‚ç‚¹å¯¹è±¡çš„äº‹ä»¶å±æ€§å€¼æ˜¯å‡½æ•° æ²¡æ³•ä¸ºåŒä¸€ä¸ªäº‹ä»¶ç»‘å®šå¤šä¸ªå‡½æ•°ï¼Œåè€…ä¼šè¦†ç›–å‰è€… äº‹ä»¶ä¾ç„¶å‘ç”Ÿåœ¨å†’æ³¡é˜¶æ®µ */ æ ‡å‡†äº‹ä»¶æ¨¡å‹ï¼ˆDOM2çº§ï¼‰ æ ‡å‡†äº‹ä»¶æ¨¡å‹æ˜¯W3Cç»„ç»‡åˆ¶å®šçš„æ ‡å‡†äº‹ä»¶æ¨¡å‹ï¼Œç°ä»£æµè§ˆå™¨ï¼ˆIE6ï½8ä¹‹å¤–ï¼‰éƒ½æ”¯æŒï¼Œè¯¥æ¨¡å‹å°†äº‹ä»¶åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š æ•è·é˜¶æ®µ å½“æŸä¸ªäº‹ä»¶è§¦å‘æ—¶ï¼Œäº‹ä»¶ä¼šä»windowå¯¹è±¡è‡³ä¸Šè€Œä¸‹ä¼ æ’­ç›´è‡³äº‹ä»¶å‘ç”Ÿçš„ç›®æ ‡å…ƒç´ ï¼Œé»˜è®¤åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç›¸åº”çš„äº‹ä»¶ç›‘å¬å‡½æ•°ä¸ä¼šè§¦å‘ã€‚ ç›®æ ‡é˜¶æ®µ å½“äº‹ä»¶ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ä¹‹åï¼Œæ‰§è¡Œç›®æ ‡å…ƒç´ ä¸Šè¯¥äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰å°±ä¸æ‰§è¡Œã€‚ å†’æ³¡é˜¶æ®µ äº‹ä»¶å†ä»ç›®æ ‡å…ƒç´ å¼€å§‹é€å±‚å‘ä¸Šä¼ æ’­ï¼Œ å¦‚æœé€”ä¸­æœ‰è¯¥äº‹ä»¶çš„ç›‘å¬å‡½æ•°å°±æ‰§è¡Œï¼›æ‰€æœ‰äº‹ä»¶éƒ½æœ‰æ•è·é˜¶æ®µï¼Œä½†æ˜¯åªæœ‰éƒ¨åˆ†äº‹ä»¶æ‰æœ‰å†’æ³¡é˜¶æ®µã€‚ ä¾æ¬¡ç»™ä¸‹é¢çš„divã€ulã€liã€pã€spanå…ƒç´ æ·»åŠ ä¸€ä¸ªclickäº‹ä»¶ï¼Œå¹¶ç»™è¯¥äº‹ä»¶ç»‘å®šä¸¤ä¸ªç›‘å¬å‡½æ•°ï¼ˆå‡½æ•°ç›¸åŒï¼Œä½†æ˜¯è°ƒç”¨é˜¶æ®µä¸åŒï¼Œä¸€ä¸ªåœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œ ä¸€ä¸ªåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ï¼‰ 1234567891011121314151617181920212223242526272829303132333435&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div&gt; &lt;p&gt; &lt;span&gt;clieck me&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;script&gt; var elArray = ['div', 'p', 'span'] var domArray = elArray.map(item =&gt; { return document.querySelector(item) }) domArray.forEach(item =&gt; { item.addEventListener('click', hello, false) item.addEventListener('click', hello, true) }) function hello(event) { console.log(` target:${event.target.nodeName.toLowerCase()} currentTarget: ${event.currentTarget.nodeName.toLowerCase()} eventPhase: ${[&quot;not happen&quot;, &quot;capture&quot;, &quot;target&quot;, &quot;bubble&quot;][event.eventPhase]}`) } &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; å½“ç‚¹å‡»spanæ—¶ï¼Œäº‹ä»¶ä»windowå¯¹è±¡è‡³ä¸Šè€Œä¸‹ä¼ æ’­ï¼Œ å…ˆè§¦å‘æ•è·é˜¶æ®µçš„äº‹ä»¶ï¼Œå½“äº‹ä»¶ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ æ—¶è§¦å‘ç›®æ ‡å…ƒç´ çš„ä¸¤ä¸ªç›‘å¬äº‹ä»¶å‘ç”Ÿï¼Œæ‰€ä»¥åœ¨targeté˜¶æ®µconsoleæ‰“å°äº†ä¸¤æ¬¡ï¼Œ æ¥ç€å†’æ³¡é˜¶æ®µäº‹ä»¶ç”±é‡Œå‘å¤–ä¼ æ’­ï¼Œä¾æ¬¡è§¦å‘å¯¹åº”äº‹ä»¶ã€‚ IEäº‹ä»¶æ¨¡å‹ åœ¨IEè€ç‰ˆæœ¬æµè§ˆå™¨ä¸­ï¼ˆIE6ï½8ï¼‰ï¼Œäº‹ä»¶å¯¹è±¡ä¸ä½œä¸ºå‡½æ•°ä¼ å…¥ï¼Œ è€Œæ˜¯ä½œä¸ºwindowå…¨å±€å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ä¼ å…¥ window.event ç°å·²åŸºæœ¬ä¸ç”¨äº†ï¼Œå¤ªè€äº†ã€‚ 2.EventTargetDOMçš„äº‹ä»¶æ“ä½œï¼ˆç›‘å¬å’Œè§¦å‘ï¼‰ï¼Œéƒ½å®šä¹‰åœ¨EventTargetæ¥å£ï¼Œ æ‰€æœ‰èŠ‚ç‚¹å¯¹è±¡éƒ½éƒ¨ç½²äº†è¿™ä¸ªæ¥å£ï¼ˆwindow, document, elementç­‰å¯¹è±¡ï¼‰ è¯¥æ¥å£ä¸»è¦æä¾›ä¸‰ä¸ªå®ä¾‹æ–¹æ³•ï¼š addEventListener : æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ removeEventListener : ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ dispatchEvent ï¼š æ´¾å‘äº‹ä»¶ 1.1 addEventListeneraddEventListener(type, fn, useCapture) æ–¹æ³•ä¸ºäº‹ä»¶æ·»åŠ å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œåœ¨äº‹ä»¶è§¦å‘æ—¶è°ƒç”¨ã€‚ type: äº‹ä»¶åç§°ï¼ˆclickã€dubleclickã€keydownâ€¦ï¼‰ fnï¼š äº‹ä»¶è§¦å‘æ—¶çš„å›è°ƒå‡½æ•° useCapture: æŒ‡å®šå›è°ƒå‡½æ•°æ˜¯åœ¨æ•è·é˜¶æ®µè°ƒç”¨è¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨ï¼Œ é»˜è®¤å€¼ä¸ºfalseåœ¨å†’æ³¡é˜¶æ®µè°ƒç”¨ã€‚ å¯ä»¥é€šè¿‡è¯¥æ–¹æ³•ä¸ºåŒä¸€ä¸ªäº‹ä»¶æ·»åŠ å¤šä¸ªç›‘å¬å‡½æ•°ï¼› å¯ä»¥æ‰‹åŠ¨æ§åˆ¶äº‹ä»¶å‘ç”Ÿæ˜¯åœ¨æ•è·é˜¶æ®µè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µè§¦å‘ï¼› å¯ä»¥å°†å­å…ƒç´ ä¸Šçš„äº‹ä»¶ç»Ÿä¸€å§”æ‰˜ç»™çˆ¶å…ƒç´ ä»£ä¸ºå¤„ç† äº‹ä»¶å¯¹è±¡eventä»¥ç›‘å¬å‡½æ•°å‚æ•°çš„å½¢å¼å‡ºç°ï¼Œ å…¶å¸¸ç”¨å±æ€§ï¼š targetï¼š ç›‘å¬äº‹ä»¶æ‰€åœ¨çš„èŠ‚ç‚¹å¯¹è±¡ï¼Œ åªä¼šå‡ºç°åœ¨ç›®æ ‡é˜¶æ®µ currentTarget: äº‹ä»¶ä¼ æ’­è¿‡ç¨‹ä¸­å½“å‰æ‰€åœ¨çš„èŠ‚ç‚¹å¯¹è±¡ï¼Œ ä¼šå‘ç”Ÿåœ¨æ•è·ã€ç›®æ ‡ã€å†’æ³¡ä¸‰é˜¶æ®µ eventPhase: äº‹ä»¶å‘ç”Ÿçš„é˜¶æ®µï¼š 0: äº‹ä»¶æœªå‘ç”Ÿï¼› 1:æ•è·é˜¶æ®µï¼›2:ç›®æ ‡é˜¶æ®µï¼› 3:å†’æ³¡é˜¶æ®µ 3.äº‹ä»¶ä»£ç†é€šè¿‡äº‹ä»¶å†’æ³¡æœºåˆ¶ï¼Œç»Ÿä¸€å°†æ·»åŠ åœ¨å­å…ƒç´ ä¸Šçš„äº‹ä»¶ï¼Œå§”æ‰˜ç»™çˆ¶å…ƒç´ ä»£ä¸ºå¤„ç†ï¼Œè¿™æ ·çš„å¥½å¤„ï¼š å‡å°‘å…ƒç´ ä¸Šçš„äº‹ä»¶ç»‘å®šã€å‡å°‘å†…å­˜å ç”¨ ç»Ÿä¸€åœ¨çˆ¶å…ƒç´ ä¸Šä»£ä¸ºå¤„ç†ï¼Œ å³ä¾¿åé¢å†åŠ¨æ€æ·»å‡å…ƒç´ ï¼Œä¸Šé¢çš„äº‹ä»¶ä¾ç„¶æœ‰æ•ˆ","link":"/JavaScript/13.%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B/"},{"title":"Chrome DevToolsç®€ä»‹","text":"Chrome DevToolsåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œbackendå’Œfrontend backendå’ŒChromeé›†æˆï¼Œè´Ÿè´£æŠŠChromeçš„ç½‘é¡µè¿è¡Œæ—¶çŠ¶æ€é€šè¿‡è°ƒè¯•åè®®æš´éœ²å‡ºæ¥ã€‚ frontendæ˜¯ç‹¬ç«‹çš„ï¼Œè´Ÿè´£å¯¹æ¥è°ƒè¯•åè®®ï¼ŒåšUIçš„å±•ç¤ºå’Œäº¤äº’ ä¸¤è€…ä¹‹é—´çš„è°ƒè¯•åè®®å«åšChrome DevTools Protocolï¼Œç®€ç§°CDPã€‚ä¼ è¾“åè®®æ•°æ®çš„æ–¹å¼å«åšä¿¡é“(message channel)ï¼Œæœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚Chrome DevToolsåµŒå…¥åœ¨Chromeé‡Œæ—¶ï¼Œä¸¤è€…é€šè¿‡å…¨å±€çš„å‡½æ•°é€šä¿¡ï¼›å½“Chrome DevToolsè¿œç¨‹è°ƒè¯•æŸä¸ªç›®æ ‡ä»£ç æ—¶ï¼Œä¸¤è€…é€šè¿‡WebSocketé€šä¿¡ã€‚frontendã€backendã€è°ƒè¯•åè®®(CDP)ã€ä¿¡é“ï¼Œè¿™æ˜¯Chrome DevToolsçš„4ä¸ªç»„æˆéƒ¨åˆ†ã€‚ backend å¯ä»¥æ˜¯ Chromiumï¼Œä¹Ÿå¯ä»¥æ˜¯ Node.js æˆ–è€… V8ï¼Œè¿™äº› JS çš„è¿è¡Œæ—¶éƒ½æ”¯æŒ Chrome DevTools Protocolã€‚è¿™å°±æ˜¯ Chrome DevTools çš„è°ƒè¯•åŸç†ã€‚é™¤äº† Chrome DevTools ä¹‹å¤–ï¼ŒVSCode Debugger ä¹Ÿæ˜¯å¸¸ç”¨çš„è°ƒè¯•å·¥å…· è°ƒè¯•å°±æ˜¯é€šè¿‡æŸç§ä¿¡é“ï¼ˆæ¯”å¦‚ WebSocketï¼‰æŠŠè¿è¡Œæ—¶ä¿¡æ¯ä¼ é€’ç»™å¼€å‘å·¥å…·ï¼Œåš UI çš„å±•ç¤ºå’Œäº¤äº’ï¼Œè¾…åŠ©å¼€å‘è€…æ’æŸ¥é—®é¢˜ã€äº†è§£ä»£ç è¿è¡ŒçŠ¶æ€ç­‰ã€‚","link":"/Chrome%20DevTools/"},{"title":"Gitå¸¸ç”¨å‘½ä»¤","text":"1.Gitç®€ä»‹Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•å¤§å°å‹é¡¹ç›® Gitæœ‰å››ä¸ªåŒºï¼Œåˆ†åˆ«ä¸ºå·¥ä½œåŒºï¼Œæš‚å­˜åŒºï¼Œæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ Workspaceï¼šå·¥ä½œåŒºï¼Œå°±æ˜¯å¹³æ—¶å†™ä»£ç çš„åœ°æ–¹ Indexï¼šæš‚å­˜åŒºï¼Œç”¨äºå­˜æ”¾ä¸´æ—¶çš„æ”¹åŠ¨ Repositoryï¼šç‰ˆæœ¬åº“ï¼Œå°±æ˜¯æœ¬åœ°ä»“åº“ï¼Œä¿å­˜æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®ï¼Œå…¶ä¸­HEADæŒ‡å‘æœ€æ–°çš„ç‰ˆæœ¬ Remoteï¼šè¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€äº›ç½‘ç«™(GitHubï¼ŒGiteeç­‰)å»ºç«‹è¿œç¨‹ä»“åº“æ¥æ‰˜ç®¡æˆ‘ä»¬çš„ä»£ç  å·¥ä½œæµç¨‹Gitçš„å·¥ä½œæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š 1.åœ¨å·¥ä½œåŒºä¸­ç¼–å†™ï¼Œä¿®æ”¹ä»£ç  2.é€šè¿‡git addå‘½ä»¤å°†éœ€è¦è·Ÿè¸ªçš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒº 3.é€šè¿‡git commitå‘½ä»¤å°†æš‚å­˜åŒºä¸­çš„æ–‡ä»¶å­˜å…¥æœ¬åœ°ä»“åº“ï¼Œæ­¤æ—¶ä¼šåˆ›å»ºä¸€æ¡Gitæäº¤è®°å½• 4.é€šè¿‡git pushå‘½ä»¤å°†æœ¬åœ°ä»“åº“çš„ç‰ˆæœ¬æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¿å­˜ å› æ­¤ï¼ŒGitç®¡ç†çš„æ–‡ä»¶ä¸€èˆ¬æœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²ä¿®æ”¹ï¼ˆmodifiedï¼‰,å·²æš‚å­˜ï¼ˆstagedï¼‰,å·²æäº¤(committed) 2.åŸºæœ¬å‘½ä»¤1.å·¥ä½œåŒºå‘½ä»¤ åˆå§‹åŒ–ä»“åº“1git init æ·»åŠ æ–‡ä»¶è¿½è¸ªé€šè¿‡git add &lt;filename&gt;å‘½ä»¤å¯ä»¥å°†ä¸€ä¸ªæ–‡ä»¶å­˜å…¥æš‚å­˜åŒº1git add &lt;fileName&gt; ä¹Ÿå¯ä»¥é€šè¿‡git add .å‘½ä»¤å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶å…¨éƒ¨å­˜å…¥æš‚å­˜åŒº æŸ¥çœ‹å·¥ä½œåŒºæ–‡ä»¶çŠ¶æ€é€šè¿‡git statuså¯ä»¥æŸ¥çœ‹å½“å‰å·¥ä½œåŒºçš„æ–‡ä»¶çŠ¶æ€ æ’¤é”€æäº¤é€šè¿‡git resetå‘½ä»¤å¯ä»¥æ’¤é”€å­˜å‚¨åœ¨æš‚å­˜åŒºä¸­çš„æ–‡ä»¶1234// æ’¤é”€ä¸€ä¸ªæ–‡ä»¶git reset &lt;fileName&gt;// æ’¤é”€æ‰€æœ‰æ–‡ä»¶git reset åˆ é™¤å­˜å‚¨åº“ä¸­æœªæäº¤çš„æ›´æ”¹1git reset --hard HEAD 2.æš‚å­˜åŒºå‘½ä»¤ å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“1git commit -m &lt;commitLog&gt; æ’¤é”€ä¸Šæ¬¡çš„æäº¤1234// æ’¤é”€æäº¤è‡³å·¥ä½œåŒºgit reset HEAD^// æ’¤é”€æäº¤è‡³æš‚å­˜åŒºgit reset --soft HEAD^ ç‰ˆæœ¬å›æ»š1git reset --hard &lt;logName&gt; 3.æœ¬åœ°ä»“åº“å‘½ä»¤ æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“1git remote -v æ·»åŠ ä¸€ä¸ªè¿œç¨‹ä»“åº“1git remote add &lt;remoteName&gt; &lt;remoteUrl&gt; åˆ é™¤ä¸€ä¸ªè¿œç¨‹ä»“åº“1git remote rm &lt;remoteName&gt; ä¿®æ”¹ä¸€ä¸ªè¿œç¨‹ä»“åº“å1git remote rename &lt;oldName&gt; &lt;newName&gt; å°†æœ¬åœ°ä»“åº“ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“1git push &lt;remoteNmae&gt; &lt;branchName&gt; å¯ä»¥åŠ ä¸Š-f(--force)å‘½ä»¤å¼ºåˆ¶æ¨é€å¯ä»¥åŠ ä¸Š-uå‘½ä»¤é»˜è®¤è¿½è¸ªä¸€ä¸ªåˆ†æ”¯ å…‹éš†ä¸€ä¸ªä»“åº“åˆ°æœ¬åœ°1git clone &lt;remoteUrl&gt; æ›´æ–°è¿œç¨‹ä»“åº“ä»£ç åˆ°æœ¬åœ°ä»“åº“1git fetch æ›´æ–°è¿œç¨‹ä»“åº“ä»£ç åˆ°æœ¬åœ°ä»“åº“å¹¶åˆå¹¶åˆ°å·¥ä½œåŒº1git pull(git fetch + git merge) 3.åˆ†æ”¯å‘½ä»¤ æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯1git branch æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯1git branch -r æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯1git branch -a æ–°å»ºä¸€ä¸ªåˆ†æ”¯1git branch &lt;branchName&gt; é‡å‘½ååˆ†æ”¯1git branch -m oldName newName åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯1git checkout &lt;branchName&gt; æ–°å»ºå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯1git checkout -b &lt;branchName&gt; åˆ é™¤æœ¬åœ°åˆ†æ”¯(ä¸èƒ½åœ¨è¯¥åˆ†æ”¯ä¸‹)1git branch -d &lt;branchName&gt; å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯(ä¸èƒ½åœ¨è¯¥åˆ†æ”¯ä¸‹)1git branch -D &lt;branchName&gt; åˆ é™¤è¿œç¨‹åˆ†æ”¯1git push -d &lt;remoteName&gt; &lt;branchName&gt; åˆå¹¶åˆ†æ”¯1git merge &lt;branchName&gt; åˆ†æ”¯å˜åŸº1git rebase &lt;branchName&gt; 1.åˆ†æ”¯å˜åŸºåˆ†æ”¯å˜åŸºå¯ä»¥å°†å½“å‰åˆ†æ”¯çš„èµ·ç‚¹å˜æ›´åˆ°ç›®æ ‡åˆ†æ”¯çš„ç»ˆç‚¹ï¼Œä¸€èˆ¬ç”¨äºåŒåˆ†æ”¯æ‹‰å–ä»£ç æ—¶çš„åˆå¹¶ å˜åŸº 1git rebase &lt;branchName&gt; æ‹‰å–è¿œç¨‹ä»£ç æ—¶åŒæ—¶å˜åŸº 1git pull --rebase &lt;remoteName&gt;/&lt;branchName&gt;(git fetch + git rebase &lt;remoteName&gt;/&lt;branchName&gt;) å†²çªè§£å†³ æ”¾å¼ƒåˆå¹¶ï¼Œå›é€€åˆ°rebaseæ“ä½œä¹‹å‰çš„çŠ¶æ€ï¼Œä¹‹å‰çš„æäº¤ä¸ä¼šä¸¢å¼ƒ 1git rebase --abort å°†å¼•èµ·å†²çªçš„commitsç›´æ¥ä¸¢å¼ƒ(æ…ç”¨) 1git rebase --skip è§£å†³å†²çªå¦‚æœåœ¨æ‹‰å–ä»£ç æ—¶äº§ç”Ÿå†²çªï¼Œæˆ‘ä»¬æ‰‹åŠ¨è§£å†³å†²çªåï¼Œå…ˆæ‰§è¡Œgit addå’Œgit commitå‘½ä»¤æäº¤å†²çªçš„æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œgit rebase --continueå‘½ä»¤è¿›è¡Œåˆ†æ”¯çš„åˆå¹¶ 1git rebase --continue cherry-pick ç”¨äºåˆå¹¶æŒ‡å®šçš„commitåˆ°å½“å‰åˆ†æ”¯ 1git cherry-pick &lt;commit id&gt; 4.å­˜å‚¨ git stash: å°†å½“å‰å·¥ä½œåŒºä¸­æ‰€æœ‰å·²è¿½è¸ªçš„æ–‡ä»¶å­˜å…¥å †æ ˆ git stash save ï¼šå°†å½“å‰å·¥ä½œåŒºä¸­æ‰€æœ‰å·²è¿½è¸ªçš„æ–‡ä»¶å­˜å…¥å †æ ˆï¼Œå¹¶å¯ä»¥å†™ä¸Šå¤‡æ³¨ git stash save -uï¼šå°†å½“å‰å·¥ä½œåŒºä¸­æ‰€æœ‰æ–‡ä»¶å­˜å…¥å †æ ˆ(åŒ…æ‹¬æœªè¿½è¸ªæ–‡ä»¶) git stash listï¼šæŸ¥è¯¢å †æ ˆä¸­çš„å­˜å‚¨ git stash showï¼šæŸ¥çœ‹å †æ ˆä¸­æœ€æ–°ä¿å­˜çš„stashå’Œå½“å‰ç›®å½•çš„å·®å¼‚ git stash popï¼šå°†å †æ ˆä¸­æœ€æ–°çš„å­˜å‚¨å¼¹å‡ºè‡³å·¥ä½œåŒºï¼Œå¹¶ä¸”åˆ é™¤å †æ ˆä¸­å¯¹åº”çš„å­˜å‚¨ git stash applyï¼šå°†å †æ ˆä¸­æœ€æ–°çš„å­˜å‚¨å¼¹å‡ºè‡³å·¥ä½œåŒºï¼Œè¯¥æ“ä½œä¸ä¼šåˆ é™¤å †æ ˆä¸­å¯¹åº”çš„å­˜å‚¨ git stash drop ï¼šç§»é™¤å †æ ˆä¸­æŒ‡å®šçš„å­˜å‚¨ git stash clearï¼šæ¸…é™¤å †æ ˆä¸­çš„æ‰€æœ‰å­˜å‚¨","link":"/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"title":"Gridå¸ƒå±€","text":"1.ä»€ä¹ˆæ˜¯Gridå¸ƒå±€Flexå¸ƒå±€æ˜¯è½´çº¿å¸ƒå±€ï¼Œåªèƒ½æŒ‡å®šâ€é¡¹ç›®â€é’ˆå¯¹è½´çº¿çš„ä½ç½®ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç»´å¸ƒå±€ï¼ŒGridå¸ƒå±€åˆ™æ˜¯å°†å®¹å™¨åˆ’åˆ†æˆâ€è¡Œâ€å’Œâ€åˆ—â€ï¼Œäº§ç”Ÿå•å…ƒæ ¼ï¼Œç„¶åæŒ‡å®šé¡¹ç›®æ‰€åœ¨çš„å•å…ƒæ ¼ï¼Œå¯ä»¥çœ‹ä½œæ˜¯äºŒç»´å¸ƒå±€ï¼ŒGridå¸ƒå±€è¿œæ¯”Flexå¸ƒå±€å¼ºå¤§ å¸¸ç”¨çš„ä¸‰ç§å¸ƒå±€ ä¼ ç»Ÿå¸ƒå±€ï¼šåˆ©ç”¨position+display+floatå±æ€§å¸ƒå±€ï¼Œå…¼å®¹æ€§æœ€å¥½ï¼Œä½†æ•ˆç‡ä½ FlexBoxï¼šä¸€ç»´å¸ƒå±€æ–¹æ¡ˆï¼Œæœ‰è‡ªå·±çš„ä¸€å¥—å±æ€§ï¼Œæ•ˆç‡é«˜ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œå…¼å®¹æ€§å¼º Gridå¸ƒå±€ï¼šç½‘æ ¼å¸ƒå±€æ˜¯æœ€å¼ºå¤§çš„CSSå¸ƒå±€æ–¹æ¡ˆï¼Œä½†æ˜¯çŸ¥è¯†ç‚¹è¾ƒå¤šï¼Œå­¦ä¹ æˆæœ¬ç›¸å¯¹å›°éš¾äº›ï¼Œç›®å‰å…¼å®¹æ€§ä¸å¦‚FlexBox å…¼å®¹æ€§ 2.åŸºæœ¬æ¦‚å¿µ å®¹å™¨ï¼šæœ‰å®¹å™¨å±æ€§ é¡¹ç›®ï¼šæœ‰é¡¹ç›®å±æ€§ 3.å®¹å™¨å±æ€§ grid-template-columns grid-template-rows row-gap column-gap gap(ä¸Šé¢ä¸¤ä¸ªçš„ç®€å†™) grid-template-areas grid-auto-flow justify-items align-items place-items(ä¸Šé¢ä¸¤ä¸ªçš„ç®€å†™) justify-content align-content place-content(ä¸Šé¢ä¸¤ä¸ªçš„ç®€å†™) grid-auto-columns grid-auto-rows3.1.grid-template-*è®¾ç½®Gridå¸ƒå±€çš„è¡Œåˆ—å±æ€§(å‡ è¡Œï¼Œå‡ åˆ—)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Grid&lt;/title&gt; &lt;style&gt; * { margin: 0; padding: 0; } .root { width: 600px; height: 600px; border: 1px solid cadetblue; display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px 100px; } .item1 { background-color: red; } .item2 { background-color: gold; } .item3 { background-color: aqua; } .item4 { background-color: beige; } .item5 { background-color: blueviolet; } .item6 { background-color: brown; } .item7 { background-color: green; } .item8 { background-color: blanchedalmond; } .item9 { background-color: violet; } .item10 { background-color: thistle; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;root&quot;&gt; &lt;div class=&quot;item item1&quot;&gt;1&lt;/div&gt; &lt;div class=&quot;item item2&quot;&gt;2&lt;/div&gt; &lt;div class=&quot;item item3&quot;&gt;3&lt;/div&gt; &lt;div class=&quot;item item4&quot;&gt;4&lt;/div&gt; &lt;div class=&quot;item item5&quot;&gt;5&lt;/div&gt; &lt;div class=&quot;item item6&quot;&gt;6&lt;/div&gt; &lt;div class=&quot;item item7&quot;&gt;7&lt;/div&gt; &lt;div class=&quot;item item8&quot;&gt;8&lt;/div&gt; &lt;div class=&quot;item item9&quot;&gt;9&lt;/div&gt; &lt;div class=&quot;item item10&quot;&gt;10&lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; repeat()ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯é‡å¤æ¬¡æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯éœ€è¦é‡å¤çš„å€¼12grid-template-columns: repeat(3, 100px); // é‡å¤ä¸‰æ¬¡ï¼Œæ¯ä¸ªé¡¹ç›®100pxgrid-template-rows: repeat(4, 100px); // é‡å¤å››æ¬¡ï¼Œæ¯ä¸ªé¡¹ç›®100px auto-fillï¼šæœ‰æ—¶å€™é¡¹ç›®å¤§å°æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å®¹å™¨å¤§å°ä¸ç¡®å®šï¼Œè¿™ä¸ªå±æ€§å°±ä¼šè‡ªåŠ¨å¡«å……1grid-template-columns: repeat(auto-fill, 100px) frï¼šä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºæ¯”ä¾‹å…³ç³»ï¼Œç½‘æ ¼å¸ƒå±€æä¾›frå…³é”®å­—(æ„ä¸ºç‰‡æ®µ)1grid-template-columns: repeat(4, 1fr) // å®½åº¦è¢«å¹³å‡åˆ†æˆ4ä»½ minmax()ï¼šå‡½æ•°äº§ç”Ÿä¸€ä¸ªé•¿åº¦èŒƒå›´ï¼Œè¡¨ç¤ºé•¿åº¦å°±åœ¨è¿™ä¸ªèŒƒå›´ä¹‹ä¸­ï¼Œå®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼1grid-template-columns: 1fr minmax(15px, 1fr) autoï¼šè¡¨ç¤ºç”±æµè§ˆå™¨è‡ªå·±å†³å®šå®½åº¦(è‡ªé€‚åº”)1grid-template-columns: 100px auto 100px; // ä¸¤ç«¯å›ºå®šï¼Œä¸­é—´è‡ªé€‚åº” ç½‘æ ¼çº¿ï¼šå¯ä»¥ç”¨æ–¹æ‹¬å·å®šä¹‰ç½‘æ ¼çº¿åç§°ï¼Œæ–¹ä¾¿ä»¥åå¼•ç”¨1grid-template-columns: [c1]100px [c2]100px [c3]100px [c4] 3.2.*-gapè§„å®šç½‘æ ¼ä¸­è¡Œåˆ—ä¹‹é—´çš„é—´è· column-gap row-gap grid-gap(row-gap | column-gap) 12345display: grid;grid-template-columns: repeat(2, 1fr);column-gap: 20px;row-gap: 20px;gap: 20px 10px; 3.3.grid-template-areaç”¨æ¥åˆ’åˆ†æ¨¡æ¿çš„åŒºåŸŸ 1grid-template-areas: &quot;a b c&quot; &quot;d e f&quot; &quot;g h i&quot; &quot;j&quot;; 3.4.grid-auto-flowè§„å®šå®¹å™¨ä¸­é¡¹ç›®çš„æ’åˆ—é¡ºåºå¦‚æœå‡ºç°å¦‚ä¸‹å›¾ä½ç½®çš„æƒ…å†µï¼Œä¸ºäº†å……åˆ†åˆ©ç”¨ç©ºé—´ï¼Œå¯ä»¥åŠ ä¸Šdenseå±æ€§ 3.5.justify-items/align-itemsè®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³å’Œå‚ç›´çš„å¯¹é½æ–¹å¼ 12justify-items: start | end | center | stretch;align-items: start | end | center | stretch; place-itemsplace-itemså±æ€§æ˜¯align-itemså±æ€§å’Œjustify-itemså±æ€§çš„åˆå¹¶ç®€å†™ 1place-items: &lt;align-items&gt; &lt;justify-items&gt; 3.6.justify-content/align-contentè®¾ç½®æ•´ä¸ªå†…å®¹åŒºåŸŸçš„æ°´å¹³å’Œå‚ç›´å¯¹é½æ–¹å¼ 12justify-content: start | end | center | stretch | space-around | space-between | space-evenly;align-content: start | end | center | stretch | space-around | space-between | space-evenly; place-contentplace-contendå±æ€§æ˜¯align-contendå±æ€§å’Œjustify-contendå±æ€§çš„åˆå¹¶ç®€å†™ 1place-content: &lt;align-content&gt; &lt;justify-content&gt; 3.7.grid-auto-columns/grid-auto-rows ç”¨æ¥è®¾ç½®å¤šå‡ºæ¥çš„é¡¹ç›®çš„å®½å’Œé«˜ 4.é¡¹ç›®å±æ€§ grid-column-start grid-column-end grid-column(ä¸Šé¢ä¸¤ä¸ªçš„ç®€å†™) grid-row-start grid-row-end grid-row(ä¸Šé¢ä¸¤ä¸ªçš„ç®€å†™) grid-area justify-self align-self place-self(ä¸Šé¢ä¸¤ä¸ªçš„ç®€å†™) 4.1.grid-column-start/grid-column-end/grid-row-start/grid-row-endç”¨æ¥æŒ‡å®šitemåœ¨ç½‘æ ¼çº¿ä¸­çš„å¼€å§‹ç½‘çº¿å’Œç»“æŸç½‘çº¿ ç®€å†™ 12grid-column: 1 / 3grid-row: 1 / 3 spanå†™æ³• è§„å®šé¡¹ç›®ç›´æ¥å æ®çš„è¡Œ/åˆ—æ•°é‡ 12grid-column: span 3; // è·¨è¶Š3åˆ—grid-row: span 1; // è·¨è¶Š1è¡Œ 4.2.grid-areaæŒ‡å®šé¡¹ç›®æ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸ é…åˆå®¹å™¨å±æ€§grid-template-areaä½¿ç”¨ ç”¨åšä¸Šé¢å››ä¸ªå±æ€§çš„ç®€å†™ grid-areaå±æ€§å¯ä»¥ç”¨ä½œgrid-row-startï¼Œgrid-column-startï¼Œgrid-row-endï¼Œgrid-column-endçš„åˆå¹¶ç®€å†™å½¢å¼ï¼Œç›´æ¥æŒ‡å®šé¡¹ç›®çš„ä½ç½® 12/* grid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt; */grid-areaL 1 / 1 / 3 / 3; 4.3.justify-self/align-selfjustify-selfå±æ€§ç”¨æ¥å•ç‹¬è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼Œè·Ÿjustify-itemså±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´align-selfå±æ€§ç”¨æ¥å•ç‹¬è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼Œè·Ÿalign-itemså±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ place-selfplace-selfå±æ€§æ˜¯align-selfå±æ€§å’Œjustify-selfå±æ€§çš„åˆå¹¶ç®€å†™å½¢å¼ 1place-self: &lt;align-self&gt; &lt;justify-self&gt;","link":"/Grid%E5%B8%83%E5%B1%80/"},{"title":"HTMLç¬”è®°","text":"1.HTML XHTML XMLçš„åŒºåˆ« HTML: è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ XHTMLï¼šå¯æ‰©å±•çš„è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼ŒåŸºäºXMLï¼Œä½œç”¨ä¸HTMLç±»ä¼¼ï¼Œä½†è¯­æ³•æ›´åŠ ä¸¥æ ¼ XMLï¼šå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼Œä¸»è¦ç”¨äºå­˜å‚¨æ•°æ®å’Œç»“æ„ XHTMLæ ‡ç­¾åå¿…é¡»æ‰‹å†™ï¼Œå…ƒç´ å¿…é¡»ä»¥åŒæ ‡ç­¾å½¢å¼å­˜åœ¨ï¼Œå…ƒç´ å¿…é¡»è¢«æ­£ç¡®åµŒå¥—ï¼Œå…ƒç´ å¿…é¡»æœ‰æ ¹å…ƒç´  2.HTML5å’ŒHTMLçš„åŒºåˆ«HTML5æ˜¯HTMLçš„æ–°æ ‡å‡†ï¼Œå…¶ä¸»è¦ç›®æ ‡æ˜¯æ— éœ€ä»»ä½•é¢å¤–çš„æ’ä»¶å°±å¯ä»¥ä¼ è¾“æ‰€æœ‰å†…å®¹ï¼Œå®ƒåŒ…æ‹¬äº†åŠ¨ç”»ï¼Œè§†é¢‘ç­‰ä¸°å¯Œçš„å›¾å½¢ç•Œé¢ ä»æ–‡æ¡£å£°æ˜ HTMLçš„æ–‡æ¡£å£°æ˜æ˜¯å¾ˆé•¿çš„ä¸€æ®µä»£ç ï¼Œè€ŒHTML5 åªéœ€è¦åœ¨æ–‡æ¡£å¤´éƒ¨ä½¿ç”¨&lt;!DOCTYPE html&gt;æ ‡ç­¾å³å¯å£°æ˜ ä»è¯­ä¹‰ç»“æ„ HTML4.0æ²¡æœ‰ä½“ç°è¯­ä¹‰åŒ–çš„æ ‡ç­¾ï¼Œè€ŒHTML5åŠ å…¥äº†å¾ˆå¤šè¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œå¦‚header main footer acticleç­‰ 3.DOCTYPEæ ‡ç­¾&lt;!DOCTYPE html&gt;çš„ä½œç”¨å°±æ˜¯è®©æµè§ˆå™¨è¿›å…¥æ ‡å‡†æ¨¡å¼ï¼Œä½¿ç”¨æœ€æ–°çš„W3Cæ ‡å‡†æ¥è§£ææ¸²æŸ“é¡µé¢ï¼Œè‹¥æ–‡æ¡£å¤´éƒ¨ä¸å†™åˆ™æµè§ˆå™¨ä¼šä½¿ç”¨å…¼å®¹æ¨¡å¼æ¥è§£æå’Œæ¸²æŸ“é¡µé¢ æ ‡å‡†æ¨¡å¼ï¼šæŒ‡æµè§ˆå™¨æŒ‰ç…§W3Cæ ‡å‡†è§£ææ–‡æ¡£ å…¼å®¹æ¨¡å¼ï¼šæµè§ˆå™¨é€šå¸¸ä¼šä¸ºäº†å…¼å®¹è€æ—§ç«™ç‚¹è€Œä¸ä½¿ç”¨æœ€æ–°çš„W3Cæ ‡å‡†æ¥è§£ææ–‡æ¡£ 4.å—å…ƒç´  è¡Œå†…å…ƒç´  è¡Œå†…å—å…ƒç´  å—å…ƒç´  ç‹¬å ä¸€è¡Œ å¯ä»¥è®¾ç½®å®½é«˜ï¼Œä¸è®¾ç½®å®½åº¦æƒ…å†µä¸‹é»˜è®¤ç»§æ‰¿çˆ¶å…ƒç´ çš„å®½åº¦ å¸¸è§çš„å—å…ƒç´ ï¼šdiv p h1~h6 ul ol table form è¡Œå†…å…ƒç´  ç›¸é‚»çš„å…ƒç´ ä¼šæ’åˆ—åœ¨åŒä¸€è¡Œ æ— æ³•è®¾ç½®å®½é«˜ï¼Œå…¶å¤§å°ç”±å†…å®¹å†³å®š å¯ä»¥è®¾ç½®æ°´å¹³æ–¹å‘çš„margin paddingçš„å€¼ï¼Œä½†æ— æ³•ä½¿ç”¨autoå±æ€§å±…ä¸­ å¸¸è§çš„è¡Œå†…å…ƒç´ ï¼šspan a strong b em i labelç­‰ è¡Œå†…å—å…ƒç´  ä¸ç‹¬å ä¸€è¡Œ å¯ä»¥è®¾ç½®å®½é«˜ï¼Œé»˜è®¤å¤§å°ç”±å†…å®¹å†³å®š å¯ä»¥è®¾ç½®margin paddingç­‰å±æ€§ï¼Œä½†æ— æ³•ä½¿ç”¨autoå±æ€§å±…ä¸­ å¸¸è§çš„è¡Œå†…å—å…ƒç´ ï¼šbutton input img iframeç­‰ 5.Linkå’Œ@importå¯¼å…¥æ ·å¼çš„åŒºåˆ« linkæ˜¯HTMLæ ‡ç­¾ï¼Œ@importç”¨äºCSSæ–‡ä»¶ä¸­å¯¼å…¥å¦ä¸€ä¸ªCSSæ–‡ä»¶ linkæ ‡ç­¾åœ¨é¡µé¢åŠ è½½æ—¶å°±ä¼šè¢«åŠ è½½ï¼Œ@importå¼•ç”¨ä¼šç­‰åˆ°é¡µé¢åŠ è½½å®Œåœ¨åŠ è½½ linkæ ‡ç­¾æƒé‡é«˜äº@importå¼•ç”¨ @importå¼•ç”¨æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œè€Œlinkæ ‡ç­¾æ— å…¼å®¹é—®é¢˜ 6.labelæ ‡ç­¾labelæ ‡ç­¾ç”¨æ¥å®šä¹‰è¡¨å•æ§åˆ¶é—´çš„å…³ç³»ï¼Œå½“ç”¨æˆ·ä¸è¯¥æ ‡ç­¾å‘ç”Ÿäº¤äº’çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¯¹ç„¦åˆ°ç»‘å®šçš„è¡¨å•æ ‡ç­¾ä¸Š 12&lt;label for=&quot;Name&quot;&gt;Number:&lt;/label&gt;&lt;input type=â€œtextâ€œ name=&quot;Name&quot; id=&quot;Name&quot;/&gt; 7.æ ‡ç­¾ä¸Šçš„titleå’Œaltå±æ€§çš„åŒºåˆ«titleå±æ€§ç”¨äºä¸ºè¯¥å…ƒç´ è®¾ç½®å»ºè®®æ€§ä¿¡æ¯ï¼Œåœ¨é¼ æ ‡ç§»åˆ°è¯¥å…ƒç´ ä¸Šé¢æ—¶ä¼šæ˜¾ç¤º altå±æ€§ç”¨äºåœ¨å›¾ç‰‡æœªèƒ½æ­£å¸¸æ˜¾ç¤ºæ—¶ç»™äºˆæ–‡å­—è¯´æ˜ 8.è¯­ä¹‰åŒ–çš„å¥½å¤„ ä¾¿äºå¼€å‘è€…é˜…è¯»å’Œå†™å‡ºæ›´åŠ ä¼˜é›…çš„ä»£ç  æœ‰åˆ©äºSEOï¼šè®©æµè§ˆå™¨çˆ¬è™«æ›´å¥½åœ°è§£æï¼Œçˆ¬è™«ä¾èµ–äºæ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ æ–¹ä¾¿å…¶å®ƒè®¾å¤‡(å¦‚ç§»åŠ¨è®¾å¤‡)è§£ææ–‡æ¡£ 9.iframeçš„ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ è·¨åŸŸé€šä¿¡ æ— åˆ·æ–°æ–‡ä»¶ä¸Šä¼  å¯ä»¥ç”¨äºåŠ è½½ä¸€äº›ç¬¬ä¸‰æ–¹å›¾æ ‡æˆ–å¹¿å‘Šç­‰ ç¼ºç‚¹ ä¼šé˜»å¡ä¸»é¡µé¢onloadäº‹ä»¶ æ— æ³•è¢«ä¸€äº›æœç´¢å¼•æ“è¯†åˆ« ä¼šäº§ç”Ÿå¾ˆå¤šé¡µé¢ï¼Œä¸åˆ©äºç®¡ç† 10.srcä¸hrefçš„åŒºåˆ« href: æŒ‡å‘ç½‘ç»œèµ„æºæ‰€åœ¨çš„ä½ç½®ï¼Œå¹¶å»ºç«‹è¯¥èµ„æºå’Œå½“å‰å…ƒç´ (é”šç‚¹)æˆ–å½“å‰æ–‡æ¡£(é“¾æ¥)ä¹‹é—´çš„é“¾è·¯ï¼Œç”¨äºè¶…é“¾æ¥ srcï¼šæŒ‡å‘å¤–éƒ¨èµ„æºçš„ä½ç½®ï¼ŒæŒ‡å‘çš„å†…å®¹å°†ä¼šåµŒå…¥åˆ°æ–‡æ¡£ä¸­å½“å‰æ ‡ç­¾æ‰€åœ¨çš„ä½ç½®ï¼›åœ¨è¯·æ±‚srcèµ„æºæ—¶ä¼šå°†å…¶æŒ‡å‘çš„èµ„æºä¸‹è½½å¹¶åº”ç”¨åˆ°æ–‡æ¡£å†…ï¼Œä¾‹å¦‚jsè„šæœ¬ï¼Œimgå›¾ç‰‡ï¼Œiframeç­‰ã€‚ 11.HTML5æ–°ç‰¹æ€§ Canvas SVGï¼šç”¨äºç»˜å›¾çš„å…ƒç´  video audio:ç”¨äºæ’­æ”¾è§†é¢‘å’ŒéŸ³é¢‘çš„åª’ä½“ Dragï¼ŒDropï¼šç”¨äºæ‹–æ‹½çš„å…ƒç´  Geolocationï¼šç”¨äºè·å–åœ°ç†ä½ç½® LocalStorage SessionStorageï¼šç”¨äºæœ¬åœ°ç¦»çº¿å­˜å‚¨ web Workerï¼šè¿è¡Œåœ¨åå°çš„JavaScriptè„šæœ¬ webSocketï¼šåŸºäºTCPçš„å…¨åŒå·¥é€šä¿¡åè®® è¯­ä¹‰åŒ–æ ‡ç­¾ï¼šheader main footer nav sectionç­‰ æ–°çš„è¡¨å•æ§ä»¶ï¼šdate time url email searchç­‰ 12.æ ‡å‡†æ¨¡å¼å’Œæ€ªå¼‚æ¨¡å¼çš„åŒºåˆ« ç›’æ¨¡å‹ï¼šæ ‡å‡†æ¨¡å¼ä¸­ä¸€ä¸ªå…ƒç´ çš„å®½é«˜æ˜¯å®ƒå†…å®¹çš„å®½é«˜ï¼Œæ€ªå¼‚æ¨¡å¼ä¸‹å…ƒç´ çš„å®½é«˜è¿˜åŒ…å«äº†paddingå’Œborder è¡Œå†…å…ƒç´ å®½é«˜ï¼šæ ‡å‡†æ¨¡å¼ä¸‹è¡Œå†…å…ƒç´ æ— æ³•è®¾ç½®å®½é«˜ï¼Œæ€ªå¼‚æ¨¡å¼ä¸‹åˆ™å¯ä»¥ æ°´å¹³å±…ä¸­ï¼šæ ‡å‡†æ¨¡å¼ä¸‹margin: 0 autoå¯ä»¥ä½¿å…ƒç´ æ°´å¹³å±…ä¸­ï¼Œæ€ªå¼‚æ¨¡å¼ä¸‹åˆ™ä¸è¡Œ 13.æ ‡å‡†ç›’æ¨¡å‹å’Œæ€ªå¼‚ç›’æ¨¡å‹HTMLä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥çœ‹ä½œä¸€ä¸ªç›’æ¨¡å‹ï¼Œä¸€ä¸ªç›’æ¨¡å‹ç”±content + padding + border + marginç»„æˆ æ ‡å‡†ç›’æ¨¡å‹ï¼šè®¾ç½®ç›’æ¨¡å‹çš„widthå’Œheightå±æ€§å…¶å®æ˜¯è®¾ç½®å†…å®¹çš„å®½é«˜ï¼Œç›’æ¨¡å‹çš„å®½åº¦ç­‰äºwidth + padding + border + margin æ€ªå¼‚ç›’æ¨¡å‹ï¼šè®¾ç½®ç›’æ¨¡å‹çš„çš„widthå’Œheightå±æ€§å…¶å®æ˜¯è®¾ç½®äº†content + padding + borderçš„å€¼ã€‚ä¾‹å¦‚è®¾ç½®widthä¸º100pxï¼Œpaddingä¸º10pxï¼Œé‚£ä¹ˆæ­¤æ—¶å†…å®¹åŒºåŸŸçš„å®½åº¦åªæœ‰80px(100 - 20 * 2) box-sizingï¼šcontent-box|border-box|inherit 14.å‰ç«¯ç»“æ„æ ·å¼å’Œè¡Œä¸ºåˆ†ç¦»ç»“æ„(HTML)ç›¸å½“äºäººçš„éª¨æ¶ï¼Œæ ·å¼(CSS)ç›¸å½“äºäººçš„è£…é¥°ï¼Œè¡Œä¸º(JavaScript)ç›¸å½“äºäººçš„åŠ¨ä½œï¼Œå‰ç«¯å°†è¿™ä¸‰è€…åˆ†ç¦»å¼€ï¼Œå„è‡ªè´Ÿè´£å„è‡ªçš„å†…å®¹ï¼Œå„éƒ¨åˆ†å¯ä»¥é€šè¿‡å¼•ç”¨è¿›è¡Œä½¿ç”¨ åœ¨åˆ†ç¦»çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬éœ€è¦åšåˆ°ä»£ç çš„ç²¾ç®€ï¼Œé‡ç”¨ï¼Œæœ‰åº åˆ†ç¦»çš„å¥½å¤„ ä»£ç åˆ†ç¦»ï¼Œåˆ©äºå›¢é˜Ÿçš„å¼€å‘å’ŒåæœŸçš„ç»´æŠ¤ï¼› å‡å°‘ç»´æŠ¤æˆæœ¬ï¼Œæé«˜å¯è¯»æ€§å’Œæ›´å¥½çš„å…¼å®¹æ€§ï¼› 15.å¦‚ä½•å¯¹ç½‘ç«™çš„æ–‡ä»¶å’Œèµ„æºè¿›è¡Œä¼˜åŒ– æ–‡ä»¶åˆå¹¶ï¼Œå‡å°‘httpè¯·æ±‚ æ–‡ä»¶å‹ç¼©ï¼ˆgzipå‹ç¼©éœ€è¦çš„csså’Œjsæ–‡ä»¶ï¼‰ ä½¿ç”¨ç¼“å­˜ ä½¿ç”¨cdnæ‰˜ç®¡èµ„æº ç½‘ç«™å¤–é“¾æ¥ä¼˜åŒ– metaæ ‡ç­¾ä¼˜åŒ–,è®¾ç½®title keywords descriptionä¼˜åŒ–ç­‰ 16.æ¸è¿›å¢å¼ºå’Œä¼˜é›…é™çº§çš„åŒºåˆ« æ¸è¿›å¢å¼ºï¼šä¼˜å…ˆè€ƒè™‘ä½ç‰ˆæœ¬æµè§ˆå™¨çš„å…¼å®¹ï¼Œåœ¨ä¿è¯åŸºæœ¬åŠŸèƒ½å¯ä»¥ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œå†è€ƒè™‘å¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœï¼Œäº¤äº’ç­‰æ–¹é¢çš„ä¼˜åŒ– ä¼˜é›…é™çº§ï¼šä¸€å¼€å§‹å°±æ„å»ºå®Œæ•´çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œå…¼å®¹ 17.ä¸ºä»€ä¹ˆHTML5ä¸éœ€è¦DTDHTML5ä¸­æ²¡æœ‰ä½¿ç”¨SGMLæˆ–XHTMLï¼Œä¸éœ€è¦å‚è€ƒDTD 18.formè¡¨å•å…³é—­è‡ªåŠ¨å®Œæˆ(è‡ªåŠ¨è”æƒ³)åŠŸèƒ½è®¾ç½®autocomplete=off 19.å‡ ç§å›¾ç‰‡æ ¼å¼çš„åŒºåˆ« pngï¼šå›¾ç‰‡èƒŒæ™¯é€æ˜ï¼Œå¯ä»¥æ”¯æŒå¾ˆå¤šé¢œè‰² jpgï¼šå›¾ç‰‡èƒŒæ™¯ä¸é€æ˜ï¼Œé™æ€å›¾ï¼Œå¯å‹ç¼© gifï¼šåŠ¨æ€å›¾ï¼Œæ”¯æŒé¢œè‰²è¾ƒå°‘ 20.metaæ ‡ç­¾metaæ ‡ç­¾å¸¸ç”¨äºå®šä¹‰é¡µé¢çš„è¯´æ˜ï¼Œå…³é”®å­—ç­‰å…ƒæ•°æ®ï¼Œè¿™äº›æ•°æ®ä¸€èˆ¬æœåŠ¡äºæµè§ˆå™¨ï¼Œæœç´¢å¼•æ“ï¼Œå¹¶ä¸ä¼šç›´æ¥å‘ç”¨æˆ·å±•ç¤º charsetï¼šè§„å®šHTMLæ–‡æ¡£çš„å­—ç¬¦ç¼–ç  http-equivï¼šä¸€èˆ¬ç”¨äºè®¾ç½®ä¸€äº›ä¸httpè¯·æ±‚å¤´ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚content-Type refreshç­‰ X-UA-Compatibleï¼šä¸€èˆ¬ç”¨äºè®¾ç½®æµè§ˆå™¨å…¼å®¹ keywordsï¼šè®¾ç½®ç½‘é¡µå…³é”®å­— descriptionï¼šè®¾ç½®ç½‘é¡µçš„æè¿°å†…å®¹ viewportï¼šç”¨äºç§»åŠ¨ç«¯çš„æ˜¾ç¤ºä¼˜åŒ–","link":"/HTML/"},{"title":"","text":"ç¼–å†™ä¸€ä¸ªç®€å•çš„Golangç¨‹åº 12345678package mainimport &quot;fmt&quot;func main() { fmt.Println(&quot;Hello Go&quot;)} æ³¨æ„ç‚¹ï¼š Golangä¸­æ¯è¡Œä»£ç ç»“å°¾å¯ä»¥åŠ åˆ†å·ä¹Ÿå¯ä»¥ä¸åŠ  å‡½æ•°çš„{å¿…é¡»å’Œå‡½æ•°ååœ¨åŒä¸€è¡Œï¼Œå¦åˆ™æŠ¥é”™ importè¯­æ³•ä¸åŒçš„å†™æ³•ï¼š 1234567import &quot;fmt&quot;import &quot;time&quot;import ( &quot;fmt&quot; &quot;time&quot;) å£°æ˜å˜é‡çš„å››ç§æ–¹å¼12345678910111213141516171819202122232425package mainimport &quot;fmt&quot;func main() { // å£°æ˜å˜é‡çš„å››ç§æ–¹å¼ // æ–¹æ³•ä¸€ å£°æ˜ä¸€ä¸ªå˜é‡ æŒ‡å®šæ•°æ®ç±»å‹ var a int fmt.Println(a) // æ–¹æ³•äºŒ å£°æ˜ä¸€ä¸ªå˜é‡ åˆå§‹åŒ–ä¸€ä¸ªå€¼ var b int = 100 fmt.Println(b) // æ–¹æ³•ä¸‰ï¼šå£°æ˜ä¸€ä¸ªå˜é‡ï¼Œä¸æŒ‡å®šæ•°æ®ç±»å‹(Goå¯ä»¥è‡ªåŠ¨æ¨å¯¼ç±»å‹) var c = 100 fmt.Println(c) // æ–¹æ³•å››ï¼šçœå»varå…³é”®å­— ç›´æ¥è‡ªåŠ¨åŒ¹é…(æ¨è) // := å£°æ˜çš„æ–¹å¼åªèƒ½å¤Ÿåœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ d := 100 fmt.Println(d)}","link":"/Golang/Golang%E8%AF%AD%E6%B3%95%E6%B3%A8%E6%84%8F%E7%82%B9/"},{"title":"å­—ç¬¦ä¸²å’Œæ•°ç»„å¸¸ç”¨æ–¹æ³•","text":"1.Unicodeè¡¨ç¤ºæ³•12//es6ä¸­å°†ç¼–ç æ”¾å…¥{}å³å¯è§£æconsole.log('hell\\u{6f}'); 2.å­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³• å¸¸è§„æ–¹æ³• charAt(index)ï¼šè¿”å›æŒ‡å®šç´¢å¼•çš„å­—ç¬¦ä¸² indexOf(item)ï¼šè¿”å›æŒ‡å®šå­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® lastIndexOf(item)ï¼šè¿”å›æŒ‡å®šå­—ç¬¦ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½® substring[start,end)ï¼šæå–æŒ‡å®šåŒºé—´çš„å­—ç¬¦ä¸²ï¼Œç´¢å¼•ä¸èƒ½ä¸ºè´Ÿå€¼ slice[start,end)ï¼šæå–æŒ‡å®šåŒºé—´çš„å­—ç¬¦ä¸²ï¼ˆç´¢å¼•å¯ä»¥ä¸ºè´Ÿå€¼ï¼Œ-1å°±æ˜¯å€’æ•°ç¬¬äºŒä½ï¼‰ substr(start,length)ï¼šè¿”å›æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä»æœ«å°¾å¼€å§‹å–æ•°æ®(-2å°±æ˜¯å–åé¢ä¸¤ä½) concat(str1,str2â€¦)ï¼šå­—ç¬¦ä¸²æ‹¼æ¥æ–¹æ³•ï¼Œè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›è¿æ¥åçš„æ–°å­—ç¬¦ä¸² toString()ï¼šè¿”å›å­—ç¬¦ä¸²å¯¹è±¡æ–¹æ³• toLowerCase()ï¼ŒæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå°å†™çš„ toUpperCase()ï¼ŒæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå¤§å†™çš„ String.fromCharCode(ASCII)ï¼šå°†å¯¹åº”çš„ASCIIå€¼è½¬ä¸ºå­—ç¬¦ä¸² String.fromCodePoint(ASCII)ï¼šå°†å¯¹åº”çš„ASCIIå€¼è½¬ä¸ºå­—ä¸²ä¸²ï¼Œå¯å¤„ç†é«˜ä½ç¼–ç  charCodeAt()ï¼šå­—ç¬¦ä¸²è½¬ä¸ºå¯¹åº”çš„ASCIIå€¼ ä¸æ­£åˆ™è¡¨è¾¾å¼æœ‰å…³çš„æ–¹æ³• match(æ­£åˆ™è¡¨è¾¾å¼)ï¼šåœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…æ˜¯å¦æœ‰ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ï¼Œè¿”å›åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²æ•°ç»„ï¼ŒæœªåŒ¹é…åˆ°åˆ™è¿”å›null replace(oldStr/æ­£åˆ™,newStr)ï¼šå­—ç¬¦ä¸²æ›¿æ¢æ–¹æ³•ï¼Œç”¨æ–°çš„å­ä¸²å°†æ—§çš„å­ä¸²æ›¿æ¢æ‰ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸² search(å­ä¸²/æ­£åˆ™)ï¼šå­—ç¬¦ä¸²æŸ¥è¯¢æ–¹æ³•ï¼Œæ‰¾åˆ°å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®å¹¶è¿”å›ï¼Œæœªæ‰¾åˆ°åˆ™è¿”å›-1 split(åˆ†å‰²å­—ç¬¦/æ­£åˆ™)ï¼šå­—ç¬¦ä¸²åˆ†å‰²æ–¹æ³•ï¼Œä¼ å…¥åˆ†å‰²ç¬¦ï¼ŒæŠŠå­—ç¬¦ä¸²åˆ†å‰²ä¸ºå­å­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›åˆ†å‰²åçš„æ•°ç»„ es6æ–°å¢æ–¹æ³• includes(item)ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æŸä¸²å­—ç¬¦ã€‚æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯èµ·å§‹çš„ä½ç½® startsWith(item)ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²å¼€å¤´æ˜¯å¦åŒ…å«æŸä¸²å­—ç¬¦ endsWith(item)ï¼šå›å¸ƒå°”å€¼ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²ç»“å°¾æ˜¯å¦åŒ…å«æŸä¸²å­—ç¬¦ repeatï¼šè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå°†åŸå­—ç¬¦ä¸²é‡å¤ n æ¬¡ padStartï¼šè¿”å›æ–°çš„å­—ç¬¦ä¸²ï¼Œåœ¨å­—ç¬¦ä¸²å‰é¢è¡¥å…¨ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¥å…¨å­—ç¬¦ä¸²é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¥å…¨çš„å­—ç¬¦ padEndï¼šè¿”å›æ–°çš„å­—ç¬¦ä¸²ï¼Œåœ¨å­—ç¬¦ä¸²åé¢è¡¥å…¨ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¥å…¨å­—ç¬¦ä¸²é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¥å…¨çš„å­—ç¬¦ trimStartï¼šå»é™¤å‰é¢ç©ºæ ¼ tiemEndï¼šå»é™¤åé¢ç©ºæ ¼ matchAllï¼šè¿”å›ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å½“å‰å­—ç¬¦ä¸²çš„æ‰€æœ‰åŒ¹é… 1234567891011121314151617181920let str = &quot;How are you Are are are&quot;;// console.log(str.charAt(4)); //è¿”å›æŒ‡å®šç´¢å¼•çš„å­—ç¬¦ä¸²// console.log(str.indexOf(&quot;are&quot;)); // è¿”å›æŒ‡å®šå­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•// console.log(str.lastIndexOf(&quot;are&quot;)); // è¿”å›æŒ‡å®šå­—ç¬¦ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•// console.log(str.substring(0,9)); // è¿”å›æŒ‡å®šåŒºé—´çš„å­—ç¬¦ä¸²// console.log(str.slice(0,0)); // è¿”å›æŒ‡å®šåŒºé—´çš„å­—ç¬¦ä¸²ï¼Œç´¢å¼•å¯ä»¥ä¸ºè´Ÿå€¼// console.log(str.substr(0,3)); // è¿”å›æŒ‡å®šé•¿åº¦çš„å­ä¸²// console.log(str.concat(&quot; yes&quot;,&quot; no&quot;));/* let num = 123;console.log(num.toString()); */// console.log(str.toLocaleLowerCase());// console.log(str.toLocaleUpperCase());// console.log(str.match(/are/));// console.log(str.replace(/are/g,&quot;at&quot;));// console.log(str.split(/are/ig));// console.log(str.includes(&quot;are&quot;));// console.log(str.endsWith(&quot;e&quot;));// console.log(str.repeat(2));// console.log(str.match(/are/g)); æ•°ç»„å¸¸ç”¨æ–¹æ³• å¸¸è§„æ–¹æ³• push()ï¼šä»æ•°ç»„æœ«å°¾æ’å…¥æ•°æ®ï¼Œè¿”å›æ’å…¥å®Œæˆåæ•°ç»„çš„é•¿åº¦ pop()ï¼šä»æ•°ç»„æœ«å°¾å–ä¸‹æ•°æ®ï¼Œè¿”å›å–ä¸‹çš„æ•°æ® unshift()ï¼šä»æ•°ç»„å¤´éƒ¨æ’å…¥æ•°æ®ï¼Œè¿”å›æ’å…¥å®Œæˆåæ•°ç»„çš„é•¿åº¦ shift()ï¼šä»æ•°ç»„å¤´éƒ¨å–ä¸‹æ•°æ®ï¼Œè¿”å›å–ä¸‹çš„æ•°æ® splice()ï¼šå®ç°æ•°ç»„çš„æ’å…¥ï¼Œåˆ é™¤ï¼Œæ›¿æ¢ï¼š æ’å…¥ï¼š3ä¸ªå‚æ•°ï¼Œèµ·å§‹ä½ç½®ï¼Œ0ï¼Œæ’å…¥çš„é¡¹ã€‚ åˆ é™¤ï¼š2ä¸ªå‚æ•°ï¼Œèµ·å§‹ä½ç½®ï¼Œåˆ é™¤çš„é¡¹æ•° æ›¿æ¢ï¼šä»»æ„å‚æ•°ï¼Œèµ·å§‹ä½ç½®ï¼Œåˆ é™¤çš„é¡¹æ•°ï¼Œæ’å…¥ä»»æ„æ•°é‡çš„é¡¹æ•° sort()ï¼šæ•°ç»„æ’åºæ–¹æ³•ï¼Œé»˜è®¤æŒ‰ç…§ASCIIå€¼è¿›è¡Œå‡åºæ’åº fill()ï¼šä½¿ç”¨ä¸€ä¸ªå›ºå®šå€¼æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´  reverse()ï¼šé€†åºè¾“å‡ºæ•°ç»„ at()ï¼šæ¥æ”¶ä¸€ä¸ªæ•´æ•°å€¼å¹¶è¿”å›è¯¥ç´¢å¼•çš„é¡¹ç›®ï¼Œå…è®¸è´Ÿæ•° indexOf(item)ï¼šè¿”å›å¯¹åº”å…ƒç´ çš„ä¸‹æ ‡ concat(arr2,æ•°æ®1,æ•°æ®2â€¦)ï¼šæ‹·è´åŸæ•°ç»„ç”Ÿæˆæ–°æ•°ç»„ã€‚åˆå¹¶æ•°ç»„ slice[start,end)ï¼šæå–æ•°ç»„ä¸­æŒ‡å®šåŒºé—´çš„æ•°æ® join(åˆ†å‰²ç¬¦)ï¼šæ•°ç»„åˆ†å‰²æ–¹æ³• copyWithin(target,[start,end))ï¼šåœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œç„¶åè¿”å›å½“å‰æ•°ç»„ é«˜é˜¶å‡½æ•° forEach(callback)ï¼šéå†æ•°ç»„ map(callback)ï¼šéå†æ•°ç»„ï¼Œå¯è¿”å›å¯¹æ•°ç»„çš„itemå’Œindexè¿›è¡Œä¸€å®šæ“ä½œåçš„ç»“æœã€‚ filter(callback)ï¼šè¿”å›æ•°ç»„ä¸­å…¨éƒ¨ç¬¦åˆæ¡ä»¶çš„å…ƒç´  find(callbakc)ï¼šè¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´  findIndex(callback)ï¼šè¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„ä¸‹æ ‡ some(callback)ï¼šè¿”å›å¸ƒå°”å€¼ï¼ŒæŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ (æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ä¾¿ä¼šåœæ­¢å¾ªç¯) every(callbakc)ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œéå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆæ¡ä»¶ reduce(callback(prev, curr, index, array),initValue)ï¼šå½’å¹¶ï¼Œä¸ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ä¾æ¬¡æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä¸åŒ…æ‹¬æ•°ç»„ä¸­è¢«åˆ é™¤æˆ–ä»æœªè¢«èµ‹å€¼çš„å…ƒç´  12345678910111213141516171819202122232425262728293031323334353637383940414243444546// å„å€¼çš„ç´¯åŠ const arr = [1,2,3,4,5];const result = arr.reduce((acc, cur) =&gt; acc + cur);arr.forEach(item =&gt; console.log(item));// æ•°ç»„é™ç»´const result = [[1,2],[3,4],[5,6]].reduce((acc, cur) =&gt; [...acc, ...cur], []);console.log(result);// è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°const arr = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;2&quot;, &quot;1&quot;, &quot;1&quot;];const result = arr.reduce((acc, cur) =&gt; { if( cur in acc ) { acc[cur]++; } else { acc[cur] = 1; } return acc;}, {});// æŒ‰å±æ€§å¯¹objectåˆ†ç±»const people = [ { name: 'Alice', age: 21 }, { name: 'Max', age: 20 }, { name: 'Jane', age: 20 },]function groupBy( objectArray, property ) { return objectArray.reduce( (acc, obj) =&gt; { const key = obj[property]; if (!acc[key]) { acc[key] = []; } acc[key].push(obj); return acc; }, {});}const groupedPeople = groupBy(people, 'age');console.log(groupedPeople);","link":"/JavaScript/0.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"},{"title":"h5é€‚é…è®¡ç®—","text":"1.ä»€ä¹ˆæ˜¯viewport æ—©æœŸç§»åŠ¨ç«¯çš„viewportä¸pcçš„viewportæ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¯¼è‡´å°å±ä½“éªŒä¸ä½³ï¼Œåæ¥è‹¹æœå¼•å…¥å¯è§†è§†çª—ï¼ˆvisual viewportï¼‰å’Œå¸ƒå±€è§†çª—(layout viewport)ã€‚è¿™ä¸¤ä¸ªè§†çª—æ˜¯é€è§†çš„æ•ˆæœï¼Œæƒ³è±¡ä¸‹layout viewportæ˜¯ä¸€å¼ å¤§çš„ä¸èƒ½æ”¹å˜å¤§å°å’Œè§’åº¦çš„å›¾ç‰‡ã€‚æˆ‘ä»¬é€è¿‡visual viewportå¯¹layout viewportè¿›è¡Œè§‚å¯Ÿã€‚è§‚å¯Ÿè·ç¦»è¿œç‚¹ï¼ˆç”¨æˆ·çš„ç¼©å°é¡µé¢åŠŸèƒ½ï¼‰å°±å¯ä»¥ä¸€æ¬¡æ€§çœ‹åˆ°è¿™ä¸ªå¤§å›¾ã€‚æˆ–è€…è¿‘ç‚¹ï¼ˆç”¨æˆ·çš„æ”¾å¤§é¡µé¢åŠŸèƒ½ï¼‰å¯ä»¥çœ‹åˆ°ä¸€éƒ¨åˆ†ã€‚ä½ èƒ½æ”¹å˜è¿™ä¸ªé€è§†æ¡†çš„æ–¹å‘ï¼Œä½†è¿™å¼ å¤§å›¾ç‰‡çš„å¤§å°å’Œå½¢çŠ¶éƒ½ä¸ä¼šæ”¹å˜ã€‚ æˆ‘ä»¬åœ¨&lt;meta name=&quot;viewport&quot; /&gt; è®¾ç½®çš„å…¶å®æ˜¯layout-viewportï¼Œä½¿å¾—layout viewport==visual viewportï¼Œè¾¾åˆ°ideal viewportæ•ˆæœï¼Œä½¿å¾—viewportåˆšå¥½å®Œç¾è¦†ç›–å±å¹•ï¼Œå› æ­¤é€‚é…æ–¹æ¡ˆçš„æ—¶å€™ï¼Œè¿™ä¸€å¥æœ€é‡è¦ã€‚ 2.è®¡ç®—æ–¹æ¡ˆ1.px rem vwçš„è½¬æ¢ é»˜è®¤æƒ…å†µä¸‹æ ¹å…ƒç´ çš„font-sizeä¸º 1rem = 16pxï¼Œä½†ä¸ºäº†æ–¹ä¾¿æ¢ç®—ï¼Œæˆ‘ä»¬é€šå¸¸è®¾ç½® 1rem = 100px ä»¥750pxçš„è®¾è®¡ç¨¿ä¸ºä¾‹ï¼Œåˆ™å¯ä»¥å¾—å‡º 750px = 7.5rem ç›¸å½“äº100vw=7.5remé‚£ä¹ˆ1rem = 100vw / 7.5 = 13.3333vwï¼Œæ‰€ä»¥è®¾ç½®æ ¹å…ƒç´ çš„font-sizeä¸º13.3333vw è€Œåœ¨é¡µé¢æ ·å¼ä¸­ï¼Œç›´æ¥å°†è®¾è®¡ç¨¿ä¸­çš„pxé™¤ä»¥100å°±æ˜¯å¯¹åº”çš„remå€¼ è‹¥è¦å…¼å®¹æ—§æµè§ˆå™¨ï¼Œåˆ™éœ€è¦å†™å…¥å“åº”å¼å¸ƒå±€ï¼Œä¾‹å¦‚ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576// ç›¸å½“äº 320 / 7.5 = 42.667px@media screen and (max-width: 320px) { html { font-size: 42.667px; font-size: 13.3333vw; }}// ç›¸å½“äº375 / 7.5 = 48pxï¼Œä»¥ä¸‹åŒç†@media screen and (min-width: 321px) and (max-width: 375px) { html { font-size: 48px; font-size: 13.3333vw; }}@media screen and (min-width: 376px) and (max-width:393px) { html { font-size: 52.4px; font-size: 13.3333vw }}@media screen and (min-width: 394px) and (max-width:412px) { html { font-size: 54.93px; font-size: 13.3333vw }}@media screen and (min-width: 413px) and (max-width:414px) { html { font-size: 55.2px; font-size: 13.3333vw }}@media screen and (min-width: 415px) and (max-width:480px) { html { font-size: 64px; font-size: 13.3333vw }}@media screen and (min-width: 481px) and (max-width:540px) { html { font-size: 72px; font-size: 13.3333vw }}@media screen and (min-width: 541px) and (max-width:640px) { html { font-size: 85.33px; font-size: 13.3333vw }}@media screen and (min-width: 641px) and (max-width:720px) { html { font-size: 96px; font-size: 13.3333vw }}@media screen and (min-width: 721px) and (max-width:768px) { html { font-size: 102.4px; font-size: 13.3333vw }}@media screen and (min-width: 769px) and (max-width:852px) { html { font-size: 113.4px; font-size: 13.3333vw }}@media screen and (min-width: 853px) { html { font-size: 130.4px; font-size: 13.3333vw }} ä¸åŒçš„è®¾è®¡ç¨¿ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„è¡¨æ ¼ï¼š è®¾è®¡ç¨¿å¤§å°ï¼ˆå•ä½ pxï¼‰ html çš„ font-sizeï¼ˆå•ä½ vwï¼‰ 375 26.666666 750 13.333333 320 31.25 640 15.625 2.viewportç¼©æ”¾æ¯”ä¾‹è®¾ç½®1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot; /&gt; 3.å…¶ä»–å¯èƒ½ä½¿ç”¨åˆ°çš„metaæ ‡ç­¾é…ç½®123456&lt;meta name=&quot;screen-orientation&quot; content=&quot;portrait&quot;&gt; //Android ç¦æ­¢å±å¹•æ—‹è½¬&lt;meta name=&quot;full-screen&quot; content=&quot;yes&quot;&gt; //å…¨å±æ˜¾ç¤º&lt;meta name=&quot;browsermode&quot; content=&quot;application&quot;&gt; //UCåº”ç”¨æ¨¡å¼ï¼Œä½¿ç”¨äº†applicationè¿™ç§åº”ç”¨æ¨¡å¼åï¼Œé¡µé¢è®²é»˜è®¤å…¨å±ï¼Œç¦æ­¢é•¿æŒ‰èœå•ï¼Œç¦æ­¢æ”¶æ‹¾ï¼Œæ ‡å‡†æ’ç‰ˆï¼Œä»¥åŠå¼ºåˆ¶å›¾ç‰‡æ˜¾ç¤ºã€‚&lt;meta name=&quot;x5-orientation&quot; content=&quot;portrait&quot;&gt; //QQå¼ºåˆ¶ç«–å±&lt;meta name=&quot;x5-fullscreen&quot; content=&quot;true&quot;&gt; //QQå¼ºåˆ¶å…¨å±&lt;meta name=&quot;x5-page-mode&quot; content=&quot;app&quot;&gt; //QQåº”ç”¨æ¨¡å¼ ç”µè¯å·ç è¯†åˆ«åœ¨ iOS Safari ï¼ˆå…¶ä»–æµè§ˆå™¨å’Œ Android å‡ä¸ä¼šï¼‰ä¸Šä¼šå¯¹é‚£äº›çœ‹èµ·æ¥åƒæ˜¯ç”µè¯å·ç çš„æ•°å­—å¤„ç†ä¸ºç”µè¯é“¾æ¥ï¼Œæ¯”å¦‚ï¼š 7 ä½æ•°å­—ï¼Œå½¢å¦‚ï¼š1234567 å¸¦æ‹¬å·åŠåŠ å·çš„æ•°å­—ï¼Œå½¢å¦‚ï¼š(+86)123456789 åŒè¿æ¥çº¿çš„æ•°å­—ï¼Œå½¢å¦‚ï¼š00-00-00111 11 ä½æ•°å­—ï¼Œå½¢å¦‚ï¼š13800138000 å…³é—­è¯†åˆ« 1&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot; /&gt; å¼€å¯è¯†åˆ« 1&lt;a href=&quot;tel:123456&quot;&gt;123456&lt;/a&gt; é‚®ç®±è¯†åˆ«ï¼ˆAndroidï¼‰å®‰å“ä¸Šä¼šå¯¹ç¬¦åˆé‚®ç®±æ ¼å¼çš„å­—ç¬¦ä¸²è¿›è¡Œè¯†åˆ«ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ meta æ¥ç®¡åˆ«é‚®ç®±çš„è‡ªåŠ¨è¯†åˆ«ï¼š 1&lt;meta content=&quot;email=no&quot; name=&quot;format-detection&quot; /&gt; åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾å±æ€§æ¥å¼€å¯é•¿æŒ‰é‚®ç®±åœ°å€å¼¹å‡ºé‚®ä»¶å‘é€çš„åŠŸèƒ½ï¼š 1&lt;a mailto:dooyoe@gmail.com&quot;&gt;dooyoe@gmail.com&lt;/a&gt; 4.css ç¯‡0.5pxç»†çº¿ç§»åŠ¨ç«¯ H5 é¡¹ç›®è¶Šæ¥è¶Šå¤šï¼Œè®¾è®¡å¸ˆå¯¹äº UI çš„è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼Œæ¯”å¦‚ 1px çš„è¾¹æ¡†ã€‚åœ¨é«˜æ¸…å±ä¸‹ï¼Œç§»åŠ¨ç«¯çš„ 1px ä¼šå¾ˆç²—ã€‚ é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä¸»è¦æ˜¯è·Ÿä¸€ä¸ªä¸œè¥¿æœ‰å…³ï¼ŒDPR(devicePixelRatio) è®¾å¤‡åƒç´ æ¯”ï¼Œå®ƒæ˜¯é»˜è®¤ç¼©æ”¾ä¸º 100%çš„æƒ…å†µä¸‹ï¼Œè®¾å¤‡åƒç´ å’Œ CSS åƒç´ çš„æ¯”å€¼ã€‚ç›®å‰ä¸»æµçš„å±å¹• DPR=2ï¼ˆiPhone 8ï¼‰,æˆ–è€… 3ï¼ˆiPhone 8 Plusï¼‰ã€‚æ‹¿ 2 å€å±æ¥è¯´ï¼Œè®¾å¤‡çš„ç‰©ç†åƒç´ è¦å®ç° 1 åƒç´ ï¼Œè€Œ DPR=2ï¼Œæ‰€ä»¥ css åƒç´ åªèƒ½æ˜¯ 0.5ã€‚ ä¸‹é¢ä»‹ç»æœ€å¸¸ç”¨çš„æ–¹æ³• 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586/* åº•è¾¹æ¡† */.b-border { position: relative;}.b-border:before { content: ''; position: absolute; left: 0; bottom: 0; width: 100%; height: 1px; background: #d9d9d9; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); -webkit-transform-origin: 0 0; transform-origin: 0 0;}/* ä¸Šè¾¹æ¡† */.t-border { position: relative;}.t-border:before { content: ''; position: absolute; left: 0; top: 0; width: 100%; height: 1px; background: #d9d9d9; -webkit-transform: scaleY(0.5); transform: scaleY(0.5); -webkit-transform-origin: 0 0; transform-origin: 0 0;}/* å³è¾¹æ¡† */.r-border { position: relative;}.r-border:before { content: ''; position: absolute; right: 0; bottom: 0; width: 1px; height: 100%; background: #d9d9d9; -webkit-transform: scaleX(0.5); transform: scaleX(0.5); -webkit-transform-origin: 0 0; transform-origin: 0 0;}/* å·¦è¾¹æ¡† */.l-border { position: relative;}.l-border:before { content: ''; position: absolute; left: 0; bottom: 0; width: 1px; height: 100%; background: #d9d9d9; -webkit-transform: scaleX(0.5); transform: scaleX(0.5); -webkit-transform-origin: 0 0; transform-origin: 0 0;}/* å››æ¡è¾¹ */.setBorderAll { position: relative; &amp;:after { content: ' '; position: absolute; top: 0; left: 0; width: 200%; height: 200%; transform: scale(0.5); transform-origin: left top; box-sizing: border-box; border: 1px solid #e5e5e5; border-radius: 4px; }} å±è”½ç”¨æˆ·é€‰æ‹©ç¦æ­¢ç”¨æˆ·é€‰æ‹©é¡µé¢ä¸­çš„æ–‡å­—æˆ–è€…å›¾ç‰‡ 12345678div { -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;} æ¸…é™¤è¾“å…¥æ¡†å†…é˜´å½±åœ¨ iOS ä¸Šï¼Œè¾“å…¥æ¡†é»˜è®¤æœ‰å†…éƒ¨é˜´å½±,ä»¥è¿™æ ·å…³é—­ï¼š 123div { -webkit-appearance: none;} å¦‚ä½•ç¦æ­¢ä¿å­˜æˆ–æ‹·è´å›¾åƒä»£ç å¦‚ä¸‹ 123img { -webkit-touch-callout: none;} è¾“å…¥æ¡†é»˜è®¤å­—ä½“é¢œè‰²è®¾ç½® input é‡Œé¢ placeholder å­—ä½“çš„é¢œè‰² 123456789101112input::-webkit-input-placeholder,textarea::-webkit-input-placeholder { color: #c7c7c7;}input:-moz-placeholder,textarea:-moz-placeholder { color: #c7c7c7;}input:-ms-input-placeholder,textarea:-ms-input-placeholder { color: #c7c7c7;} ç”¨æˆ·è®¾ç½®å­—å·æ”¾å¤§æˆ–è€…ç¼©å°å¯¼è‡´é¡µé¢å¸ƒå±€é”™è¯¯è®¾ç½®å­—ä½“ç¦æ­¢ç¼©æ”¾ 12345body { -webkit-text-size-adjust: 100% !important; text-size-adjust: 100% !important; -moz-text-size-adjust: 100% !important;} androidç³»ç»Ÿä¸­å…ƒç´ è¢«ç‚¹å‡»æ—¶äº§ç”Ÿè¾¹æ¡†éƒ¨åˆ†androidç³»ç»Ÿç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œä¼šå‡ºç°ä¸€ä¸ªè¾¹æ¡†æˆ–è€…åŠé€æ˜ç°è‰²é®ç½©, ä¸åŒç”Ÿäº§å•†å®šä¹‰å‡ºæ¥é¢æ•ˆæœä¸ä¸€æ ·ã€‚å»é™¤ä»£ç å¦‚ä¸‹ 1234a,button,input,textarea{ -webkit-tap-highlight-color: rgba(0,0,0,0) -webkit-user-modify:read-write-plaintext-only;} iOS æ»‘åŠ¨ä¸æµç•…ios æ‰‹æœºä¸Šä¸‹æ»‘åŠ¨é¡µé¢ä¼šäº§ç”Ÿå¡é¡¿ï¼Œæ‰‹æŒ‡ç¦»å¼€é¡µé¢ï¼Œé¡µé¢ç«‹å³åœæ­¢è¿åŠ¨ã€‚æ•´ä½“è¡¨ç°å°±æ˜¯æ»‘åŠ¨ä¸æµç•…ï¼Œæ²¡æœ‰æ»‘åŠ¨æƒ¯æ€§ã€‚ iOS 5.0 ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œæ»‘åŠ¨æœ‰å®šä¹‰æœ‰ä¸¤ä¸ªå€¼ auto å’Œ touchï¼Œé»˜è®¤å€¼ä¸º autoã€‚ è§£å†³æ–¹æ¡ˆ åœ¨æ»šåŠ¨å®¹å™¨ä¸Šå¢åŠ æ»šåŠ¨ touch æ–¹æ³• 123.wrapper { -webkit-overflow-scrolling: touch;} è®¾ç½® overflow è®¾ç½®å¤–éƒ¨ overflow ä¸º hidden,è®¾ç½®å†…å®¹å…ƒç´  overflow ä¸º autoã€‚å†…éƒ¨å…ƒç´ è¶…å‡º body å³äº§ç”Ÿæ»šåŠ¨ï¼Œè¶…å‡ºçš„éƒ¨åˆ† body éšè—ã€‚ 123456body { overflow-y: hidden;}.wrapper { overflow-y: auto;} 5.js ç¯‡ç§»åŠ¨ç«¯clickå±å¹•äº§ç”Ÿ200-300 msçš„å»¶è¿Ÿå“åº”ç§»åŠ¨è®¾å¤‡ä¸Šçš„webç½‘é¡µæ˜¯æœ‰300mså»¶è¿Ÿçš„ï¼Œå¾€å¾€ä¼šé€ æˆæŒ‰é’®ç‚¹å‡»å»¶è¿Ÿç”šè‡³æ˜¯ç‚¹å‡»å¤±æ•ˆã€‚è§£å†³æ–¹æ¡ˆï¼š fastclickå¯ä»¥è§£å†³åœ¨æ‰‹æœºä¸Šç‚¹å‡»äº‹ä»¶çš„300mså»¶è¿Ÿ zeptoçš„touchæ¨¡å—ï¼Œtapäº‹ä»¶ä¹Ÿæ˜¯ä¸ºäº†è§£å†³åœ¨clickçš„å»¶è¿Ÿé—®é¢˜ è§¦æ‘¸äº‹ä»¶çš„å“åº”é¡ºåº ontouchstart ontouchmove ontouchend onclick audio å’Œ video åœ¨ ios å’Œ andriod ä¸­è‡ªåŠ¨æ’­æ”¾è¿™ä¸ªä¸æ˜¯bugï¼Œç”±äºè‡ªåŠ¨æ’­æ”¾ç½‘é¡µä¸­çš„éŸ³é¢‘æˆ–è§†é¢‘ï¼Œä¼šç»™ç”¨æˆ·å¸¦æ¥ä¸€äº›å›°æ‰°æˆ–è€…ä¸å¿…è¦çš„æµé‡æ¶ˆè€—ï¼Œæ‰€ä»¥è‹¹æœç³»ç»Ÿå’Œå®‰å“ç³»ç»Ÿé€šå¸¸éƒ½ä¼šç¦æ­¢è‡ªåŠ¨æ’­æ”¾å’Œä½¿ç”¨ JS çš„è§¦å‘æ’­æ”¾ï¼Œå¿…é¡»ç”±ç”¨æˆ·æ¥è§¦å‘æ‰å¯ä»¥æ’­æ”¾ã€‚åŠ å…¥è‡ªåŠ¨è§¦å‘æ’­æ”¾çš„ä»£ç  123$('html').one('touchstart', function() { audio.play()}) iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç©ºç™½æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸‹æ‹‰ï¼Œå±å¹•é¡¶éƒ¨ä¼šå¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šæ‹‰ï¼Œåº•éƒ¨å¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚ åœ¨ iOS ä¸­ï¼Œæ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¼šè§¦å‘ touchmove äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶è§¦å‘çš„å¯¹è±¡æ˜¯æ•´ä¸ª webview å®¹å™¨ï¼Œå®¹å™¨è‡ªç„¶ä¼šè¢«æ‹–åŠ¨ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä¼šæˆç©ºç™½ã€‚ è§£å†³æ–¹æ¡ˆ 1234567891011document.body.addEventListener( 'touchmove', function(e) { if (e._isScroller) return // é˜»æ­¢é»˜è®¤äº‹ä»¶ e.preventDefault() }, { passive: false }) ios æ—¥æœŸè½¬æ¢ NAN çš„é—®é¢˜å°†æ—¥æœŸå­—ç¬¦ä¸²çš„æ ¼å¼ç¬¦å·æ›¿æ¢æˆâ€™/â€˜ 1'yyyy-MM-dd'.replace(/-/g, '/') 6.è½¯é”®ç›˜é—®é¢˜IOS é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾ å¯ä»¥é€šè¿‡ç›‘å¬ç§»åŠ¨ç«¯è½¯é”®ç›˜å¼¹èµ· Element.scrollIntoViewIfNeededï¼ˆBooleanï¼‰æ–¹æ³•ç”¨æ¥å°†ä¸åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸã€‚ å¦‚æœè¯¥å…ƒç´ å·²ç»åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿæ»šåŠ¨ã€‚ trueï¼Œåˆ™å…ƒç´ å°†åœ¨å…¶æ‰€åœ¨æ»šåŠ¨åŒºçš„å¯è§†åŒºåŸŸä¸­å±…ä¸­å¯¹é½ã€‚ falseï¼Œåˆ™å…ƒç´ å°†ä¸å…¶æ‰€åœ¨æ»šåŠ¨åŒºçš„å¯è§†åŒºåŸŸæœ€è¿‘çš„è¾¹ç¼˜å¯¹é½ã€‚ æ ¹æ®å¯è§åŒºåŸŸæœ€é è¿‘å…ƒç´ çš„å“ªä¸ªè¾¹ç¼˜ï¼Œå…ƒç´ çš„é¡¶éƒ¨å°†ä¸å¯è§åŒºåŸŸçš„é¡¶éƒ¨è¾¹ç¼˜å¯¹å‡†ï¼Œæˆ–è€…å…ƒç´ çš„åº•éƒ¨è¾¹ç¼˜å°†ä¸å¯è§åŒºåŸŸçš„åº•éƒ¨è¾¹ç¼˜å¯¹å‡†ã€‚ 1234567891011121314window.addEventListener('resize', function() { if ( document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA' ) { window.setTimeout(function() { if ('scrollIntoView' in document.activeElement) { document.activeElement.scrollIntoView(false) } else { document.activeElement.scrollIntoViewIfNeeded(false) } }, 0) }}) onkeyUp å’Œ onKeydown å…¼å®¹æ€§é—®é¢˜IOS ä¸­ input é”®ç›˜äº‹ä»¶ keyupã€keydownã€ç­‰æ”¯æŒä¸æ˜¯å¾ˆå¥½, ç”¨ input ç›‘å¬é”®ç›˜ keyup äº‹ä»¶ï¼Œåœ¨å®‰å“æ‰‹æœºæµè§ˆå™¨ä¸­æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ ios æ‰‹æœºæµè§ˆå™¨ä¸­ç”¨è¾“å…¥æ³•è¾“å…¥ä¹‹åï¼Œå¹¶æœªç«‹åˆ»ç›¸åº” keyup äº‹ä»¶ IOS12 è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜å®šä½æ‰¾åˆ°é—®é¢˜æ˜¯ fastclick.js å¯¹ IOS12 çš„å…¼å®¹æ€§ï¼Œå¯åœ¨ fastclick.js æºç æˆ–è€… main.js åšä»¥ä¸‹ä¿®æ”¹ 12345678910111213141516FastClick.prototype.focus = function(targetElement) { var length if ( deviceIsIOS &amp;&amp; targetElement.setSelectionRange &amp;&amp; targetElement.type.indexOf('date') !== 0 &amp;&amp; targetElement.type !== 'time' &amp;&amp; targetElement.type !== 'month' ) { length = targetElement.value.length targetElement.setSelectionRange(length, length) targetElement.focus() } else { targetElement.focus() }} IOS é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡ç”¨å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½é€šè¿‡ç›‘å¬é”®ç›˜å›è½æ—¶é—´æ»šåŠ¨åˆ°åŸæ¥çš„ä½ç½® 123456789101112131415window.addEventListener('focusout', function() { window.scrollTo(0, 0)})//inputè¾“å…¥æ¡†å¼¹èµ·è½¯é”®ç›˜çš„è§£å†³æ–¹æ¡ˆã€‚var bfscrolltop = document.body.scrollTop$('input') .focus(function() { document.body.scrollTop = document.body.scrollHeight //console.log(document.body.scrollTop); }) .blur(function() { document.body.scrollTop = bfscrolltop //console.log(document.body.scrollTop); }) IOS ä¸‹ fixed å¤±æ•ˆçš„åŸå› è½¯é”®ç›˜å”¤èµ·åï¼Œé¡µé¢çš„ fixed å…ƒç´ å°†å¤±æ•ˆï¼Œå˜æˆäº† absoluteï¼Œæ‰€ä»¥å½“é¡µé¢è¶…è¿‡ä¸€å±ä¸”æ»šåŠ¨æ—¶ï¼Œå¤±æ•ˆçš„ fixed å…ƒç´ å°±ä¼šè·Ÿéšæ»šåŠ¨äº†ã€‚ä¸ä»…é™äº type=text çš„è¾“å…¥æ¡†ï¼Œå‡¡æ˜¯è½¯é”®ç›˜ï¼ˆæ¯”å¦‚æ—¶é—´æ—¥æœŸé€‰æ‹©ã€select é€‰æ‹©ç­‰ç­‰ï¼‰è¢«å”¤èµ·ï¼Œéƒ½ä¼šé‡åˆ°åŒæ ·åœ°é—®é¢˜ã€‚ è§£å†³æ–¹æ³•: ä¸è®©é¡µé¢æ»šåŠ¨ï¼Œè€Œæ˜¯è®©ä¸»ä½“éƒ¨åˆ†è‡ªå·±æ»šåŠ¨,ä¸»ä½“éƒ¨åˆ†é«˜åº¦è®¾ä¸º 100%ï¼Œoverflow:scroll 1234567891011121314151617181920212223242526&lt;head&gt; ... &lt;style&gt; .warper { position: absolute; width: 100%; left: 0; right: 0; top: 0; bottom: 0; overflow-y: scroll; -webkit-overflow-scrolling: touch; /* è§£å†³iosæ»‘åŠ¨ä¸æµç•…é—®é¢˜ */ } .fix-bottom { position: fixed; bottom: 0; width: 100%; } &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class='warper'&gt; &lt;div class='main'&gt;&lt;/div&gt; &lt;div&gt; &lt;div class=&quot;fix-bottom&quot;&gt;&lt;/div&gt;&lt;/body&gt;","link":"/3.h5%E9%80%82%E9%85%8D%E8%AE%A1%E7%AE%97/"},{"title":"CSSå±æ€§åˆå§‹åŒ–","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108/*css å±æ€§åˆå§‹åŒ– */html,body,ul,li,ol,dl,dd,dt,p,h1,h2,h3,h4,h5,h6,form,fieldset,legend,img { margin: 0; padding: 0;}fieldset,img,input,button { /*fieldsetç»„åˆè¡¨å•ä¸­çš„ç›¸å…³å…ƒç´ */ border: none; padding: 0; margin: 0; outline-style: none;}ul,ol { list-style: none;}input { padding-top: 0; padding-bottom: 0; font-family: &quot;SimSun&quot;, &quot;å®‹ä½“&quot;;}select,input { vertical-align: middle;}select,input,textarea { margin: 0;}textarea { resize: none;}/*é˜²æ­¢å¤šè¡Œæ–‡æœ¬æ¡†æ‹–åŠ¨*/img { border: 0; vertical-align: middle;}/* å»æ‰å›¾ç‰‡ä½æµ‹é»˜è®¤çš„3åƒç´ ç©ºç™½ç¼éš™*/table { border-collapse: collapse;}.clearfix:before,.clearfix:after { content: &quot;&quot;; display: table;}.clearfix:after { clear: both;}.clearfix { *zoom: 1;}a { text-decoration: none;}h1,h2,h3,h4,h5,h6 { text-decoration: none; font-weight: normal; font-size: 100%;}s,i,em { font-style: normal; text-decoration: none;} 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133* { margin: 0; padding: 0;}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video { margin: 0; padding: 0; border: 0;}/* HTML5 display-role reset for older browsers */article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section { display: block;}body { line-height: 1;}ol,ul { list-style: none;}blockquote,q { quotes: none;}blockquote:before,blockquote:after,q:before,q:after { content: ''; content: none;}table { border-collapse: collapse; border-spacing: 0;}","link":"/CSS%E5%B1%9E%E6%80%A7%E5%88%9D%E5%A7%8B%E5%8C%96/"},{"title":"å½’çº³ä¸€ä¸‹å‡ ä¸ªå¸¸ç”¨çš„CSSæ»šåŠ¨å±æ€§","text":"Scroll SnapScroll Snapså¯ä»¥ç”¨äºåˆ›å»ºå¹³æ»‘æ»šåŠ¨çš„å®¹å™¨ï¼Œæ—¨åœ¨ä¸ºå¼€å‘è€…æä¾›è‰¯å¥½æ§åˆ¶çš„æ»šåŠ¨ä½“éªŒ scroll-behaviorscroll-behaviorå¯ä»¥è®©å®¹å™¨è¿›è¡Œé”šç‚¹å®šä½æ—¶ï¼Œæˆ–è€… JS è®¾ç½® scrollLeft/scrollTop æ»šåŠ¨è·ç¦»æ—¶å€™è¡¨ç°ä¸ºå¹³æ»‘å®šä½ã€‚ 123.scroll-container { scroll-behavior: smooth;} overscroll-behavioroverscroll-behaviorå±æ€§å¯ä»¥è®©æ»šåŠ¨åµŒå¥—æ—¶çˆ¶æ»šåŠ¨ä¸è§¦å‘ï¼Œæ¯”æ–¹è¯´å¼¹æ¡†ä¸­çš„æ»šåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨çš„æ—¶å€™ï¼Œé¡µé¢ä¸­çš„æ»šåŠ¨æ¡ä¸ä¼šç§»åŠ¨ autoï¼šé»˜è®¤å€¼ containï¼šé»˜è®¤æ»šåŠ¨è¾¹ç•Œä¸å˜ï¼Œä¸´è¿‘æ»šåŠ¨åŒºåŸŸä¸ä¼šè¢«æ»šåŠ¨é“¾å½±å“åˆ°ï¼Œæ¯”å¦‚å¯¹è¯æ¡†åæ–¹çš„é¡µé¢ä¸ä¼šæ»šåŠ¨ noneï¼šä¸´è¿‘æ»šåŠ¨åŒºåŸŸä¸å—åˆ°æ»šåŠ¨é“¾å½±å“ï¼Œè€Œä¸”é»˜è®¤çš„æ»šåŠ¨åˆ°è¾¹ç•Œçš„è¡¨ç°ä¹Ÿè¢«é˜»æ­¢ã€‚ overflow-anchor1overflow-anchor: auto | none ç”¨äºæŒ‡å®šæµè§ˆå™¨æ»šåŠ¨é”šå®šçš„è¡Œä¸ºï¼Œé€šå¸¸è¡¨ç°ä¸ºæ‰§è¡Œæ»šåŠ¨é”šå®šï¼›overflow-anchor:noneåˆ™è¡¨ç¤ºç¦æ­¢æ»šåŠ¨é”šå®šçš„è¡Œä¸ºã€‚ scrollbar-widthscrollbar-width å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰æ»šåŠ¨æ¡çš„å®½åº¦ï¼Œä¸è¿‡ä¸èƒ½æŒ‡å®šå…·ä½“æ•°å€¼ï¼Œåªèƒ½æ˜¯æ­£å¸¸ï¼ˆ17pxï¼‰ï¼Œç»†ï¼ˆ8pxï¼‰å’Œæ²¡æœ‰ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š 1scrollbar-width: auto | thin | none; ä¸»è¦é’ˆå¯¹ windows ç³»ç»Ÿä¸‹çš„ Firefox æµè§ˆå™¨ï¼Œå› ä¸º Mac OS X æˆ–iOS æ“ä½œç³»ç»Ÿæ»šåŠ¨æ¡é»˜è®¤å°±ä¸å æ®å®½åº¦ï¼Œæ²¡å¿…è¦ä½¿ç”¨è¿™ä¸ªï¼Œè€Œ Chrome æµè§ˆå™¨å¯ä»¥ä½¿ç”¨ -webkit-scrollbar ä¼ªå…ƒç´ è‡ªå®šä¹‰æ»šåŠ¨æ¡çš„å®½åº¦ï¼Œç”¨ä¸åˆ° scrollbar-width è®¾ç½®ã€‚ scrollbar-colorscrollbar-color å¯ä»¥è®¾ç½®æ»šåŠ¨æ¡çš„é¢œè‰²ï¼Œå’Œ scrollbar-width ä¸€æ ·ï¼Œä»… Firefox æµè§ˆå™¨æ”¯æŒï¼Œè¯­æ³•å¦‚ä¸‹ï¼š 1scrollbar-color: auto | æ»‘æ†é¢œè‰² è½¨é“é¢œè‰²; å’Œ scrollbar-width å±æ€§ä¸€èµ·ï¼Œå¡«è¡¥äº† Firefox æµè§ˆå™¨æ»šåŠ¨æ¡æ ·å¼æ— æ³•è‡ªå®šä¹‰çš„ç©ºç™½ã€‚ ä¾‹å¦‚ï¼š 1234.container { scrollbar-width: thin; scrollbar-color: #0009 transparent;} scrollbar-gutterscrollbar-gutter å¯ä»¥è®©æ»šåŠ¨æ¡å‡ºç°çš„æ—¶å€™å†…å®¹ä¸æ™ƒåŠ¨ã€‚ å®ç°åŸç†æ˜¯æŠŠæ»šåŠ¨æ¡çš„ä½ç½®æå‰é¢„ç•™å¥½ï¼ˆç©ºç™½ï¼‰ ::-webkit-scrollbarç”¨äºè°ƒæ•´æ»šåŠ¨æ¡æ ·å¼çš„å±æ€§ ::-webkit-scrollbarâ€”â€”æ•´ä¸ªæ»šåŠ¨æ¡ã€‚ ::-webkit-scrollbar-buttonâ€”â€”æ»šåŠ¨æ¡ä¸Šçš„æŒ‰é’®ï¼ˆä¸Šä¸‹ç®­å¤´ï¼‰ã€‚ ::-webkit-scrollbar-thumbâ€”â€”æ»šåŠ¨æ¡ä¸Šçš„æ»šåŠ¨æ»‘å—ã€‚ ::-webkit-scrollbar-trackâ€”â€”æ»šåŠ¨æ¡è½¨é“ã€‚ ::-webkit-scrollbar-track-pieceâ€”â€”æ»šåŠ¨æ¡æ²¡æœ‰æ»‘å—çš„è½¨é“éƒ¨åˆ†ã€‚ ::-webkit-scrollbar-cornerâ€”â€”å½“åŒæ—¶æœ‰å‚ç›´æ»šåŠ¨æ¡å’Œæ°´å¹³æ»šåŠ¨æ¡æ—¶äº¤æ±‡çš„éƒ¨åˆ†ã€‚é€šå¸¸æ˜¯æµè§ˆå™¨çª—å£çš„å³ä¸‹è§’ã€‚ ::-webkit-resizerâ€”â€”å‡ºç°åœ¨æŸäº›å…ƒç´ åº•è§’çš„å¯æ‹–åŠ¨è°ƒæ•´å¤§å°çš„æ»‘å—ã€‚","link":"/CSS%E6%BB%9A%E5%8A%A8%E5%B1%9E%E6%80%A7/"},{"title":"CSSéšè®°","text":"1.FlexFlexå¸ƒå±€æ˜¯å°†å…ƒç´ è¿›è¡Œæ°´å¹³æˆ–è€…å‚ç›´æ’åˆ—çš„ä¸€ç»´å¸ƒå±€æ–¹æ¡ˆï¼Œé€šè¿‡è®¾ç½®displayä¸ºflexæˆ–inline-flexè¿›è¡Œå¼€å¯ã€‚é‡‡ç”¨Flexå¸ƒå±€çš„å®¹å™¨ï¼Œé»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼Œæ°´å¹³çš„ä¸»è½´å’Œå‚ç›´çš„äº¤å‰è½´ï¼Œå®¹å™¨å†…çš„å­å…ƒç´ é»˜è®¤æˆä¸ºå®¹å™¨çš„æˆå‘˜ï¼Œç§°ä¸ºé¡¹ç›®ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ç§°ä¸ºmain startï¼Œç»“æŸä½ç½®ç§°ä¸ºend startï¼Œäº¤å‰è½´çš„å¼€å§‹ä½ç½®å«cross startï¼Œç»“æŸä½ç½®å«cross end Flexé¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross sizeã€‚ Flexå±æ€§åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†ä½œäºäºå®¹å™¨ï¼Œå¦ä¸€éƒ¨åˆ†ä½œäºäºå®¹å™¨å†…çš„é¡¹ç›® å®¹å™¨å±æ€§ å±æ€§ åŠŸèƒ½ flex-direction å†³å®šä¸»è½´çš„æ–¹å‘ `row flex-wrap å†³å®šä¸»è½´ä¸Šçš„é¡¹ç›®æ’åˆ—ä¸ä¸‹æ—¶ï¼Œæ˜¯å¦æ¢è¡Œæ’åˆ— `nowrap flex-flow flex-directionå’Œflex-wrapçš„ç®€å†™å½¢å¼ã€‚é»˜è®¤å€¼ï¼šrow nowrap justify-content å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼å’Œé¢å¤–ç©ºé—´çš„åˆ†é…æ–¹å¼ `flex-start align-item å†³å®šé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ `stretch align-content å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ï¼Œè®¾ç½®äº†flex-wrapå±æ€§ä¸ºwrapåalign-contentå±æ€§æ‰èƒ½ç”Ÿæ•ˆ `stretch é¡¹ç›®å±æ€§ å±æ€§ åŠŸèƒ½ order å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œæ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ï¼Œå¯ä»¥æ˜¯è´Ÿæ•° flex-grow æ‰©å±•è§„åˆ™ï¼Œè§„å®šflexå®¹å™¨ä¸­å‰©ä½™çš„ç©ºé—´åº”è¯¥æ‹¿å‡ºå¤šå°‘åˆ†é…ç»™é¡¹ç›®ï¼Œé»˜è®¤ä¸º0ï¼Œæœ€å¤§å€¼æ˜¯1ï¼Œè¶…è¿‡1æŒ‰ç…§1æ¥æ‰©å±• flex-shrink è§„å®šäº†flexé¡¹ç›®çš„æ”¶ç¼©è§„åˆ™ï¼Œflexé¡¹ç›®ä»…åœ¨é»˜è®¤å®½åº¦ä¹‹å’Œå¤§äºå®¹å™¨çš„æ—¶å€™æ‰ä¼šå‘ç”Ÿæ”¶ç¼©ï¼Œé»˜è®¤å€¼æ˜¯1 flex-basis æŒ‡å®šäº†å­é¡¹åœ¨å®¹å™¨ä¸»è½´æ–¹å‘ä¸Šçš„åˆå§‹å¤§å°ï¼Œä¼˜å…ˆçº§é«˜äºè‡ªèº«çš„å®½åº¦widthï¼Œé»˜è®¤å€¼æ˜¯auto flex è¯¥å±æ€§æ˜¯flex-grow flex-shrink flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼æ˜¯0 1 autoï¼Œåä¸¤ä¸ªå€¼å¯é€‰ align-self è¯¥å±æ€§ç”¨äºè®¾ç½®å•ä¸ªé¡¹ç›®åœ¨äº¤å‰è½´çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemå±æ€§ `stretch 2.CSSé€‰æ‹©å™¨ é€‰æ‹©å™¨ æ ¼å¼ ä¼˜å…ˆçº§æƒé‡ idé€‰æ‹©å™¨ #id 100 ç±»é€‰æ‹©å™¨ #class 10 ä¼ªç±»é€‰æ‹©å™¨ li:last-child 10 å±æ€§é€‰æ‹©å™¨ a[href=â€aaaâ€] 10 æ ‡ç­¾é€‰æ‹©å™¨ div 1 ä¼ªå…ƒç´ é€‰æ‹©å™¨ li::after 1 ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ h1+p 0 å­å…ƒç´ é€‰æ‹©å™¨ ul &gt; li 0 åä»£é€‰æ‹©å™¨ li a 0 é€šé…ç¬¦é€‰æ‹©å™¨ * 0 å¯¹äºæ ·å¼çš„ä¼˜å…ˆçº§ï¼š !importantï¼šä¼˜å…ˆçº§æœ€é«˜ å†…è”æ ·å¼ï¼š1000 idé€‰æ‹©å™¨ï¼š100 ç±»ï¼Œä¼ªç±»ï¼Œå±æ€§é€‰æ‹©å™¨ï¼š10 å…ƒç´ é€‰æ‹©å™¨ï¼Œä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼š1 é€šé…ç¬¦é€‰æ‹©å™¨ï¼Œåä»£é€‰æ‹©å™¨ï¼Œå…„å¼Ÿé€‰æ‹©å™¨ï¼š0 3.è§„åˆ™ @namespaceï¼šå‘Šè¯‰CSSå¼•æ“å¿…é¡»è€ƒè™‘XMLå‘½åç©ºé—´ @mediaï¼šåª’ä½“æŸ¥è¯¢ @pageï¼šæè¿°æ‰“å°æ–‡æ¡£æ—¶å¸ƒå±€çš„å˜åŒ– @font-faceï¼šæè¿°å°†ä¸‹è½½çš„å¤–éƒ¨å­—ä½“ @keyframesï¼šæè¿°CSSåŠ¨ç”»å…³é”®å¸§ @importï¼šç”¨äºå‘Šè¯‰CSSå¼•æ“å¼•å…¥ä¸€ä¸ªå¤–éƒ¨æ ·å¼è¡¨ linkå’Œ@importçš„åŒºåˆ« linkæ˜¯HTMLæ ‡ç­¾ï¼Œé™¤äº†èƒ½å¯¼å…¥CSSå¤–ï¼Œè¿˜å¯ä»¥å¯¼å…¥å…¶ä»–èµ„æºï¼Œæ¯”å¦‚å›¾ç‰‡ï¼Œè„šæœ¬å’Œå­—ä½“ç­‰ï¼›è€Œ@importæ˜¯CSSè¯­æ³•ï¼Œåªèƒ½ç”¨æ¥å¯¼å…¥CSS linkå¯¼å…¥çš„æ ·å¼ä¼šåœ¨é¡µé¢åŠ è½½æ—¶åŒæ—¶åŠ è½½ï¼Œ@importå¯¼å…¥çš„æ ·å¼éœ€è¦ç­‰é¡µé¢åŠ è½½å®Œæˆåå†åŠ è½½ linkæ²¡æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œ@importä¸å…¼å®¹ie5ä»¥ä¸‹ linkå¯ä»¥é€šè¿‡jsæ“ä½œè®¿é—® 4.ç»§æ‰¿æ€§ å¯ç»§æ‰¿å±æ€§ï¼šfont-family font-style font-size font-weight color ä¸å¯ç»§æ‰¿å±æ€§ï¼šweigth height margin padding 5.æ¸…é™¤æµ®åŠ¨æµ®åŠ¨çš„å…ƒç´ ä¼šè„±ç¦»æ–‡æ¡£æµï¼Œå¯¼è‡´çˆ¶å…ƒç´ é«˜åº¦å¡Œé™· é€šè¿‡BFCæ¸…é™¤æµ®åŠ¨ 123.parent { overflow: hidden;} é€šè¿‡clearæ¸…é™¤æµ®åŠ¨ 12345678.clearfix { zoom: 1;}.clearfix::after { content: &quot;&quot;; display: block; clear: both;} 6.æ¶ˆé™¤æµè§ˆå™¨é»˜è®¤æ ·å¼12345678910111213141516171819202122232425262728293031323334353637383940414243html, body, div, span, applet, object, iframe,h1, h2, h3, h4, h5, h6, p, blockquote, pre,a, abbr, acronym, address, big, cite, code,del, dfn, em, img, ins, kbd, q, s, samp,small, strike, strong, sub, sup, tt, var,b, u, i, center,dl, dt, dd, ol, ul, li,fieldset, form, label, legend,table, caption, tbody, tfoot, thead, tr, th, td,article, aside, canvas, details, embed,figure, figcaption, footer, header, hgroup,menu, nav, output, ruby, section, summary,time, mark, audio, video { margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline;}/* HTML5 display-role reset for older browsers */article, aside, details, figcaption, figure,footer, header, hgroup, menu, nav, section { display: block;}body { line-height: 1;}ol, ul { list-style: none;}blockquote, q { quotes: none;}blockquote:before, blockquote:after,q:before, q:after { content: ''; content: none;}table { border-collapse: collapse; border-spacing: 0;} 7.é•¿æ–‡æœ¬å¤„ç† å­—ç¬¦è¶…å‡ºéƒ¨åˆ†æ¢è¡Œ 1overflow-wrap: break-word; å­—ç¬¦è¶…å‡ºéƒ¨åˆ†ä½¿ç”¨è¿æ¥å­—ç¬¦ 1hyphens: auto; å•è¡Œæ–‡æœ¬è¶…å‡ºçœç•¥ 123overflow: hidden;text-overflow: ellipsis;white-space: nowrap; å¤šè¡Œæ–‡æœ¬è¶…å‡ºçœç•¥ 12345overflow: hidden;text-overflow: ellipsis;display: -webkit-box-;-webkit-line-clamp: 2;-webkit-box-orient: vertical; 8.line-heightå’Œheightçš„åŒºåˆ«heightå°±æ˜¯å…ƒç´ çš„é«˜åº¦å€¼ line-heightæ˜¯æ¯ä¸€è¡Œæ–‡å­—çš„é«˜åº¦ï¼Œå¦‚æœæ–‡å­—æ¢è¡Œï¼Œåˆ™æ•´ä¸ªæ ¼å­é«˜åº¦ä¼šå¢å¤§ 9.BFCå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå†³å®šäº†å…ƒç´ å¦‚ä½•å¯¹å…¶å†…å®¹è¿›è¡Œå®šä½ï¼Œä»¥åŠä¸å…¶ä»–å…ƒç´ çš„å…³ç³»å’Œç›¸äº’ä½œç”¨ã€‚ åˆ›å»ºè§„åˆ™ï¼š æ ¹å…ƒç´  floatä¸æ˜¯noneçš„å…ƒç´  ç»å¯¹å®šä½çš„å…ƒç´ (positionä¸ºabsoluteæˆ–fixed) displayå–å€¼ä¸ºinline-block table-cell table-caption inline-flexä¹‹ä¸€çš„å…ƒç´  overflowä¸æ˜¯visibleçš„å…ƒç´  ä½œç”¨ï¼š æ¸…é™¤æµ®åŠ¨ é˜»æ­¢çˆ¶å­å…ƒç´ çš„marginæŠ˜å  10.å±…ä¸­æ–¹å¼å•è¡Œçš„æ–‡æœ¬ã€inline æˆ– inline-block å…ƒç´  æ°´å¹³å±…ä¸­ 1text-align: center å‚ç›´å±…ä¸­ 123456789.single-line { padding-top: 10px; padding-bottom: 10px;}// æˆ–.single-line { height: 100px; line-height: 100px;} å›ºå®šå®½é«˜çš„å—çº§ç›’å­ absolute+è´Ÿmargin 1234567891011.parent { position: relative;}.child { width: 100px; height: 100px; position: absolute; left: 50%; top: 50%; margin: -50px 0 0 -50px} absolute + margin auto 12345678910111213.parent { position: relative;}.child { width: 100px; height: 100px; position: absolute; left: 0; top: 0; right: 0; bottom: 0; margin: auto;} absolute + calc 12345678910.parent { position: relative;}.child { width: 100px; height: 100px; position: absolute; left: calc(50% - 50px); top: calc(50% - 50px)} ä¸å›ºå®šå®½é«˜çš„å—çº§ç›’å­ absolute + transform 123456789.praent { position: relative;}.child { position: absolute; left: 50%; top: 50%; transform: translate(-50%,-50%)} line-height + vertical-align 123456789.parent { line-height: 150px; text-aligin: center;}.child { display: inline-block; line-height: initial; vertical-align: middle;} writing-mode 12345678910111213.parent { writing-mode: vertical-lr; text-align: center;}.middle { display: inline-block; writing-mode: horizontal-tb; width: 100%}.child { display: inline-block;} table-cell 12345678.parent { display: table-cell; vertical-aligin:middle; text-align: center;}.child { display: inline-block;} flex 12345.parent { display: flex; justify-content: center; align-items: center} grid 1234567.parent { display: grid;}.child { justify-self: center; align-self: center;} 11.å¸¸ç”¨å¸ƒå±€åŒæ å¸ƒå±€(è¾¹æ å®šå®½ä¸»æ è‡ªé€‚åº”) float+overflow(BFCåŸç†) 1234567aside { float: left; width: 200px}main { overflow: hidden;} float+margin 1234567aside { float: left; width: 200px;}main { margin-left:200px} flex 123456789layout { display: flex;}aside { width:200px}main { flex-grow: 1} grid 1234layout { display: grid; grid-template-columns: 200px auto;} ä¸‰æ å¸ƒå±€(ä¸¤ä¾§å®šå®½ä¸»æ è‡ªé€‚åº”) åœ£æ¯å¸ƒå±€ 123456789101112131415161718192021layout { padding: 0 200px;}main { float: left; width: 100%;}aside { float: left; width: 200px;}left { position: relative; left: -200px; margin-left: -100%;}right { position: relative; right: -200px; margin-left: -200px} åŒé£ç¿¼å¸ƒå±€ 1234567891011121314151617main { float: left; width: 100%;}.inner { margin: 0 200px;}aside { float: left; width: 200px;}.left { margin-left: -100%;}.right { margin-left: -200px;} float+overflow 123456789101112aside { width: 200px;}left { float: left;}right { float: right;}main { overflow: hidden;} flex 123456789layout { display: flex;}aside { width: 200px;}main { flex-grow: 1;} grid 1234layout { display: grid; grid-template-columns: 200px auto 200px} 12.Gridç»™&lt;div&gt;è¿™ç±»å—çŠ¶å…ƒç´ å…ƒç´ è®¾ç½®display:gridæˆ–è€…ç»™&lt;span&gt;è¿™ç±»å†…è”å…ƒç´ è®¾ç½®display:inline-gridï¼ŒGridå¸ƒå±€å³åˆ›å»º æ­¤æ—¶è¯¥divå°±æ˜¯gridå®¹å™¨ï¼Œå…¶å­å…ƒç´ ç§°ä¸ºgridå­é¡¹ å®¹å™¨å±æ€§ å­é¡¹å±æ€§ grid-template-columns grid-column-start grid-template-rows grid-column-end grid-template-areas grid-row-start grid-template grid-row-end grid-column-gap grid-column grid-gap grid-row justify-items grid-area align-items justify-self place-items align-self justify-content place-self align-content place-content grid-auto-columns grid-auto-rows grid-auto-flow grid 13.nth-of-typeå’Œnth-childçš„åŒºåˆ« nth-of-typeï¼š:nth-of-type(n) é€‰æ‹©å™¨åŒ¹é…å±äºçˆ¶å…ƒç´ çš„ç‰¹å®šç±»å‹çš„ç¬¬ N ä¸ªå­å…ƒç´ çš„æ¯ä¸ªå…ƒç´ ã€‚n å¯ä»¥æ˜¯æ•°å­—ã€å…³é”®è¯æˆ–å…¬å¼ 12345678910111213141516&lt;style&gt;div&gt;p:nth-of-type(2){ color:red;}&lt;/style&gt;&lt;div&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬1ä¸ªæ®µè½&lt;/p&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬2ä¸ªæ®µè½&lt;/p&gt;&lt;!--ç¬¦åˆæ¡ä»¶ï¼š1ã€æ˜¯ç‰¹å®šå…ƒç´ ç±»å‹&lt;p&gt;ï¼Œ2ã€æ˜¯çˆ¶å…ƒç´ &lt;div&gt;çš„ç¬¬äºŒä¸ª&lt;p&gt;å…ƒç´ ã€‚è¿™é‡Œè¢«é€‰æ‹©ï¼Œä¼šå˜æˆçº¢è‰²--&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬3ä¸ªæ®µè½&lt;/p&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬1ä¸ªæ®µè½&lt;/p&gt; &lt;blockquote&gt;ç¬¬1ä¸ªå¼•ç”¨&lt;/blockquote&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬2ä¸ªæ®µè½&lt;/p&gt;&lt;!--ç¬¦åˆæ¡ä»¶ï¼š1ã€æ˜¯ç‰¹å®šå…ƒç´ ç±»å‹&lt;p&gt;ï¼Œ2ã€æ˜¯çˆ¶å…ƒç´ &lt;div&gt;çš„ç¬¬äºŒä¸ª&lt;p&gt;å…ƒç´ ã€‚è¿™é‡Œè¢«é€‰æ‹©ï¼Œä¼šå˜æˆçº¢è‰²--&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬3ä¸ªæ®µè½&lt;/p&gt;&lt;/div&gt; nth-childï¼š:nth-child(n) é€‰æ‹©å™¨åŒ¹é…å±äºå…¶çˆ¶å…ƒç´ çš„ç¬¬ N ä¸ªå­å…ƒç´ ï¼Œä¸è®ºå…ƒç´ çš„ç±»å‹ã€‚n å¯ä»¥æ˜¯æ•°å­—ã€å…³é”®è¯æˆ–å…¬å¼ã€‚ æ³¨æ„ï¼šå¦‚æœç¬¬ N ä¸ªå­å…ƒç´ ä¸é€‰æ‹©çš„å…ƒç´ ç±»å‹ä¸åŒåˆ™æ ·å¼æ— æ•ˆï¼ 123456789101112131415&lt;style&gt;div&gt;p:nth-child(2){ color:red;}&lt;/style&gt;&lt;div&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬1ä¸ªæ®µè½&lt;/p&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬2ä¸ªæ®µè½&lt;/p&gt;&lt;!--ç¬¦åˆæ¡ä»¶ï¼š1ã€æ˜¯&lt;p&gt;å…ƒç´ ï¼Œ2ã€çˆ¶å…ƒç´ &lt;div&gt;çš„ç¬¬äºŒä¸ªå…ƒç´ ã€‚è¿™é‡Œè¢«é€‰æ‹©ï¼Œä¼šå˜æˆçº¢è‰²ã€‚--&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬3ä¸ªæ®µè½&lt;/p&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬1ä¸ªæ®µè½&lt;/p&gt; &lt;span&gt;æˆ‘æ˜¯ç¬¬1ä¸ªæ–‡æœ¬&lt;/span&gt;&lt;!--ä¸ç¬¦åˆæ¡ä»¶ï¼šä¸æ˜¯&lt;p&gt;å…ƒç´ ï¼Œæ²¡æœ‰è¢«é€‰æ‹©--&gt; &lt;p&gt;æˆ‘æ˜¯ç¬¬2ä¸ªæ®µè½&lt;/p&gt;&lt;/div&gt; æ¯›ç»ç’ƒç‰¹æ•ˆå¯ä»¥ä½¿ç”¨ CSS ä¸­çš„ backdrop-filter å±æ€§æ¥å®ç°æ¯›ç»ç’ƒç‰¹æ•ˆï¼šbackdrop-filter å±æ€§å¯ä»¥ä¸ºä¸€ä¸ªå…ƒç´ åé¢åŒºåŸŸæ·»åŠ å›¾å½¢æ•ˆæœï¼ˆå¦‚æ¨¡ç³Šæˆ–é¢œè‰²åç§»ï¼‰ã€‚å› ä¸ºå®ƒé€‚ç”¨äºå…ƒç´ _èƒŒå_çš„æ‰€æœ‰å…ƒç´ ï¼Œä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œå¿…é¡»ä½¿å…ƒç´ æˆ–å…¶èƒŒæ™¯è‡³å°‘éƒ¨åˆ†é€æ˜ã€‚ 123.login { backdrop-filter: blur(5px);} å°†æ–‡æœ¬è®¾ä¸ºå¤§å†™æˆ–å°å†™å¤§å†™æˆ–å°å†™å­—æ¯å¯ä»¥ä¸å¿…åœ¨ HTMLä¸­è®¾ç½®ã€‚å¯ä»¥åœ¨ CSS ä¸­ä½¿ç”¨text-transformå±æ€§æ¥å¼ºåˆ¶ä»»ä½•æ–‡æœ¬ä¸ºå¤§å†™æˆ–å°å†™ã€‚text-transform å±æ€§ä¸“é—¨ç”¨äºæ§åˆ¶æ–‡æœ¬çš„å¤§å°å†™ï¼Œå½“å€¼ä¸ºuppercaseæ—¶ä¼šå°†æ–‡æœ¬è½¬ä¸ºå¤§å†™ï¼Œå½“å€¼ä¸ºcapitalizeæ—¶ä¼šå°†æ–‡æœ¬è½¬åŒ–ä¸ºå°å†™ï¼Œå½“å€¼ä¸ºcapitalizeæ—¶ä¼šå°†æ¯ä¸ªå•è¯ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚ 123456789/* å¤§å†™ */.upper { text-transform: uppercase;}/* å°å†™ */.lower { text-transform: lowercase;} å®ç°é¦–å­—æ¯ä¸‹æ²‰å¯ä»¥ä½¿ç”¨::first-letteræ¥å®ç°æ–‡æœ¬é¦–å­—æ¯çš„ä¸‹æ²‰ï¼š:first-letteré€‰æ‹©å™¨ç”¨æ¥æŒ‡å®šå…ƒç´ ç¬¬ä¸€ä¸ªå­—æ¯çš„æ ·å¼ï¼Œå®ƒä»…é€‚ç”¨äºåœ¨å—çº§å…ƒç´ ä¸­ã€‚ 1234p.texts:first-letter { font-size: 200%; color: #8A2BE2;} å›¾ç‰‡æ–‡å­—ç¯ç»•shape-outside æ˜¯ä¸€ä¸ªå…è®¸è®¾ç½®å½¢çŠ¶çš„ CSS å±æ€§ã€‚å®ƒè¿˜æœ‰åŠ©äºå®šä¹‰æ–‡æœ¬æµåŠ¨çš„åŒºåŸŸï¼š 12345.any-shape { width: 300px; float: left; shape-outside: circle(50%);} èƒŒæ™¯æ··åˆæ¨¡å¼ä½¿ç”¨ background-blend-mode æ¥å®ç°å…ƒç´ èƒŒæ™¯çš„æ··åˆï¼š 123456789101112131415.blend-1 { background-image: url(https://duomly.nyc3.digitaloceanspaces.com/articles/coding/alps-lake.jpg); width: 100vw; height: 500px; background-size: cover;}.blend-2 { background-image: url(https://duomly.nyc3.digitaloceanspaces.com/articles/coding/alps-lake.jpg); width: 100vw; height: 500px; background-color: #20126f; background-size: cover; background-blend-mode: overlay;}","link":"/CSS%E9%9A%8F%E8%AE%B0/"}],"tags":[{"name":"HTML","slug":"HTML","link":"/tags/HTML/"},{"name":"CSS","slug":"CSS","link":"/tags/CSS/"},{"name":"Chromeè°ƒè¯•","slug":"Chromeè°ƒè¯•","link":"/tags/Chrome%E8%B0%83%E8%AF%95/"},{"name":"Git","slug":"Git","link":"/tags/Git/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","link":"/tags/%E5%89%8D%E7%AB%AF/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","link":"/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","link":"/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"},{"name":"é¢è¯•","slug":"é¢è¯•","link":"/tags/%E9%9D%A2%E8%AF%95/"},{"name":"nodejs","slug":"nodejs","link":"/tags/nodejs/"},{"name":"React","slug":"React","link":"/tags/React/"},{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯å·¥ç¨‹åŒ–","link":"/tags/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"}],"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","link":"/categories/%E5%89%8D%E7%AB%AF/"},{"name":"CSS","slug":"CSS","link":"/categories/CSS/"},{"name":"CSS","slug":"å‰ç«¯/CSS","link":"/categories/%E5%89%8D%E7%AB%AF/CSS/"},{"name":"Git","slug":"Git","link":"/categories/Git/"},{"name":"HTML","slug":"å‰ç«¯/HTML","link":"/categories/%E5%89%8D%E7%AB%AF/HTML/"},{"name":"JavaScript","slug":"å‰ç«¯/JavaScript","link":"/categories/%E5%89%8D%E7%AB%AF/JavaScript/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"å‰ç«¯/è®¾è®¡æ¨¡å¼","link":"/categories/%E5%89%8D%E7%AB%AF/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"DOM","slug":"å‰ç«¯/JavaScript/DOM","link":"/categories/%E5%89%8D%E7%AB%AF/JavaScript/DOM/"},{"name":"nodejs","slug":"nodejs","link":"/categories/nodejs/"},{"name":"React","slug":"React","link":"/categories/React/"},{"name":"å‰ç«¯å·¥ç¨‹åŒ–","slug":"å‰ç«¯/å‰ç«¯å·¥ç¨‹åŒ–","link":"/categories/%E5%89%8D%E7%AB%AF/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/"}],"pages":[]}